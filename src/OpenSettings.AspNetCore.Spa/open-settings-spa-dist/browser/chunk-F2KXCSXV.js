import{a as w}from"./chunk-4VZSEJXQ.js";import{B as o,N as g,R as u,U as h,Wb as n,Xb as d,Yb as l,i as c,jc as m,nc as f,p as a}from"./chunk-YYVWG2ID.js";var b=(()=>{let i=class i{constructor(t,r,e){this.httpClient=t,this.authService=r,this.headers=new n,this.destroy$=new c,this.route=e.controllerOptions.route,this.authService.isAuthenticated$.pipe(g(this.destroy$)).subscribe(s=>{this.headers=s?new n({Authorization:`${this.authService.token}`}):new n})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getTags(t){let r=this.route+"/v1/tags",e=new d;t.searchTerm&&(e=e.append("searchTerm",t.searchTerm)),t.hasMappings&&(e=e.append("hasMappings",t.hasMappings));let s=e.toString();return r+=s?"?"+s:"",this.httpClient.get(r,{headers:this.headers})}createTag(t){let r=this.route+"/v1/tags";return this.httpClient.post(r,t.body,{headers:this.headers})}getPaginatedTags(t){let r=this.route+"/v1/tags/paginated",e=new d;t.pageIndex&&(e=e.append("page",t.pageIndex)),t.pageSize&&(e=e.append("size",t.pageSize)),t.searchTerm&&(e=e.append("searchTerm",t.searchTerm)),t.searchBy&&(e=e.append("searchBy",t.searchBy)),t.sortBy&&(e=e.append("sortBy",t.sortBy),t.sortDirection===w.Desc&&(e=e.append("sortDirection",t.sortDirection)));let s=e.toString();return r+=s?"?"+s:"",this.httpClient.get(r,{headers:this.headers})}deleteUnmappedTags(){let t=this.route+"/v1/tags/unmapped";return this.httpClient.delete(t,{headers:this.headers})}getTagById(t){let r=this.route+"/v1/tags/"+t.tagIdOrSlug;return this.httpClient.get(r,{headers:this.headers})}getTagBySlug(t){let r=this.route+"/v1/tags/slug/"+t.tagIdOrSlug;return this.httpClient.get(r,{headers:this.headers})}updateTag(t){let r=this.route+"/v1/tags/"+t.tagId;return this.httpClient.put(r,t.body,{headers:this.headers}).pipe(o(e=>{if(e.status===409)return a(e.error);throw e}))}deleteTag(t){let r=this.route+"/v1/tags/"+t.tagId+"?rowVersion="+encodeURIComponent(t.rowVersion);return this.httpClient.delete(r,{headers:this.headers}).pipe(o(e=>{if(e.status===409)return a(e.error);throw e}))}updateTagSortOrder(t){let r=this.route+"/v1/tags/"+t.id+"/sort-order?ascent="+t.ascent+"&rowVersion="+encodeURIComponent(t.rowVersion);return this.httpClient.post(r,null,{headers:this.headers}).pipe(o(e=>{if(e.status===409)return a(e.error);throw e}))}dragTag(t){let r=this.route+"/v1/tags/"+t.sourceId+"/drag/"+t.targetId+"?ascent="+t.ascent+"&sourceRowVersion="+encodeURIComponent(t.sourceRowVersion);return this.httpClient.post(r,null,{headers:this.headers}).pipe(o(e=>{if(e.status===409)return a(e.error);throw e}))}reorder(){let t=this.route+"/v1/tags/reorder";return this.httpClient.post(t,null,{headers:this.headers}).pipe(o(r=>{if(r.status===409)return a(r.error);throw r}))}};i.\u0275fac=function(r){return new(r||i)(h(l),h(f),h(m))},i.\u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"});let p=i;return p})();export{b as a};
