import{a as p}from"./chunk-NNDRUWYZ.js";import{R as c,U as d}from"./chunk-YYVWG2ID.js";var s=function(n){return n[n.Custom=0]="Custom",n[n.Validation=1]="Validation",n[n.Exception=2]="Exception",n}(s||{});var w=(()=>{let a=class a{constructor(t){this.snackBar=t}internalError(t,o,i){if(t.length>1){let r=t.map(e=>`* ${e.description}`).join(`
`);return this.snackBar.open(`Errors occurred:
${r}`,i,{horizontalPosition:"right",verticalPosition:"top",duration:o})}else if(t.length===1){let r=t[0];if(r.type===s.Validation){let e=r.validationFailures.map(l=>`PropertyName: '${l.propertyName}', Message: '${l.message}'`).join(`
`);return this.snackBar.open(`${r.title}: ${r.description} ${e}`,i,{horizontalPosition:"right",verticalPosition:"top",duration:o})}else return this.snackBar.open(`${r.title}: ${r.description}`,i,{horizontalPosition:"right",verticalPosition:"top",duration:o})}return null}internalSimpleError(t,o,i){if(t.length>1){let r=t.map(e=>`* ${e}`).join(`
`);return this.snackBar.open(`Errors occurred:
${r}`,i,{horizontalPosition:"right",verticalPosition:"top",duration:o})}else if(t.length===1){let r=t[0];return this.snackBar.open(r,i,{horizontalPosition:"right",verticalPosition:"top",duration:o})}return null}error(t,o){return this.internalError(t,o,"Close")}errorWithRestart(t,o,i){return this.internalError(t,o,"Restart")?.afterDismissed().subscribe(r=>{(!i||r.dismissedByAction)&&window.location.reload()})}simpleError(t,o){return this.internalSimpleError([t],o,"Close")}simpleErrorWithRestart(t,o,i){return this.internalSimpleError([t],o,"Restart")?.afterDismissed().subscribe(r=>{(!i||r.dismissedByAction)&&window.location.reload()})}copyToClipboard(t){navigator.clipboard.writeText(t).then(()=>{this.snackBar.open("Copied to clipboard!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:1500})}).catch(o=>{})}download(t,o){let i=new Blob([t],{type:"application/json"}),r=document.createElement("a");r.href=window.URL.createObjectURL(i),r.download=`settings.${o}.json`,r.click()}upload(t){return new Promise((o,i)=>{if(t){let r=new FileReader;r.readAsText(t,"UTF-8"),r.onload=()=>{let e=r.result;o(e)},r.onerror=e=>{i(e)}}else i(new Error("No file provided"))})}};a.\u0275fac=function(o){return new(o||a)(d(p))},a.\u0275prov=c({token:a,factory:a.\u0275fac,providedIn:"root"});let n=a;return n})();export{w as a};
