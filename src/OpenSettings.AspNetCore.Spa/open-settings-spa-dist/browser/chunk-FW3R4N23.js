import{B as o,N as f,R as l,U as a,Wb as d,Xb as p,Yb as u,i as c,jc as m,nc as I,p as s}from"./chunk-YYVWG2ID.js";var B=(()=>{let r=class r{constructor(t,i,e){this.httpClient=t,this.authService=i,this.headers=new d,this.destroy$=new c,this.route=e.controllerOptions.route,this.authService.isAuthenticated$.pipe(f(this.destroy$)).subscribe(n=>{this.headers=n?new d({Authorization:`${this.authService.token}`}):new d})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getPaginatedIdentifiers(t){let i=this.route+"/v1/identifiers/paginated",e=new p;t.pageIndex&&(e=e.append("page",t.pageIndex)),t.pageSize&&(e=e.append("size",t.pageSize)),t.searchTerm&&(e=e.append("searchTerm",t.searchTerm)),t.searchBy&&(e=e.append("searchBy",t.searchBy)),t.sortBy&&(e=e.append("sortBy",t.sortBy),t.sortDirection&&(e=e.append("sortDirection",t.sortDirection)));let n=e.toString();return i+=n?"?"+n:"",this.httpClient.get(i,{headers:this.headers})}deleteUnmappedIdentifiers(){let t=this.route+"/v1/identifiers/unmapped";return this.httpClient.delete(t,{headers:this.headers})}getIdentifiers(t){let i=this.route+"/v1/identifiers",e=new p;t.searchTerm&&(e=e.append("searchTerm",t.searchTerm)),t.appId&&(e=e.append("appId",t.appId),t.isAppMapped&&(e=e.append("isAppMapped",t.isAppMapped)));let n=e.toString();return i+=n?"?"+n:"",this.httpClient.get(i,{headers:this.headers})}createIdentifier(t){let i=this.route+"/v1/identifiers";return this.httpClient.post(i,t.body,{headers:this.headers})}getIdentifierById(t){let i=this.route+"/v1/identifiers/"+t.identifierIdOrSlug;return this.httpClient.get(i,{headers:this.headers})}getIdentifierBySlug(t){let i=this.route+"/v1/identifiers/slug/"+t.identifierIdOrSlug;return this.httpClient.get(i,{headers:this.headers})}updateIdentifier(t){let i=this.route+"/v1/identifiers/"+t.identifierId;return this.httpClient.put(i,t.body,{headers:this.headers}).pipe(o(e=>{if(e.status===409)return s(e.error);throw e}))}deleteIdentifier(t){let i=this.route+"/v1/identifiers/"+t.identifierId+"?rowVersion="+encodeURIComponent(t.rowVersion);return this.httpClient.delete(i,{headers:this.headers}).pipe(o(e=>{if(e.status===409)return s(e.error);throw e}))}updateIdentifierSortOrder(t){let i=this.route+"/v1/identifiers/"+t.identifierId+"/sort-order?ascent="+t.ascent+"&rowVersion="+encodeURIComponent(t.rowVersion);return this.httpClient.post(i,null,{headers:this.headers}).pipe(o(e=>{if(e.status===409)return s(e.error);throw e}))}dragIdentifier(t){let i=this.route+"/v1/identifiers/"+t.sourceId+"/drag/"+t.targetId+"?ascent="+t.ascent+"&sourceRowVersion="+encodeURIComponent(t.sourceRowVersion);return this.httpClient.post(i,null,{headers:this.headers}).pipe(o(e=>{if(e.status===409)return s(e.error);throw e}))}reorder(){let t=this.route+"/v1/identifiers/reorder";return this.httpClient.post(t,null,{headers:this.headers}).pipe(o(i=>{if(i.status===409)return s(i.error);throw i}))}};r.\u0275fac=function(i){return new(i||r)(a(u),a(I),a(m))},r.\u0275prov=l({token:r,factory:r.\u0275fac,providedIn:"root"});let h=r;return h})();export{B as a};
