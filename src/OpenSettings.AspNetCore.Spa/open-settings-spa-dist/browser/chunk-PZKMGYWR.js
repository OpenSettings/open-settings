import{B as p,N as c,R as l,U as a,Wb as h,Xb as u,Yb as g,i as d,jc as m,nc as f,p as s}from"./chunk-YYVWG2ID.js";var G=(()=>{let i=class i{constructor(t,e,r){this.httpClient=t,this.authService=e,this.headers=new h,this.destroy$=new d,this.route=r.controllerOptions.route,this.authService.isAuthenticated$.pipe(c(this.destroy$)).subscribe(o=>{this.headers=o?new h({Authorization:`${this.authService.token}`}):new h})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getPaginatedGroups(t){let e=this.route+"/v1/app-groups/paginated",r=new u;t.pageIndex&&(r=r.append("page",t.pageIndex)),t.pageSize&&(r=r.append("size",t.pageSize)),t.searchTerm&&(r=r.append("searchTerm",t.searchTerm)),t.sortBy&&(r=r.append("sortBy",t.sortBy),t.sortDirection&&(r=r.append("sortDirection",t.sortDirection)));let o=r.toString();return e+=o?"?"+o:"",this.httpClient.get(e,{headers:this.headers})}deleteUnmappedGroups(){let t=this.route+"/v1/app-groups/unmapped";return this.httpClient.delete(t,{headers:this.headers})}getGroups(t){let e=this.route+"/v1/app-groups",r=new u;t.searchTerm&&(r=r.append("searchTerm",t.searchTerm)),t.hasMappings&&(r=r.append("hasMappings",t.hasMappings));let o=r.toString();return e+=o?"?"+o:"",this.httpClient.get(e,{headers:this.headers})}createGroup(t){let e=this.route+"/v1/app-groups";return this.httpClient.post(e,t.body,{headers:this.headers})}getGroupById(t){let e=this.route+"/v1/app-groups/"+t.groupIdOrSlug;return this.httpClient.get(e,{headers:this.headers})}getGroupBySlug(t){let e=this.route+"/v1/app-groups/slug/"+t.groupIdOrSlug;return this.httpClient.get(e,{headers:this.headers})}deleteGroup(t){let e=this.route+"/v1/app-groups/"+t.id+"?rowVersion="+encodeURIComponent(t.rowVersion);return this.httpClient.delete(e,{headers:this.headers}).pipe(p(r=>{if(r.status===409)return s(r.error);throw r}))}updateGroupSortOrder(t){let e=this.route+"/v1/app-groups/"+t.id+"/sort-order?ascent="+t.ascent+"&rowVersion="+encodeURIComponent(t.rowVersion);return this.httpClient.post(e,null,{headers:this.headers}).pipe(p(r=>{if(r.status===409)return s(r.error);throw r}))}dragGroup(t){let e=this.route+"/v1/app-groups/"+t.sourceId+"/drag/"+t.targetId+"?ascent="+t.ascent+"&sourceRowVersion="+encodeURIComponent(t.sourceRowVersion);return this.httpClient.post(e,null,{headers:this.headers}).pipe(p(r=>{if(r.status===409)return s(r.error);throw r}))}updateGroup(t){let e=this.route+"/v1/app-groups/"+t.groupId;return this.httpClient.put(e,t.body,{headers:this.headers}).pipe(p(r=>{if(r.status===409)return s(r.error);throw r}))}reorder(){let t=this.route+"/v1/app-groups/reorder";return this.httpClient.post(t,null,{headers:this.headers}).pipe(p(e=>{if(e.status===409)return s(e.error);throw e}))}};i.\u0275fac=function(e){return new(e||i)(a(g),a(f),a(m))},i.\u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();export{G as a};
