import{a as J}from"./chunk-F2KXCSXV.js";import{a as Y,b as xe,c as Z,d as De,e as Me,f as Pe,g as we,h as Ie}from"./chunk-JXPMAEO3.js";import{a as oe,b as X,c as de,d as mt}from"./chunk-C5RUP2P5.js";import{a as pe,b as ue,c as he,d as ge,e as fe,f as Se,g as be,h as _e,i as ye,j as Ce,k as Te,l as ve}from"./chunk-4D5NLZVU.js";import{a as E}from"./chunk-4VZSEJXQ.js";import{a as Kt}from"./chunk-IDIORXPO.js";import{a as N}from"./chunk-NNDRUWYZ.js";import{a as se,b as me,c as le,d as ce}from"./chunk-BHTWAJBA.js";import{a as ie,b as re,c as ne,d as ae}from"./chunk-YB7VOYSB.js";import{a as Jt,b as Xt,c as K,d as Yt,e as Zt,f as te,h as ee,i as st}from"./chunk-HLAZOYHB.js";import{B as G,C as ot,D as Nt,F as Ht,L as $t,M as W,N as Qt,O as Gt,P as Wt,b as Mt,d as Pt,f as wt,g as It,j as Et,k as Ot,l as Lt,n as qt,p as kt,r as Ft,t as H,u as Ut,v as $,w as jt,x as zt,y as Q}from"./chunk-M66XJPMI.js";import{B as ht,C as gt,Da as g,Fa as u,Ha as R,Kb as St,M as q,Mb as j,Oa as a,Pa as o,Qa as v,Ra as D,S as k,Sa as M,Tb as bt,Ua as w,Vb as _t,Xa as S,Z as F,Za as T,_ as B,cb as V,da as _,db as A,dc as yt,ea as y,eb as U,ec as Ct,ed as Bt,fb as tt,fc as Tt,g as O,gb as m,gc as vt,hb as x,i as ut,ib as et,ic as at,jc as xt,kd as Rt,mc as Dt,md as Vt,nd as z,od as At,p as L,pb as it,qb as ft,sa as l,ta as f,ub as rt,wb as nt}from"./chunk-YYVWG2ID.js";function je(i,n){if(i&1){let c=w();a(0,"button",13),S("click",function(){let r;_(c);let t=T();return y((r=t.myForm.get("name"))==null?null:r.setValue(""))}),v(1,"mat-icon",14),o()}}var lt=(()=>{let n=class n{constructor(e,r,t,s,p,d){this.snackBar=e,this.formBuilder=r,this.tagsService=t,this.dialog=s,this.dialogRef=p,this.model=d,this.isManualSortOrder=!1,this.setSortOrderPositions=X,this.defaultPosition=X.Bottom,this.subscriptions=new O}ngOnInit(){(this.model.id??"0")=="0"?this.title="Create a new tag":(this.title="Update - Tag",this.isManualSortOrder=!0,this.defaultPosition=X.Manual),this.myForm=this.formBuilder.group({id:[this.model.id??"0"],name:[this.model.name,Pt.required],position:[this.defaultPosition],sortOrder:[this.model.sortOrder],rowVersion:[this.model.rowVersion]})}ngOnDestroy(){this.subscriptions.unsubscribe()}onSubmit(){if(!this.myForm.valid)return;let e=this.myForm.value;this.update(e)}update(e){if(e.id==="0"){let d=e.name.trim(),b=this.tagsService.createTag({body:{name:d,sortOrder:e.sortOrder,setSortOrderPosition:e.position===-1?void 0:e.position}}).subscribe({next:h=>{let C=h.data;if(!C)return;let I={id:C.id,name:C.name,sortOrder:C.sortOrder};this.snackBar.open("Data has been added successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.dialogRef?.close(I)}});this.subscriptions.add(b);return}let r=(d,b)=>this.tagsService.updateTag({tagId:d.id,body:{name:d.name,sortOrder:d.sortOrder,setSortOrderPosition:d.position===-1?void 0:d.position,rowVersion:b}}),t=d=>this.tagsService.createTag({body:{name:d.name,sortOrder:d.sortOrder,setSortOrderPosition:d.position===-1?void 0:d.position}}),s=(d,b)=>r(d,b).pipe(q(h=>{if(!h.data&&h.extras){let I=h.extras.Conflicts[d.id],ct=["Discard"];return ct.push(I?"Recreate":"Override"),this.dialog.open(oe,{width:"400px",data:ct,autoFocus:!1}).afterClosed().pipe(q(pt=>{if(pt==="Override"){let Le=I.properties.RowVersion.current;return s(d,Le)}else if(pt==="Recreate")return t(d).pipe(q(()=>L(!0)));return L(!1)}))}else this.snackBar.open("Data has been updated successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3});return L(!0)}),ht(h=>(this.snackBar.open("An error occurred or action not completed.","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),h))),p=s(e,e.rowVersion).subscribe({next:d=>{d&&this.dialogRef?.close()}});this.subscriptions.add(p)}onPositionChange(){this.myForm.get("position")?.value===-1?this.isManualSortOrder=!0:this.isManualSortOrder=!1}};n.\u0275fac=function(r){return new(r||n)(f(N),f(kt),f(J),f(K),f(Jt),f(Xt))},n.\u0275cmp=F({type:n,selectors:[["ng-component"]],decls:34,vars:9,consts:[[3,"formGroup"],["mat-dialog-title",""],[1,"pb-0"],["appearance","fill"],["matInput","","formControlName","name",3,"maxLength"],["mat-icon-button","","matSuffix","","type","button",3,"click",4,"ngIf"],["formControlName","position",3,"selectionChange"],[3,"value"],["appearance","fill",3,"ngClass"],["matInput","","formControlName","sortOrder","type","number"],[1,"mt-1"],["mat-button","","color","accent","mat-dialog-close","",1,"mr-1"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["fontIcon","clear"]],template:function(r,t){if(r&1&&(a(0,"form",0)(1,"h2",1),m(2),o(),a(3,"mat-dialog-content",2)(4,"mat-form-field",3)(5,"mat-label"),m(6,"Name"),o(),v(7,"input",4),g(8,je,2,0,"button",5),a(9,"mat-error"),m(10,"Please provide a valid value"),o()(),a(11,"mat-form-field",3)(12,"mat-label"),m(13,"Position"),o(),a(14,"mat-select",6),S("selectionChange",function(){return t.onPositionChange()}),a(15,"mat-option",7),m(16,"Manual"),o(),a(17,"mat-option",7),m(18,"Top"),o(),a(19,"mat-option",7),m(20,"Bottom"),o()()(),a(21,"mat-form-field",8)(22,"mat-label"),m(23,"Sort Order"),o(),v(24,"input",9),a(25,"mat-error"),m(26,"Please provide a valid value"),o(),a(27,"mat-hint"),m(28,"Lower values will appear first in the list."),o()(),a(29,"div",10)(30,"button",11),m(31,"Cancel"),o(),a(32,"button",12),S("click",function(){return t.onSubmit()}),m(33,"Save"),o()()()()),r&2){let s;u("formGroup",t.myForm),l(2),x(t.title),l(5),u("maxLength",50),l(),u("ngIf",(s=t.myForm.get("name"))==null?null:s.value),l(7),u("value",-1),l(2),u("value",t.setSortOrderPositions.Top),l(2),u("value",t.setSortOrderPositions.Bottom),l(2),u("ngClass",t.isManualSortOrder?"":"collapse d-none"),l(11),u("disabled",t.myForm.invalid)}},dependencies:[St,j,Et,Mt,Ot,wt,It,Lt,qt,G,$,zt,jt,Q,Rt,z,H,Yt,Zt,te,se,Bt,W],encapsulation:2});let i=n;return i})();var P={base:"",create:"create",update:":slug/update"};var ze=["searchTermInput"],Ne=()=>[8,16,32,64],He=()=>["./create"],$e=i=>[i,"update"];function Qe(i,n){if(i&1&&(a(0,"button",30)(1,"mat-icon"),m(2,"more_vert"),o()()),i&2){T();let c=tt(7);u("matMenuTriggerFor",c)}}function Ge(i,n){if(i&1){let c=w();a(0,"button",31),S("click",function(){_(c);let r=T();return y(r.clearSearchTerm())}),a(1,"mat-icon"),m(2,"clear"),o()()}}function We(i,n){if(i&1&&(a(0,"mat-card-content",32),m(1),o()),i&2){let c=T();l(),x(c.message)}}function Ke(i,n){i&1&&(a(0,"th",33),m(1,"Id"),o())}function Je(i,n){if(i&1&&(a(0,"td",34),m(1),o()),i&2){let c=n.$implicit;l(),x(c.id)}}function Xe(i,n){i&1&&(a(0,"th",33),m(1,"Name"),o())}function Ye(i,n){if(i&1&&(a(0,"td",34),m(1),o()),i&2){let c=n.$implicit;l(),x(c.name)}}function Ze(i,n){i&1&&(a(0,"th",33),m(1,"Sort Order"),o())}function ti(i,n){if(i&1){let c=w();a(0,"button",37),S("click",function(){_(c);let r=T().$implicit,t=T();return y(t.moveUpOrder(r))}),a(1,"mat-icon"),m(2,"arrow_upward"),o()()}}function ei(i,n){if(i&1){let c=w();a(0,"button",38),S("click",function(){_(c);let r=T().$implicit,t=T();return y(t.moveDownOrder(r))}),a(1,"mat-icon"),m(2,"arrow_downward"),o()()}}function ii(i,n){if(i&1&&(a(0,"td",34),m(1),g(2,ti,3,0,"button",35)(3,ei,3,0,"button",36),o()),i&2){let c=n.$implicit,e=T();l(),et(" ",c.sortOrder," "),l(),u("ngIf",c.sortOrder!==e.minSortOrder),l(),u("ngIf",c.sortOrder!==e.maxSortOrder)}}function ri(i,n){i&1&&(a(0,"th",33),m(1,"Mappings Count"),o())}function ni(i,n){if(i&1&&(a(0,"td",34),m(1),o()),i&2){let c=n.$implicit;l(),x(c.mappingsCount)}}function ai(i,n){i&1&&(a(0,"th",33),m(1,"Created On"),o())}function oi(i,n){if(i&1&&(a(0,"td",34),m(1),rt(2,"date"),o()),i&2){let c=n.$implicit;l(),x(nt(2,1,c.createdOn,"dd-MM-yyyy HH:mm"))}}function si(i,n){i&1&&(a(0,"th",33),m(1,"Created By"),o())}function mi(i,n){if(i&1&&(a(0,"td",34),m(1),o()),i&2){let c=n.$implicit;l(),x(c.createdBy)}}function di(i,n){i&1&&(a(0,"th",33),m(1,"Updated On"),o())}function li(i,n){if(i&1&&(a(0,"td",34),m(1),rt(2,"date"),o()),i&2){let c=n.$implicit;l(),x(nt(2,1,c.updatedOn,"dd-MM-yyyy HH:mm"))}}function ci(i,n){i&1&&(a(0,"th",33),m(1,"Updated By"),o())}function pi(i,n){if(i&1&&(a(0,"td",34),m(1),o()),i&2){let c=n.$implicit;l(),x(c.updatedBy)}}function ui(i,n){i&1&&v(0,"th",39)}function hi(i,n){if(i&1){let c=w();a(0,"td",34)(1,"button",30)(2,"mat-icon"),m(3,"more_vert"),o()(),a(4,"mat-menu",null,2)(6,"button",40)(7,"mat-icon"),m(8,"edit"),o(),a(9,"span"),m(10,"Update"),o()(),a(11,"button",7),S("click",function(){let r=_(c).$implicit,t=T();return y(t.delete(r))}),a(12,"mat-icon"),m(13,"delete"),o(),a(14,"span"),m(15,"Delete"),o()()()()}if(i&2){let c=n.$implicit,e=tt(5);l(),u("matMenuTriggerFor",e),l(5),u("routerLink",ft(2,$e,c.slug))}}function gi(i,n){i&1&&v(0,"tr",41)}function fi(i,n){i&1&&v(0,"tr",42)}function Si(i,n){i&1&&v(0,"mat-progress-bar",43)}var Ee=(()=>{let n=class n{constructor(e,r,t,s,p,d,b,h,C){this.tagsService=e,this.dialog=r,this.snackBar=t,this.windowService=s,this.dummyComponentService=p,this.utilityService=d,this.userPreferencesService=b,this.route=h,this.router=C,this.displayedColumns=["id","name","sortOrder","mappingsCount","createdOn","createdBy","updatedOn","updatedBy","edit"],this.dataSource=new ve,this.queryParams={pageSize:0,pageIndex:0,searchTerm:"",sortBy:"",sortDirection:null},this.searchTermSubject=new ut,this.isProvider=!1,this.subscriptions=new O,this.dragAndDropEnabled=!1,this.isLoading=!1,this.noResultsFound=!0,this.message="",this.minSortOrder=0,this.maxSortOrder=0}ngOnInit(){this.isProvider=this.windowService.isProvider,this.dragAndDropEnabled=this.userPreferencesService.dragAndDropEnabled,this.handleRouting(),this.setupSearchTermSubscription()}ngAfterViewInit(){setTimeout(()=>{this.setupQueryParams()})}ngOnDestroy(){this.subscriptions.unsubscribe()}setupQueryParams(){this.queryParamSubscription||(this.queryParamSubscription=this.route.queryParams.subscribe(e=>{let r=+e.page-1||0,t=+e.size||5,s=e.sortBy||"",p=(e.sortDirection?.toLowerCase()??"0")==="0"?s===""?null:E.Asc:E.Desc,d=this.getSearchTermFromRoute(e);this.queryParams.pageIndex===r&&this.queryParams.pageSize===t&&this.queryParams.sortBy===s&&this.queryParams.sortDirection===p&&this.queryParams.searchTerm===d||(this.queryParams.pageIndex=r,this.queryParams.pageSize=t,this.queryParams.sortBy=s,this.queryParams.sortDirection=p,this.queryParams.searchTerm=d,this.searchTermInput.nativeElement.value=d,this.loadData())}),this.subscriptions.add(this.queryParamSubscription))}setupSearchTermSubscription(){this.searchTermSubscription||(this.searchTermSubscription=this.searchTermSubject.pipe(gt(300)).subscribe(e=>{this.queryParams.searchTerm=e,this.loadData()}),this.subscriptions.add(this.searchTermSubscription))}getSearchTermFromRoute(e){let r=!1,t=Object.keys(e).filter(s=>{let p=s.toLocaleLowerCase()==="searchterm";return r||(r=p&&s!=="searchTerm"),p});return t.length>0?r?this.updateQueryParamsForSearchTerm(t,e):e.searchTerm??"":""}updateQueryParamsForSearchTerm(e,r){let t="",s={};return e.forEach(p=>{t+=r[p]+",",s[p]=null}),t=t.substring(0,t.length-1),s.searchTerm=t,this.router.navigate([],{queryParams:s,queryParamsHandling:"merge"}),t}setupSortChangeIfNotAlready(e,r){this.sortChangeSubscription||(this.sort.active=e,this.sort.direction=r===null?"":r===E.Desc?"desc":"asc",this.sortChangeSubscription=this.sort.sortChange.subscribe(()=>{let t=this.sort.direction===""?"":this.sort.active,s=this.sort.direction==="desc"?E.Desc:this.sort.direction===""?null:E.Asc;t===this.queryParams.sortBy&&s===this.queryParams.sortDirection||(this.queryParams.sortBy=t,this.queryParams.sortDirection=s,this.loadData())}),this.subscriptions.add(this.sortChangeSubscription))}onPaginate(e){this.queryParams.pageIndex===e.pageIndex&&this.queryParams.pageSize===e.pageSize||(this.queryParams.pageIndex=e.pageIndex,this.queryParams.pageSize=e.pageSize,this.loadData())}loadData(){this.startFetching();let e=this.tagsService.getPaginatedTags({searchTerm:this.queryParams.searchTerm,pageIndex:this.queryParams.pageIndex+1,pageSize:this.queryParams.pageSize,sortBy:this.queryParams.sortBy,sortDirection:this.queryParams.sortDirection}).subscribe({next:r=>{let t=r.data;t&&(this.minSortOrder=t.minSortOrder,this.maxSortOrder=t.maxSortOrder,this.dataSource.data=t.tags,this.paginator.pageIndex=t.pagingInfo.pageIndex-1,this.paginator.pageSize=t.pagingInfo.pageSize,this.paginator.length=t.pagingInfo.itemCount,this.queryParams.pageIndex=this.paginator.pageIndex,this.queryParams.pageSize=this.paginator.pageSize,this.stopFetching())},error:()=>{this.stopFetching()},complete:()=>{this.setupSortChangeIfNotAlready(this.queryParams.sortBy,this.queryParams.sortDirection),this.updateUrl()}});this.subscriptions.add(e)}startFetching(){this.isLoading=!0}stopFetching(e){if(this.isLoading=!1,!e){if(this.dataSource.data.length>0){this.noResultsFound=!1,this.message="";return}this.queryParams.searchTerm===""?(this.noResultsFound=!0,this.message="No results found."):(this.noResultsFound=!1,this.message="0 matches")}}applyFilter(e){let r=e.target.value;r!==this.queryParams.searchTerm&&(this.queryParams.pageIndex=0,this.searchTermSubject.next(r))}clearSearchTerm(){this.queryParams.searchTerm!==""&&(this.searchTermInput.nativeElement.value="",this.queryParams.pageIndex=0,this.queryParams.searchTerm="",this.loadData())}updateUrl(){this.router.navigate([],{queryParams:{page:this.queryParams.pageIndex+1,size:this.queryParams.pageSize,sortBy:this.queryParams.sortBy===""?null:this.queryParams.sortBy,sortDirection:this.queryParams.sortDirection,searchTerm:this.queryParams.searchTerm===""?null:this.queryParams.searchTerm},queryParamsHandling:"merge"})}handleRouting(){let e=this.dummyComponentService.event$.subscribe(r=>{setTimeout(()=>{if(r!==void 0)switch(r.path){case P.create:this.add();break;case P.update:let t=r.activatedRoute.paramMap.subscribe(s=>{let p=s.get("slug");if(!p)return;let d=this.dataSource.data.find(h=>h.slug===p);if(d){this.edit(d);return}let b=this.tagsService.getTagById({tagIdOrSlug:p}).subscribe({next:h=>{let C=h.data;if(!C)return;let I={id:p,name:C.name,sortOrder:C.sortOrder,rowVersion:C.rowVersion};this.edit(I)},error:h=>{this.router.navigate(["./"],{relativeTo:this.route,queryParamsHandling:"merge"})}});this.subscriptions.add(b)});this.subscriptions.add(t);break}},0)});this.subscriptions.add(e)}delete(e){let r="Confirm delete",t=`Are you sure you want to delete the "${e.name}" tag?`,s=!1;e.mappingsCount>0&&(t+=" The tag has "+e.mappingsCount+" mapping(s).",s=!0),t+=" This action cannot be undone.";let p={title:r,message:t,requireConfirmation:s},d=this.dialog.open(st,{width:"500px",data:p}).afterClosed().subscribe(b=>{if(b){let h=this.tagsService.deleteTag({tagId:e.id,rowVersion:e.rowVersion}).subscribe(()=>{this.snackBar.open("Deleted successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.loadData()});this.subscriptions.add(h)}});this.subscriptions.add(d)}moveUpOrder(e){this.moveOrder(e,!1)}moveDownOrder(e){this.moveOrder(e,!0)}moveOrder(e,r){let t=this.tagsService.updateTagSortOrder({id:e.id,ascent:r,rowVersion:e.rowVersion}).subscribe(s=>{s.status===409&&s.errors&&this.utilityService.error(s.errors,3500),this.loadData()});this.subscriptions.add(t)}reorder(){let e=this.tagsService.reorder().subscribe(()=>{this.snackBar.open("Reordered successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.loadData()});this.subscriptions.add(e)}add(){let e={id:"0",name:"",sortOrder:0,rowVersion:""},r=this.dialog.open(lt,{data:e,width:"500px",height:"370px",minWidth:"inherit",maxWidth:"inherit",autoFocus:!0}).afterClosed().subscribe(()=>{this.loadData(),this.router.navigate(["./"],{relativeTo:this.route,queryParamsHandling:"merge"})});this.subscriptions.add(r)}edit(e){let r=this.dialog.open(lt,{data:e,width:"500px",height:"500px",minWidth:"inherit",maxWidth:"inherit",autoFocus:!1}).afterClosed().subscribe(()=>{this.loadData(),this.router.navigate(["./"],{relativeTo:this.route,queryParamsHandling:"merge"})});this.subscriptions.add(r)}deleteUnmappedTags(){let t=this.dialog.open(st,{width:"500px",data:{title:"Confirm delete",message:"Are you sure you want to delete the unmapped tags? This action cannot be undone."}}).afterClosed().subscribe(s=>{if(s){let p=this.tagsService.deleteUnmappedTags().subscribe(()=>{this.snackBar.open("Deleted successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.loadData()});this.subscriptions.add(p)}});this.subscriptions.add(t)}onRowDrop(e){let r=e.previousIndex,t=e.currentIndex;if(r===t)return;let s=t>r,p=this.dataSource.data[r];if(Math.abs(r-t)===1){this.moveOrder(p,s);return}let d=this.dataSource.data[t],b=this.tagsService.dragTag({sourceId:p.id,targetId:d.id,ascent:s,sourceRowVersion:p.rowVersion}).subscribe(h=>{h.status===409&&h.errors&&this.utilityService.error(h.errors,3500),this.loadData()});this.subscriptions.add(b)}toggleDragAndDrop(){this.dragAndDropEnabled=!this.dragAndDropEnabled,this.userPreferencesService.setDragAndDropEnabled(this.dragAndDropEnabled)}};n.\u0275fac=function(r){return new(r||n)(f(J),f(K),f(N),f(xt),f(de),f(Kt),f(Dt),f(yt),f(Tt))},n.\u0275cmp=F({type:n,selectors:[["ng-component"]],viewQuery:function(r,t){if(r&1&&(V(Y,5),V(Z,5),V(ze,5)),r&2){let s;A(s=U())&&(t.paginator=s.first),A(s=U())&&(t.sort=s.first),A(s=U())&&(t.searchTermInput=s.first)}},decls:64,vars:19,consts:[["listOptions","matMenu"],["searchTermInput",""],["menu","matMenu"],[1,"px-3"],[1,"title","mb-3","d-flex"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","",3,"click"],["appearance","fill"],["matInput","","placeholder","Search by name",3,"keyup"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["class","p-2",4,"ngIf"],["mat-table","","matSort","","cdkDropList","",3,"cdkDropListDropped","dataSource","cdkDropListDisabled"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","sortOrder"],["matColumnDef","mappingsCount"],["matColumnDef","createdOn"],["matColumnDef","createdBy"],["matColumnDef","updatedOn"],["matColumnDef","updatedBy"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","cdkDrag","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"page","pageSizeOptions"],["mat-fab","","color","primary","matTooltip","New tag","queryParamsHandling","merge",1,"position-fixed","b-0","r-0","mr-3","mb-3",3,"routerLink"],["mode","indeterminate","class","position-fixed l-0 b-0",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-icon-button","","matSuffix","",3,"click"],[1,"p-2"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","matTooltip","Up",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Down",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Up",3,"click"],["mat-icon-button","","matTooltip","Down",3,"click"],["mat-header-cell",""],["mat-menu-item","","queryParamsHandling","merge",3,"routerLink"],["mat-header-row",""],["mat-row","","cdkDrag",""],["mode","indeterminate",1,"position-fixed","l-0","b-0"]],template:function(r,t){if(r&1){let s=w();a(0,"div",3)(1,"div",4)(2,"h1"),m(3,"Tags"),o(),v(4,"span",5),g(5,Qe,3,1,"button",6),a(6,"mat-menu",null,0)(8,"button",7),S("click",function(){return _(s),y(t.deleteUnmappedTags())}),a(9,"mat-icon"),m(10,"delete"),o(),m(11," Delete Unmapped "),o(),a(12,"button",7),S("click",function(){return _(s),y(t.reorder())}),a(13,"mat-icon"),m(14,"reorder"),o(),m(15," Reorder "),o(),a(16,"button",7),S("click",function(){return _(s),y(t.toggleDragAndDrop())}),a(17,"mat-icon"),m(18,"drag_indicator"),o(),m(19),o()()(),a(20,"mat-card")(21,"mat-form-field",8)(22,"mat-label"),m(23,"Search"),o(),a(24,"input",9,1),S("keyup",function(d){return _(s),y(t.applyFilter(d))}),o(),g(26,Ge,3,0,"button",10),o(),g(27,We,2,1,"mat-card-content",11),a(28,"table",12),S("cdkDropListDropped",function(d){return _(s),y(t.onRowDrop(d))}),D(29,13),g(30,Ke,2,0,"th",14)(31,Je,2,1,"td",15),M(),D(32,16),g(33,Xe,2,0,"th",14)(34,Ye,2,1,"td",15),M(),D(35,17),g(36,Ze,2,0,"th",14)(37,ii,4,3,"td",15),M(),D(38,18),g(39,ri,2,0,"th",14)(40,ni,2,1,"td",15),M(),D(41,19),g(42,ai,2,0,"th",14)(43,oi,3,4,"td",15),M(),D(44,20),g(45,si,2,0,"th",14)(46,mi,2,1,"td",15),M(),D(47,21),g(48,di,2,0,"th",14)(49,li,3,4,"td",15),M(),D(50,22),g(51,ci,2,0,"th",14)(52,pi,2,1,"td",15),M(),D(53,23),g(54,ui,1,0,"th",24)(55,hi,16,4,"td",15),M(),g(56,gi,1,0,"tr",25)(57,fi,1,0,"tr",26),o(),a(58,"mat-paginator",27),S("page",function(d){return _(s),y(t.onPaginate(d))}),o()()(),a(59,"button",28)(60,"mat-icon"),m(61,"add"),o()(),g(62,Si,1,0,"mat-progress-bar",29),v(63,"router-outlet")}r&2&&(l(5),u("ngIf",t.dataSource.data.length>0),l(14),et(" ",t.dragAndDropEnabled?"Disable":"Enable"," Drag & Drop "),l(2),R("collapse",t.noResultsFound),l(5),u("ngIf",t.queryParams.searchTerm),l(),u("ngIf",t.message),l(),R("collapse",!(t.dataSource.data.length>0)),u("dataSource",t.dataSource)("cdkDropListDisabled",!t.dragAndDropEnabled),l(28),u("matHeaderRowDef",t.displayedColumns),l(),u("matRowDefColumns",t.displayedColumns),l(),R("collapse",!(t.dataSource.data.length>0)),u("pageSizeOptions",it(17,Ne)),l(),u("routerLink",it(18,He)),l(3),u("ngIf",t.isLoading))},dependencies:[j,Ct,vt,we,Pe,G,$,Q,le,z,Vt,H,re,ie,ne,Nt,Ht,Y,pe,he,be,ge,ue,_e,fe,Se,ye,Ce,W,Z,De,Gt,bt],encapsulation:2});let i=n;return i})();var bi=[{path:P.base,component:Ee,children:[{path:P.create,component:mt,data:{path:P.create}},{path:P.update,component:mt,data:{path:P.update}}]},{path:"**",redirectTo:P.base}],Oe=(()=>{let n=class n{};n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=B({type:n}),n.\u0275inj=k({imports:[at.forChild(bi),at]});let i=n;return i})();var vr=(()=>{let n=class n{};n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=B({type:n}),n.\u0275inj=k({imports:[_t,Oe,Ie,Ft,ot,ce,At,Ut,ae,$t,ot,xe,Te,ee,me,Qt,Me,Wt]});let i=n;return i})();export{vr as TagModule};
