import{a as J}from"./chunk-PZKMGYWR.js";import{a as Y,b as De,c as Z,d as Te,e as Me,f as Pe,g as we,h as Ie}from"./chunk-JXPMAEO3.js";import{a as ae,b as X,c as me,d as pt}from"./chunk-C5RUP2P5.js";import{a as de,b as ce,c as he,d as fe,e as ge,f as Se,g as be,h as _e,i as ye,j as Ce,k as ve,l as xe}from"./chunk-4D5NLZVU.js";import{a as E}from"./chunk-4VZSEJXQ.js";import{a as Kt}from"./chunk-IDIORXPO.js";import{a as z}from"./chunk-NNDRUWYZ.js";import{a as se,b as pe,c as le,d as ue}from"./chunk-BHTWAJBA.js";import{a as ie,b as re,c as oe,d as ne}from"./chunk-YB7VOYSB.js";import{a as Jt,b as Xt,c as K,d as Yt,e as Zt,f as te,h as ee,i as st}from"./chunk-HLAZOYHB.js";import{B as Q,C as at,D as zt,F as Nt,L as Ht,M as W,N as $t,O as Qt,P as Wt,b as Mt,d as Pt,f as wt,g as It,j as Et,k as Ot,l as At,n as Gt,p as Lt,r as qt,t as N,u as Vt,v as H,w as Ut,x as jt,y as $}from"./chunk-M66XJPMI.js";import{B as ht,C as ft,Da as f,Fa as c,Ha as F,Kb as St,M as G,Mb as U,Oa as n,Pa as a,Qa as x,Ra as T,S as L,Sa as M,Tb as bt,Ua as w,Vb as _t,Xa as b,Z as q,Za as v,_ as k,cb as B,da as y,db as R,dc as yt,ea as C,eb as V,ec as Ct,ed as kt,fb as tt,fc as vt,g as O,gb as p,gc as xt,hb as D,i as ct,ib as et,ic as nt,jc as Dt,kd as Ft,mc as Tt,md as Bt,nd as j,od as Rt,p as A,pb as it,qb as gt,sa as l,ta as g,ub as rt,wb as ot}from"./chunk-YYVWG2ID.js";var P={base:"",create:"create",update:":slug/update"};function Ue(i,o){if(i&1){let u=w();n(0,"button",13),b("click",function(){let r;y(u);let e=v();return C((r=e.myForm.get("name"))==null?null:r.setValue(""))}),x(1,"mat-icon",14),a()}}var lt=(()=>{let o=class o{constructor(t,r,e,s,d,m){this.snackBar=t,this.formBuilder=r,this.groupsService=e,this.dialog=s,this.dialogRef=d,this.model=m,this.isManualSortOrder=!1,this.setSortOrderPositions=X,this.defaultPosition=X.Bottom,this.subscriptions=new O}ngOnInit(){let t=this.model.id??"0";t=="0"?this.title="Create a new group":(this.title="Update - Group",this.isManualSortOrder=!0,this.defaultPosition=X.Manual),this.myForm=this.formBuilder.group({id:[t],name:[this.model.name,Pt.required],position:[this.defaultPosition],sortOrder:[this.model.sortOrder],rowVersion:[this.model.rowVersion]})}ngOnDestroy(){this.subscriptions.unsubscribe()}onSubmit(){if(!this.myForm.valid)return;let t=this.myForm.value;this.update(t)}update(t){if(t.id==="0"){let m=t.name.trim(),_=this.groupsService.createGroup({body:{name:m,sortOrder:t.sortOrder,setSortOrderPosition:t.position===-1?void 0:t.position}}).subscribe({next:h=>{let S=h.data;if(!S)return;let I={id:S.id,name:S.name,sortOrder:S.sortOrder};this.snackBar.open("Data has been added successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.dialogRef?.close(I)}});this.subscriptions.add(_);return}let r=(m,_)=>this.groupsService.updateGroup({groupId:m.id,body:{name:m.name,sortOrder:m.sortOrder,setSortOrderPosition:m.position===-1?void 0:m.position,rowVersion:_}}),e=m=>this.groupsService.createGroup({body:{name:m.name,sortOrder:m.sortOrder,setSortOrderPosition:m.position===-1?void 0:m.position}}),s=(m,_)=>r(m,_).pipe(G(h=>{if(!h.data&&h.extras){let I=h.extras.Conflicts[m.id],ut=["Discard"];return ut.push(I?"Recreate":"Override"),this.dialog.open(ae,{width:"400px",data:ut,autoFocus:!1}).afterClosed().pipe(G(dt=>{if(dt==="Override"){let Ae=I.properties.RowVersion.current;return s(m,Ae)}else if(dt==="Recreate")return e(m).pipe(G(()=>A(!0)));return A(!1)}))}else this.snackBar.open("Data has been updated successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3});return A(!0)}),ht(h=>(this.snackBar.open("An error occurred or action not completed.","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),h))),d=s(t,t.rowVersion).subscribe({next:m=>{m&&this.dialogRef?.close()}});this.subscriptions.add(d)}onPositionChange(){this.myForm.get("position")?.value===-1?this.isManualSortOrder=!0:this.isManualSortOrder=!1}};o.\u0275fac=function(r){return new(r||o)(g(z),g(Lt),g(J),g(K),g(Jt),g(Xt))},o.\u0275cmp=q({type:o,selectors:[["app-group-upsert"]],decls:34,vars:9,consts:[[3,"formGroup"],["mat-dialog-title",""],[1,"pb-0"],["appearance","fill"],["matInput","","formControlName","name",3,"maxLength"],["mat-icon-button","","matSuffix","","type","button",3,"click",4,"ngIf"],["formControlName","position",3,"selectionChange"],[3,"value"],["appearance","fill",3,"ngClass"],["matInput","","formControlName","sortOrder","type","number"],[1,"mt-1"],["mat-button","","color","accent","mat-dialog-close","",1,"mr-1"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["fontIcon","clear"]],template:function(r,e){if(r&1&&(n(0,"form",0)(1,"h2",1),p(2),a(),n(3,"mat-dialog-content",2)(4,"mat-form-field",3)(5,"mat-label"),p(6,"Name"),a(),x(7,"input",4),f(8,Ue,2,0,"button",5),n(9,"mat-error"),p(10,"Please provide a valid value"),a()(),n(11,"mat-form-field",3)(12,"mat-label"),p(13,"Position"),a(),n(14,"mat-select",6),b("selectionChange",function(){return e.onPositionChange()}),n(15,"mat-option",7),p(16,"Manual"),a(),n(17,"mat-option",7),p(18,"Top"),a(),n(19,"mat-option",7),p(20,"Bottom"),a()()(),n(21,"mat-form-field",8)(22,"mat-label"),p(23,"Sort Order"),a(),x(24,"input",9),n(25,"mat-error"),p(26,"Please provide a valid value"),a(),n(27,"mat-hint"),p(28,"Lower values will appear first in the list."),a()(),n(29,"div",10)(30,"button",11),p(31,"Cancel"),a(),n(32,"button",12),b("click",function(){return e.onSubmit()}),p(33,"Save"),a()()()()),r&2){let s;c("formGroup",e.myForm),l(2),D(e.title),l(5),c("maxLength",50),l(),c("ngIf",(s=e.myForm.get("name"))==null?null:s.value),l(7),c("value",-1),l(2),c("value",e.setSortOrderPositions.Top),l(2),c("value",e.setSortOrderPositions.Bottom),l(2),c("ngClass",e.isManualSortOrder?"":"collapse d-none"),l(11),c("disabled",e.myForm.invalid)}},dependencies:[St,U,Et,Mt,Ot,wt,It,At,Gt,Q,H,jt,Ut,$,Ft,j,N,Yt,Zt,te,se,kt,W],encapsulation:2});let i=o;return i})();var je=["searchTermInput"],ze=()=>[8,16,32,64],Ne=()=>["./create"],He=i=>[i,"update"];function $e(i,o){if(i&1&&(n(0,"button",30)(1,"mat-icon"),p(2,"more_vert"),a()()),i&2){v();let u=tt(7);c("matMenuTriggerFor",u)}}function Qe(i,o){if(i&1){let u=w();n(0,"button",31),b("click",function(){y(u);let r=v();return C(r.clearSearchTerm())}),n(1,"mat-icon"),p(2,"clear"),a()()}}function We(i,o){if(i&1&&(n(0,"mat-card-content",32),p(1),a()),i&2){let u=v();l(),D(u.message)}}function Ke(i,o){i&1&&(n(0,"th",33),p(1,"Id"),a())}function Je(i,o){if(i&1&&(n(0,"td",34),p(1),a()),i&2){let u=o.$implicit;l(),D(u.id)}}function Xe(i,o){i&1&&(n(0,"th",33),p(1,"Name"),a())}function Ye(i,o){if(i&1&&(n(0,"td",34),p(1),a()),i&2){let u=o.$implicit;l(),D(u.name)}}function Ze(i,o){i&1&&(n(0,"th",33),p(1,"Sort Order"),a())}function ti(i,o){if(i&1){let u=w();n(0,"button",37),b("click",function(){y(u);let r=v().$implicit,e=v();return C(e.moveUpOrder(r))}),n(1,"mat-icon"),p(2,"arrow_upward"),a()()}}function ei(i,o){if(i&1){let u=w();n(0,"button",38),b("click",function(){y(u);let r=v().$implicit,e=v();return C(e.moveDownOrder(r))}),n(1,"mat-icon"),p(2,"arrow_downward"),a()()}}function ii(i,o){if(i&1&&(n(0,"td",34),p(1),f(2,ti,3,0,"button",35)(3,ei,3,0,"button",36),a()),i&2){let u=o.$implicit,t=v();l(),et(" ",u.sortOrder," "),l(),c("ngIf",u.sortOrder!==t.minSortOrder),l(),c("ngIf",u.sortOrder!==t.maxSortOrder)}}function ri(i,o){i&1&&(n(0,"th",33),p(1,"Mappings Count"),a())}function oi(i,o){if(i&1&&(n(0,"td",34),p(1),a()),i&2){let u=o.$implicit;l(),D(u.mappingsCount)}}function ni(i,o){i&1&&(n(0,"th",33),p(1,"Created On"),a())}function ai(i,o){if(i&1&&(n(0,"td",34),p(1),rt(2,"date"),a()),i&2){let u=o.$implicit;l(),D(ot(2,1,u.createdOn,"dd-MM-yyyy HH:mm"))}}function si(i,o){i&1&&(n(0,"th",33),p(1,"Created By"),a())}function pi(i,o){if(i&1&&(n(0,"td",34),p(1),a()),i&2){let u=o.$implicit;l(),D(u.createdBy)}}function mi(i,o){i&1&&(n(0,"th",33),p(1,"Updated On"),a())}function li(i,o){if(i&1&&(n(0,"td",34),p(1),rt(2,"date"),a()),i&2){let u=o.$implicit;l(),D(ot(2,1,u.updatedOn,"dd-MM-yyyy HH:mm"))}}function ui(i,o){i&1&&(n(0,"th",33),p(1,"Updated By"),a())}function di(i,o){if(i&1&&(n(0,"td",34),p(1),a()),i&2){let u=o.$implicit;l(),D(u.updatedBy)}}function ci(i,o){i&1&&x(0,"th",39)}function hi(i,o){if(i&1){let u=w();n(0,"td",34)(1,"button",30)(2,"mat-icon"),p(3,"more_vert"),a()(),n(4,"mat-menu",null,2)(6,"button",40)(7,"mat-icon"),p(8,"edit"),a(),n(9,"span"),p(10,"Update"),a()(),n(11,"button",7),b("click",function(){let r=y(u).$implicit,e=v();return C(e.delete(r))}),n(12,"mat-icon"),p(13,"delete"),a(),n(14,"span"),p(15,"Delete"),a()()()()}if(i&2){let u=o.$implicit,t=tt(5);l(),c("matMenuTriggerFor",t),l(5),c("routerLink",gt(2,He,u.slug))}}function fi(i,o){i&1&&x(0,"tr",41)}function gi(i,o){i&1&&x(0,"tr",42)}function Si(i,o){i&1&&x(0,"mat-progress-bar",43)}var Ee=(()=>{let o=class o{constructor(t,r,e,s,d,m,_,h,S){this.groupsService=t,this.dialog=r,this.snackBar=e,this.windowService=s,this.dummyComponentService=d,this.utilityService=m,this.userPreferencesService=_,this.route=h,this.router=S,this.displayedColumns=["id","name","sortOrder","mappingsCount","createdOn","createdBy","updatedOn","updatedBy","edit"],this.dataSource=new xe,this.queryParams={pageSize:0,pageIndex:0,searchTerm:"",sortBy:"",sortDirection:null},this.searchTermSubject=new ct,this.isProvider=!1,this.subscriptions=new O,this.dragAndDropEnabled=!1,this.isLoading=!1,this.noResultsFound=!0,this.message="",this.minSortOrder=0,this.maxSortOrder=0}ngOnInit(){this.isProvider=this.windowService.isProvider,this.dragAndDropEnabled=this.userPreferencesService.dragAndDropEnabled,this.handleRouting(),this.setupSearchTermSubscription()}ngAfterViewInit(){setTimeout(()=>{this.setupQueryParams()})}ngOnDestroy(){this.subscriptions.unsubscribe()}setupQueryParams(){this.queryParamSubscription||(this.queryParamSubscription=this.route.queryParams.subscribe(t=>{let r=+t.page-1||0,e=+t.size||5,s=t.sortBy||"",d=(t.sortDirection?.toLowerCase()??"0")==="0"?s===""?null:E.Asc:E.Desc,m=this.getSearchTermFromRoute(t);this.queryParams.pageIndex===r&&this.queryParams.pageSize===e&&this.queryParams.sortBy===s&&this.queryParams.sortDirection===d&&this.queryParams.searchTerm===m||(this.queryParams.pageIndex=r,this.queryParams.pageSize=e,this.queryParams.sortBy=s,this.queryParams.sortDirection=d,this.queryParams.searchTerm=m,this.searchTermInput.nativeElement.value=m,this.loadData())}),this.subscriptions.add(this.queryParamSubscription))}setupSearchTermSubscription(){this.searchTermSubscription||(this.searchTermSubscription=this.searchTermSubject.pipe(ft(300)).subscribe(t=>{this.queryParams.searchTerm=t,this.loadData()}),this.subscriptions.add(this.searchTermSubscription))}getSearchTermFromRoute(t){let r=!1,e=Object.keys(t).filter(s=>{let d=s.toLocaleLowerCase()==="searchterm";return r||(r=d&&s!=="searchTerm"),d});return e.length>0?r?this.updateQueryParamsForSearchTerm(e,t):t.searchTerm??"":""}updateQueryParamsForSearchTerm(t,r){let e="",s={};return t.forEach(d=>{e+=r[d]+",",s[d]=null}),e=e.substring(0,e.length-1),s.searchTerm=e,this.router.navigate([],{queryParams:s,queryParamsHandling:"merge"}),e}setupSortChangeIfNotAlready(t,r){this.sortChangeSubscription||(this.sort.active=t,this.sort.direction=r===null?"":r===E.Desc?"desc":"asc",this.sortChangeSubscription=this.sort.sortChange.subscribe(()=>{let e=this.sort.direction===""?"":this.sort.active,s=this.sort.direction==="desc"?E.Desc:this.sort.direction===""?null:E.Asc;e===this.queryParams.sortBy&&s===this.queryParams.sortDirection||(this.queryParams.sortBy=e,this.queryParams.sortDirection=s,this.loadData())}),this.subscriptions.add(this.sortChangeSubscription))}onPaginate(t){this.queryParams.pageIndex===t.pageIndex&&this.queryParams.pageSize===t.pageSize||(this.queryParams.pageIndex=t.pageIndex,this.queryParams.pageSize=t.pageSize,this.loadData())}loadData(){this.startFetching();let t=this.groupsService.getPaginatedGroups({searchTerm:this.queryParams.searchTerm,pageIndex:this.queryParams.pageIndex+1,pageSize:this.queryParams.pageSize,sortBy:this.queryParams.sortBy,sortDirection:this.queryParams.sortDirection}).subscribe({next:r=>{let e=r.data;e&&(this.minSortOrder=e.minSortOrder,this.maxSortOrder=e.maxSortOrder,this.dataSource.data=e.appGroups,this.paginator.pageIndex=e.pagingInfo.pageIndex-1,this.paginator.pageSize=e.pagingInfo.pageSize,this.paginator.length=e.pagingInfo.itemCount,this.queryParams.pageIndex=this.paginator.pageIndex,this.queryParams.pageSize=this.paginator.pageSize,this.stopFetching())},error:()=>{this.stopFetching(!0)},complete:()=>{this.setupSortChangeIfNotAlready(this.queryParams.sortBy,this.queryParams.sortDirection),this.updateUrl()}});this.subscriptions.add(t)}startFetching(){this.isLoading=!0}stopFetching(t){if(this.isLoading=!1,!t){if(this.dataSource.data.length>0){this.noResultsFound=!1,this.message="";return}this.queryParams.searchTerm===""?(this.noResultsFound=!0,this.message="No results found."):(this.noResultsFound=!1,this.message="0 matches")}}applyFilter(t){let r=t.target.value;r!==this.queryParams.searchTerm&&(this.queryParams.pageIndex=0,this.searchTermSubject.next(r))}clearSearchTerm(){this.queryParams.searchTerm!==""&&(this.searchTermInput.nativeElement.value="",this.queryParams.pageIndex=0,this.queryParams.searchTerm="",this.loadData())}updateUrl(){this.router.navigate([],{queryParams:{page:this.queryParams.pageIndex+1,size:this.queryParams.pageSize,sortBy:this.queryParams.sortBy===""?null:this.queryParams.sortBy,sortDirection:this.queryParams.sortDirection,searchTerm:this.queryParams.searchTerm===""?null:this.queryParams.searchTerm},queryParamsHandling:"merge"})}handleRouting(){let t=this.dummyComponentService.event$.subscribe(r=>{setTimeout(()=>{if(r!==void 0)switch(r.path){case P.create:this.add();break;case P.update:let e=r.activatedRoute.paramMap.subscribe(s=>{let d=s.get("slug");if(!d)return;let m=this.dataSource.data.find(h=>h.slug===d);if(m){this.update(m);return}let _=this.groupsService.getGroupBySlug({groupIdOrSlug:d}).subscribe({next:h=>{let S=h.data;if(!S)return;let I={id:d,name:S.name,sortOrder:S.sortOrder,rowVersion:S.rowVersion};this.update(I)},error:h=>{this.router.navigate(["./"],{relativeTo:this.route,queryParamsHandling:"merge"})}});this.subscriptions.add(_)});this.subscriptions.add(e);break}},0)});this.subscriptions.add(t)}delete(t){let r="Confirm delete",e=`Are you sure you want to delete the "${t.name}" group?`,s=!1;t.mappingsCount>0&&(e+=" The group has "+t.mappingsCount+' mapping(s). When deleted, the mapped apps in this group will be moved to the "Ungrouped apps" group.',s=!0),e+=" This action cannot be undone.";let d={title:r,message:e,requireConfirmation:s},m=this.dialog.open(st,{width:"500px",data:d}).afterClosed().subscribe(_=>{if(_){let h=this.groupsService.deleteGroup({id:t.id,rowVersion:t.rowVersion}).subscribe(S=>{S.status===409&&S.errors?this.utilityService.error(S.errors,3500):this.snackBar.open("Deleted successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.loadData()});this.subscriptions.add(h)}});this.subscriptions.add(m)}moveUpOrder(t){this.moveOrder(t,!1)}moveDownOrder(t){this.moveOrder(t,!0)}moveOrder(t,r){let e=this.groupsService.updateGroupSortOrder({id:t.id,ascent:r,rowVersion:t.rowVersion}).subscribe(s=>{s.status===409&&s.errors&&this.utilityService.error(s.errors,3500),this.loadData()});this.subscriptions.add(e)}reorder(){let t=this.groupsService.reorder().subscribe(()=>{this.snackBar.open("Reordered successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.loadData()});this.subscriptions.add(t)}add(){let t={id:"0",name:"",sortOrder:0,rowVersion:""},r=this.dialog.open(lt,{data:t,width:"500px",height:"370px",minWidth:"inherit",maxWidth:"inherit",autoFocus:!0}).afterClosed().subscribe(()=>{this.loadData(),this.router.navigate(["./"],{relativeTo:this.route,queryParamsHandling:"merge"})});this.subscriptions.add(r)}update(t){let r=this.dialog.open(lt,{data:t,width:"500px",height:"370px",minWidth:"inherit",maxWidth:"inherit",autoFocus:!1}).afterClosed().subscribe(()=>{this.loadData(),this.router.navigate(["./"],{relativeTo:this.route,queryParamsHandling:"merge"})});this.subscriptions.add(r)}deleteUnmappedGroups(){let e=this.dialog.open(st,{width:"500px",data:{title:"Confirm delete",message:"Are you sure you want to delete the unmapped groups? This action cannot be undone."}}).afterClosed().subscribe(s=>{if(s){let d=this.groupsService.deleteUnmappedGroups().subscribe(()=>{this.snackBar.open("Deleted successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.loadData()});this.subscriptions.add(d)}});this.subscriptions.add(e)}onRowDrop(t){let r=t.previousIndex,e=t.currentIndex;if(r===e)return;let s=e>r,d=this.dataSource.data[r];if(Math.abs(r-e)===1){this.moveOrder(d,s);return}let m=this.dataSource.data[e],_=this.groupsService.dragGroup({sourceId:d.id,targetId:m.id,ascent:s,sourceRowVersion:d.rowVersion}).subscribe(h=>{h.status===409&&h.errors&&this.utilityService.error(h.errors,3500),this.loadData()});this.subscriptions.add(_)}toggleDragAndDrop(){this.dragAndDropEnabled=!this.dragAndDropEnabled,this.userPreferencesService.setDragAndDropEnabled(this.dragAndDropEnabled)}};o.\u0275fac=function(r){return new(r||o)(g(J),g(K),g(z),g(Dt),g(me),g(Kt),g(Tt),g(yt),g(vt))},o.\u0275cmp=q({type:o,selectors:[["ng-component"]],viewQuery:function(r,e){if(r&1&&(B(Y,5),B(Z,5),B(je,5)),r&2){let s;R(s=V())&&(e.paginator=s.first),R(s=V())&&(e.sort=s.first),R(s=V())&&(e.searchTermInput=s.first)}},decls:64,vars:19,consts:[["listOptions","matMenu"],["searchTermInput",""],["menu","matMenu"],[1,"px-3"],[1,"title","mb-3","d-flex"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","",3,"click"],["appearance","fill"],["matInput","","placeholder","Search by name",3,"keyup"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["class","p-2",4,"ngIf"],["mat-table","","matSort","","cdkDropList","",3,"cdkDropListDropped","dataSource","cdkDropListDisabled"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","sortOrder"],["matColumnDef","mappingsCount"],["matColumnDef","createdOn"],["matColumnDef","createdBy"],["matColumnDef","updatedOn"],["matColumnDef","updatedBy"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","cdkDrag","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"page","pageSizeOptions"],["mat-fab","","color","primary","matTooltip","New group","queryParamsHandling","merge",1,"position-fixed","b-0","r-0","mr-3","mb-3",3,"routerLink"],["mode","indeterminate","class","position-fixed l-0 b-0",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-icon-button","","matSuffix","",3,"click"],[1,"p-2"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","matTooltip","Up",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Down",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Up",3,"click"],["mat-icon-button","","matTooltip","Down",3,"click"],["mat-header-cell",""],["mat-menu-item","","queryParamsHandling","merge",3,"routerLink"],["mat-header-row",""],["mat-row","","cdkDrag",""],["mode","indeterminate",1,"position-fixed","l-0","b-0"]],template:function(r,e){if(r&1){let s=w();n(0,"div",3)(1,"div",4)(2,"h1"),p(3,"Groups"),a(),x(4,"span",5),f(5,$e,3,1,"button",6),n(6,"mat-menu",null,0)(8,"button",7),b("click",function(){return y(s),C(e.deleteUnmappedGroups())}),n(9,"mat-icon"),p(10,"delete"),a(),p(11," Delete Unmapped "),a(),n(12,"button",7),b("click",function(){return y(s),C(e.reorder())}),n(13,"mat-icon"),p(14,"reorder"),a(),p(15," Reorder "),a(),n(16,"button",7),b("click",function(){return y(s),C(e.toggleDragAndDrop())}),n(17,"mat-icon"),p(18,"drag_indicator"),a(),p(19),a()()(),n(20,"mat-card")(21,"mat-form-field",8)(22,"mat-label"),p(23,"Search"),a(),n(24,"input",9,1),b("keyup",function(m){return y(s),C(e.applyFilter(m))}),a(),f(26,Qe,3,0,"button",10),a(),f(27,We,2,1,"mat-card-content",11),n(28,"table",12),b("cdkDropListDropped",function(m){return y(s),C(e.onRowDrop(m))}),T(29,13),f(30,Ke,2,0,"th",14)(31,Je,2,1,"td",15),M(),T(32,16),f(33,Xe,2,0,"th",14)(34,Ye,2,1,"td",15),M(),T(35,17),f(36,Ze,2,0,"th",14)(37,ii,4,3,"td",15),M(),T(38,18),f(39,ri,2,0,"th",14)(40,oi,2,1,"td",15),M(),T(41,19),f(42,ni,2,0,"th",14)(43,ai,3,4,"td",15),M(),T(44,20),f(45,si,2,0,"th",14)(46,pi,2,1,"td",15),M(),T(47,21),f(48,mi,2,0,"th",14)(49,li,3,4,"td",15),M(),T(50,22),f(51,ui,2,0,"th",14)(52,di,2,1,"td",15),M(),T(53,23),f(54,ci,1,0,"th",24)(55,hi,16,4,"td",15),M(),f(56,fi,1,0,"tr",25)(57,gi,1,0,"tr",26),a(),n(58,"mat-paginator",27),b("page",function(m){return y(s),C(e.onPaginate(m))}),a()()(),n(59,"button",28)(60,"mat-icon"),p(61,"add"),a()(),f(62,Si,1,0,"mat-progress-bar",29),x(63,"router-outlet")}r&2&&(l(5),c("ngIf",e.dataSource.data.length>0),l(14),et(" ",e.dragAndDropEnabled?"Disable":"Enable"," Drag & Drop "),l(2),F("collapse",e.noResultsFound),l(5),c("ngIf",e.queryParams.searchTerm),l(),c("ngIf",e.message),l(),F("collapse",!(e.dataSource.data.length>0)),c("dataSource",e.dataSource)("cdkDropListDisabled",!e.dragAndDropEnabled),l(28),c("matHeaderRowDef",e.displayedColumns),l(),c("matRowDefColumns",e.displayedColumns),l(),F("collapse",!(e.dataSource.data.length>0)),c("pageSizeOptions",it(17,ze)),l(),c("routerLink",it(18,Ne)),l(3),c("ngIf",e.isLoading))},dependencies:[U,Ct,xt,we,Pe,Q,H,$,le,j,Bt,N,re,ie,oe,zt,Nt,Y,de,he,be,fe,ce,_e,ge,Se,ye,Ce,W,Z,Te,Qt,bt],encapsulation:2});let i=o;return i})();var bi=[{path:P.base,component:Ee,children:[{path:P.create,component:pt,data:{path:P.create}},{path:P.update,component:pt,data:{path:P.update}}]},{path:"**",redirectTo:P.base}],Oe=(()=>{let o=class o{};o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=k({type:o}),o.\u0275inj=L({imports:[nt.forChild(bi),nt]});let i=o;return i})();var xr=(()=>{let o=class o{};o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=k({type:o}),o.\u0275inj=L({imports:[_t,Oe,Ie,qt,at,ue,Rt,Vt,ne,Ht,at,De,ve,ee,pe,$t,Me,Wt]});let i=o;return i})();export{xr as GroupModule};
