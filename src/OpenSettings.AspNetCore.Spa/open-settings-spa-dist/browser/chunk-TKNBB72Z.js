import{a as lo,b as si,d as Pi,f as po,g as mo,i as ho,j as uo,l as go,m as _o}from"./chunk-X6B5O4SW.js";import{a as sn,b as cn,c as qn}from"./chunk-7RH5RYQL.js";import"./chunk-G6D4Y4OK.js";import{a as Ri}from"./chunk-PZKMGYWR.js";import{a as Sn}from"./chunk-FW3R4N23.js";import{a as Cn}from"./chunk-F2KXCSXV.js";import{a as ci,b as $n,c as Ni,d as xn}from"./chunk-C5RUP2P5.js";import"./chunk-4VZSEJXQ.js";import{a as ke}from"./chunk-IDIORXPO.js";import{a as ce}from"./chunk-NNDRUWYZ.js";import{a as We,b as Ke,c as Et,d as Ye,e as _e,f as Ft}from"./chunk-5AEQP52B.js";import{a as Je,b as di,c as fo,d as bo}from"./chunk-BHTWAJBA.js";import{a as yn,b as In,c as wn,d as kn}from"./chunk-YB7VOYSB.js";import{a as Ee,b as qe,c as Fe,d as Qe,e as co,f as Mt,g as oi,h as ri,i as $e}from"./chunk-HLAZOYHB.js";import{A as _n,B as be,C as Fi,D as vn,E as Ai,F as ni,G as oo,H as ro,I as Vi,K as so,L as ai,M as Me,N as Oi,O as de,P as Dt,a as ft,b as Be,c as rn,d as ee,e as Oa,f as ue,g as je,h as Pa,i as ei,j as He,l as Te,m as Ra,n as ze,p as Ge,q as kt,r as Mi,t as ae,u as xt,v as fe,w as ii,x as Tt,y as Ue,z as ao}from"./chunk-M66XJPMI.js";import{$ as ve,$a as se,$c as Ga,A as Ci,Aa as Si,Ab as J,Ac as Ba,B as hi,Ba as gt,C as st,Ca as oe,Cb as E,D as Bt,Da as k,Db as pt,Ea as $,Ec as Qn,F as Ia,Fa as u,Fc as dn,Fd as fn,G as ct,Ga as tn,Gb as Jt,Ha as Y,Hc as ja,Hd as Xa,Ia as dt,Ic as ln,Id as bn,K as wa,Ka as Se,Kb as Ea,L as me,La as gi,Lb as Ie,M as U,Ma as fi,Mb as te,N as W,Na as bi,O as Pe,Oa as s,Oc as Ii,Pa as c,Pc as Ha,Pd as Za,Q as it,Qa as b,Qb as Fa,R as Re,Ra as Sa,Rc as zt,S as L,Sa as xa,Sb as Xt,Sd as eo,T as re,Td as Ui,U as K,Ua as T,Uc as we,Ud as to,V as ui,Va as Yt,Vb as xe,Vc as za,Wb as ie,Wc as pn,Wd as io,Xa as I,Xb as jt,Y as C,Yb as mt,Yc as mn,Z as F,Za as w,Zc as Ct,Zd as qi,_ as B,_a as Ce,_c as hn,a as Ve,ab as Ta,ae as no,bb as he,bd as Ua,ca as Ne,cb as M,cd as qa,da as _,db as S,dc as Zt,dd as Qa,ea as v,eb as x,ec as Aa,ed as ge,fa as Gi,fb as z,fc as Ti,fd as $a,g as j,ga as ka,gb as p,gc as Di,gd as Wa,h as ba,ha as Xi,hb as O,hd as Gt,i as H,ia as yt,ib as q,ic as Oe,id as Ka,j as Ji,jb as _i,jc as Q,jd as un,kb as nt,kd as De,la as Z,lb as at,lc as on,ma as A,mb as ot,mc as Va,md as Ya,n as _a,na as Zi,nb as le,nc as Le,nd as ne,oa as ut,ob as ye,oc as yi,od as St,p as G,pb as Da,qb as vi,qc as Na,ra as en,rb as xi,rd as gn,s as et,sa as m,sb as nn,sd as ti,ta as h,tc as La,td as Ja,u as va,ua as Kt,ub as lt,uc as Ht,vb as wt,vd as bt,w as Wt,wa as Ca,wb as Ma,wd as Ei,x as ya,xb as an,yd as wi,z as tt,za as It}from"./chunk-YYVWG2ID.js";var At=(()=>{let a=class a{constructor(e,t,i){this.httpClient=e,this.authService=t,this.headers=new ie,this.destroy$=new H,this.route=i.controllerOptions.route,this.authService.isAuthenticated$.pipe(W(this.destroy$)).subscribe(n=>{this.headers=n?new ie({Authorization:`${this.authService.token}`}):new ie})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getGroupedApps(e){let t=this.route+"/v1/apps/grouped",i=new jt;e.groupId&&(i=i.append("groupId",e.groupId)),e.searchTerm&&(i=i.append("searchTerm",e.searchTerm));let n=i.toString();return t+=n?"?"+n:"",this.httpClient.get(t,{headers:this.headers})}getAppById(e){let t=this.route+"/v1/apps/"+e.appIdOrSlug;return this.httpClient.get(t,{headers:this.headers})}getAppBySlug(e){let t=this.route+"/v1/apps/slug/"+e.appIdOrSlug;return this.httpClient.get(t,{headers:this.headers})}getApps(e){let t=this.route+"/v1/apps",i=new jt;e.searchTerm&&(i=i.append("searchTerm",e.searchTerm));let n=i.toString();return t+=n?"?"+n:"",this.httpClient.get(t,{headers:this.headers})}updateApp(e){let t=this.route+"/v1/apps/"+e.appId;return this.httpClient.put(t,e.body,{headers:this.headers}).pipe(hi(i=>i.status===409?G(i.error):G()))}createApp(e){let t=this.route+"/v1/apps";return this.httpClient.post(t,e.body,{headers:this.headers})}getGroupedAppDataByAppId(e){let t=this.route+"/v1/apps/"+e.appIdOrSlug+"/grouped";return this.httpClient.get(t,{headers:this.headers})}getGroupedAppDataByAppSlug(e){let t=this.route+"/v1/apps/slug/"+e.appIdOrSlug+"/grouped";return this.httpClient.get(t,{headers:this.headers})}getGroupedAppDataByAppIdAndIdentifierId(e){let t=this.route+"/v1/apps/"+e.appIdOrSlug+"/identifiers/"+e.identifierIdOrSlug+"/grouped";return this.httpClient.get(t,{headers:this.headers})}getGroupedAppDataByAppSlugAndIdentifierSlug(e){let t=this.route+"/v1/apps/slug/"+e.appIdOrSlug+"/identifiers/"+e.identifierIdOrSlug+"/grouped";return this.httpClient.get(t,{headers:this.headers})}deleteApp(e){let t=this.route+"/v1/apps/"+e.appId+"?rowVersion="+encodeURIComponent(e.rowVersion);return this.httpClient.delete(t,{headers:this.headers})}};a.\u0275fac=function(t){return new(t||a)(K(mt),K(Le),K(Q))},a.\u0275prov=Re({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();var wr=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],kr=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function Cr(o,a){o&1&&(s(0,"span",3),se(1,1),c())}function Sr(o,a){o&1&&(s(0,"span",6),se(1,2),c())}var xr='.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational).mdc-ripple-upgraded--background-focused:before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus:before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-hover-state-layer-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-selected-hover-state-layer-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-selected:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}',Tr=[[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Dr=["mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function Mr(o,a){o&1&&b(0,"span",0)}function Er(o,a){o&1&&(s(0,"span",2),se(1),c())}function Fr(o,a){o&1&&se(0,1)}function Ar(o,a){o&1&&b(0,"span",7)}function Vr(o,a){if(o&1&&k(0,Fr,1,0)(1,Ar,1,0),o&2){let l=w();Se(0,l.contentEditInput?0:1)}}function Or(o,a){o&1&&se(0,2)}function Pr(o,a){o&1&&(s(0,"span",5),se(1,3),c())}var ko=["*"],Rr=".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}",Co=new re("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),vo=new re("MatChipAvatar"),yo=new re("MatChipTrailingIcon"),Yn=new re("MatChipRemove"),Zn=new re("MatChip"),Tn=(()=>{let a=class a{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=e}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,t){this._elementRef=e,this._parentChip=t,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,e.nativeElement.nodeName==="BUTTON"&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}};a.\u0275fac=function(t){return new(t||a)(h(Z),h(Zn))},a.\u0275dir=ve({type:a,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(t,i){t&1&&I("click",function(r){return i._handleClick(r)})("keydown",function(r){return i._handleKeydown(r)}),t&2&&($("tabindex",i._getTabindex())("disabled",i._getDisabledAttribute())("aria-disabled",i.disabled),Y("mdc-evolution-chip__action--primary",i._isPrimary)("mdc-evolution-chip__action--presentational",!i.isInteractive)("mdc-evolution-chip__action--trailing",!i._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[C.HasDecoratorInputTransform,"disabled","disabled",E],tabIndex:[C.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?-1:pt(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[oe]});let o=a;return o})();var Mn=(()=>{let a=class a extends Tn{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(e){this.disabled||(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}};a.\u0275fac=(()=>{let e;return function(i){return(e||(e=Xi(a)))(i||a)}})(),a.\u0275dir=ve({type:a,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(t,i){t&2&&$("aria-hidden",null)},standalone:!0,features:[le([{provide:Yn,useExisting:a}]),gt]});let o=a;return o})(),Nr=0,Wi=(()=>{let a=class a{_hasFocus(){return this._hasFocusInternal}get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}constructor(e,t,i,n,r,d,g,f){this._changeDetectorRef=e,this._elementRef=t,this._ngZone=i,this._focusMonitor=n,this._globalRippleOptions=g,this._onFocus=new H,this._onBlur=new H,this.role=null,this._hasFocusInternal=!1,this.id=`mat-mdc-chip-${Nr++}`,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new A,this.destroyed=new A,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=ui(Ka),this._document=r,this._animationsDisabled=d==="NoopAnimations",f!=null&&(this.tabIndex=parseInt(f)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){let e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=tt(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(e){(e.keyCode===8||e.keyCode===46)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(t=>{let i=t._elementRef.nativeElement;return i===e||i.contains(e)})}_getActions(){let e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let t=e!==null;t!==this._hasFocusInternal&&(this._hasFocusInternal=t,t?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(Bt(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}};a.\u0275fac=function(t){return new(t||a)(h(J),h(Z),h(It),h(Ii),h(Jt),h(ut,8),h(mn,8),yt("tabindex"))},a.\u0275cmp=F({type:a,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,i,n){if(t&1&&(he(n,vo,5),he(n,yo,5),he(n,Yn,5),he(n,vo,5),he(n,yo,5),he(n,Yn,5)),t&2){let r;S(r=x())&&(i.leadingIcon=r.first),S(r=x())&&(i.trailingIcon=r.first),S(r=x())&&(i.removeIcon=r.first),S(r=x())&&(i._allLeadingIcons=r),S(r=x())&&(i._allTrailingIcons=r),S(r=x())&&(i._allRemoveIcons=r)}},viewQuery:function(t,i){if(t&1&&M(Tn,5),t&2){let n;S(n=x())&&(i.primaryAction=n.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(t,i){t&1&&I("keydown",function(r){return i._handleKeydown(r)}),t&2&&(Yt("id",i.id),$("role",i.role)("tabindex",i._getTabIndex())("aria-label",i.ariaLabel),dt("mat-"+(i.color||"primary")),Y("mdc-evolution-chip",!i._isBasicChip)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",i.leadingIcon)("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-basic-chip",i._isBasicChip)("mat-mdc-standard-chip",!i._isBasicChip)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon())("_mat-animation-noopable",i._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[C.None,"aria-label","ariaLabel"],ariaDescription:[C.None,"aria-description","ariaDescription"],value:"value",color:"color",removable:[C.HasDecoratorInputTransform,"removable","removable",E],highlighted:[C.HasDecoratorInputTransform,"highlighted","highlighted",E],disableRipple:[C.HasDecoratorInputTransform,"disableRipple","disableRipple",E],disabled:[C.HasDecoratorInputTransform,"disabled","disabled",E],tabIndex:[C.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?void 0:pt(e)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[le([{provide:Zn,useExisting:a}]),oe,ye],ngContentSelectors:kr,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(t,i){t&1&&(Ce(wr),b(0,"span",0),s(1,"span",1)(2,"span",2),k(3,Cr,2,0,"span",3),s(4,"span",4),se(5),b(6,"span",5),c()()(),k(7,Sr,2,0,"span",6)),t&2&&(m(2),u("isInteractive",!1),m(),Se(3,i.leadingIcon?3:-1),m(4),Se(7,i._hasTrailingIcon()?7:-1))},dependencies:[Tn],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational).mdc-ripple-upgraded--background-focused:before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus:before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-hover-state-layer-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-selected-hover-state-layer-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-selected:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let o=a;return o})();var Wn=(()=>{let a=class a{constructor(e,t){this._elementRef=e,this._document=t}initialize(e){this.getNativeElement().focus(),this.setValue(e)}getNativeElement(){return this._elementRef.nativeElement}setValue(e){this.getNativeElement().textContent=e,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){let e=this._document.createRange();e.selectNodeContents(this.getNativeElement()),e.collapse(!1);let t=window.getSelection();t.removeAllRanges(),t.addRange(e)}};a.\u0275fac=function(t){return new(t||a)(h(Z),h(Jt))},a.\u0275dir=ve({type:a,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"],standalone:!0});let o=a;return o})(),Ki=(()=>{let a=class a extends Wi{constructor(e,t,i,n,r,d,g,f){super(e,t,i,n,r,d,g,f),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new A,this._isEditing=!1,this.role="row",this._onBlur.pipe(W(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(e){e.keyCode===13&&!this.disabled?this._isEditing?(e.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(e):this._isEditing?e.stopPropagation():super._handleKeydown(e)}_handleDoubleclick(e){!this.disabled&&this.editable&&this._startEditing(e)}_startEditing(e){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(e.target)===this.removeIcon)return;let t=this.value;this._isEditing=this._editStartPending=!0,this._changeDetectorRef.detectChanges(),setTimeout(()=>{this._getEditInput().initialize(t),this._editStartPending=!1})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}};a.\u0275fac=function(t){return new(t||a)(h(J),h(Z),h(It),h(Ii),h(Jt),h(ut,8),h(mn,8),yt("tabindex"))},a.\u0275cmp=F({type:a,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(t,i,n){if(t&1&&he(n,Wn,5),t&2){let r;S(r=x())&&(i.contentEditInput=r.first)}},viewQuery:function(t,i){if(t&1&&M(Wn,5),t&2){let n;S(n=x())&&(i.defaultEditInput=n.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(t,i){t&1&&I("focus",function(r){return i._handleFocus(r)})("dblclick",function(r){return i._handleDoubleclick(r)}),t&2&&(Yt("id",i.id),$("tabindex",i.disabled?null:-1)("aria-label",null)("aria-description",null)("role",i.role),Y("mat-mdc-chip-with-avatar",i.leadingIcon)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-chip-editing",i._isEditing)("mat-mdc-chip-editable",i.editable)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",i.leadingIcon)("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},standalone:!0,features:[le([{provide:Wi,useExisting:a},{provide:Zn,useExisting:a}]),gt,ye],ngContentSelectors:Dr,decls:10,vars:10,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"tabIndex","disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],["matChipEditInput",""]],template:function(t,i){t&1&&(Ce(Tr),k(0,Mr,1,0,"span",0),s(1,"span",1),k(2,Er,2,0,"span",2),s(3,"span",3),k(4,Vr,2,1)(5,Or,1,0),b(6,"span",4),c()(),k(7,Pr,2,0,"span",5),s(8,"span",6),p(9),c()),t&2&&(Se(0,i._isEditing?-1:0),m(),u("tabIndex",i.tabIndex)("disabled",i.disabled),$("aria-label",i.ariaLabel)("aria-describedby",i._ariaDescriptionId),m(),Se(2,i.leadingIcon?2:-1),m(2),Se(4,i._isEditing?4:5),m(3),Se(7,i._hasTrailingIcon()?7:-1),m(),u("id",i._ariaDescriptionId),m(),O(i.ariaDescription))},dependencies:[Tn,Wn],styles:[xr],encapsulation:2,changeDetection:0});let o=a;return o})(),ea=(()=>{let a=class a{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,t,i){this._elementRef=e,this._changeDetectorRef=t,this._dir=i,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new H,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new Zi}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(this.tabIndex!==-1){let e=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=e)}}_getChipStream(e){return this._chips.changes.pipe(me(null),U(()=>tt(...this._chips.map(e))))}_originatesFromChip(e){let t=e.target;for(;t&&t!==this._elementRef.nativeElement;){if(t.classList.contains("mat-mdc-chip"))return!0;t=t.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(me(this._chips)).subscribe(e=>{let t=[];e.forEach(i=>i._getActions().forEach(n=>t.push(n))),this._chipActions.reset(t),this._chipActions.notifyOnChanges()}),this._keyManager=new ln(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(W(this._destroyed)).subscribe(({chip:e})=>{let t=e._getSourceAction(document.activeElement);t&&this._keyManager.updateActiveItem(t)}),this._dir?.change.pipe(W(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(me(null),W(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(W(this._destroyed)).subscribe(e=>{let i=this._chips.toArray().indexOf(e.chip);this._isValidIndex(i)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=i)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),t=this._chips.toArray()[e];t.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():t.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}};a.\u0275fac=function(t){return new(t||a)(h(Z),h(J),h(zt,8))},a.\u0275cmp=F({type:a,selectors:[["mat-chip-set"]],contentQueries:function(t,i,n){if(t&1&&he(n,Wi,5),t&2){let r;S(r=x())&&(i._chips=r)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(t,i){t&1&&I("keydown",function(r){return i._handleKeydown(r)}),t&2&&$("role",i.role)},inputs:{disabled:[C.HasDecoratorInputTransform,"disabled","disabled",E],role:"role",tabIndex:[C.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:pt(e)]},standalone:!0,features:[oe,ye],ngContentSelectors:ko,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(t,i){t&1&&(Ce(),s(0,"div",0),se(1),c())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0});let o=a;return o})();var Jn=class{constructor(a,l){this.source=a,this.value=l}},En=(()=>{let a=class a extends ea{get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||this._chips.length===0)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(ee.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(e){this._value=e}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,t,i,n,r,d,g){super(e,t,i),this.ngControl=g,this.controlType="mat-chip-grid",this._defaultRole="grid",this._ariaDescribedbyIds=[],this._onTouched=()=>{},this._onChange=()=>{},this._value=[],this.change=new A,this.valueChange=new A,this._chips=void 0,this.stateChanges=new H,this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new za(d,g,r,n,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe(W(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),tt(this.chipFocusChanges,this._chips.changes).pipe(W(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit(),this._chipInput}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(e){this._chipInput=e,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(e){!this.disabled&&!this._originatesFromChip(e)&&this.focus()}focus(){this.disabled||this._chipInput.focused||(!this._chips.length||this._chips.first.disabled?Promise.resolve().then(()=>this._chipInput.focus()):this._chips.length&&this._keyManager.setFirstItemActive(),this.stateChanges.next())}setDescribedByIds(e){this._ariaDescribedbyIds=e,this._chipInput?.setDescribedByIds(e)}writeValue(e){this._value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(e){e.keyCode===9?this._chipInput.focused&&Ht(e,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(e.preventDefault(),this._keyManager.activeItem?this._keyManager.setActiveItem(this._keyManager.activeItem):this._focusLastChip()):super._allowFocusEscape():this._chipInput.focused||super._handleKeydown(e),this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){let e=this._chips.length?this._chips.toArray().map(t=>t.value):[];this._value=e,this.change.emit(new Jn(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}};a.\u0275fac=function(t){return new(t||a)(h(Z),h(J),h(zt,8),h(Pa,8),h(Te,8),h(pn),h(Oa,10))},a.\u0275cmp=F({type:a,selectors:[["mat-chip-grid"]],contentQueries:function(t,i,n){if(t&1&&he(n,Ki,5),t&2){let r;S(r=x())&&(i._chips=r)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(t,i){t&1&&I("focus",function(){return i.focus()})("blur",function(){return i._blur()}),t&2&&($("role",i.role)("tabindex",i.disabled||i._chips&&i._chips.length===0?-1:i.tabIndex)("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState),Y("mat-mdc-chip-list-disabled",i.disabled)("mat-mdc-chip-list-invalid",i.errorState)("mat-mdc-chip-list-required",i.required))},inputs:{disabled:[C.HasDecoratorInputTransform,"disabled","disabled",E],placeholder:"placeholder",required:[C.HasDecoratorInputTransform,"required","required",E],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},standalone:!0,features:[le([{provide:ao,useExisting:a}]),oe,gt,ye],ngContentSelectors:ko,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(t,i){t&1&&(Ce(),s(0,"div",0),se(1),c())},styles:[Rr],encapsulation:2,changeDetection:0});let o=a;return o})(),Lr=0,Fn=(()=>{let a=class a{get chipGrid(){return this._chipGrid}set chipGrid(e){e&&(this._chipGrid=e,this._chipGrid.registerInput(this))}get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(e){this._disabled=e}get empty(){return!this.inputElement.value}constructor(e,t,i){this._elementRef=e,this.focused=!1,this.addOnBlur=!1,this.chipEnd=new A,this.placeholder="",this.id=`mat-mdc-chip-list-input-${Lr++}`,this._disabled=!1,this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=t.separatorKeyCodes,i&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(e){if(e)if(e.keyCode===8&&this._focusLastChipOnBackspace){this._chipGrid._focusLastChip(),e.preventDefault();return}else this._focusLastChipOnBackspace=!1;this._emitChipEnd(e)}_keyup(e){!this._focusLastChipOnBackspace&&e.keyCode===8&&this.empty&&(this._focusLastChipOnBackspace=!0,e.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipGrid.stateChanges.next()}_emitChipEnd(e){(!e||this._isSeparatorKey(e))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),e?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}setDescribedByIds(e){let t=this._elementRef.nativeElement;e.length?t.setAttribute("aria-describedby",e.join(" ")):t.removeAttribute("aria-describedby")}_isSeparatorKey(e){return!Ht(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}};a.\u0275fac=function(t){return new(t||a)(h(Z),h(Co),h(_n,8))},a.\u0275dir=ve({type:a,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(t,i){t&1&&I("keydown",function(r){return i._keydown(r)})("keyup",function(r){return i._keyup(r)})("blur",function(){return i._blur()})("focus",function(){return i._focus()})("input",function(){return i._onInput()}),t&2&&(Yt("id",i.id),$("disabled",i.disabled||null)("placeholder",i.placeholder||null)("aria-invalid",i._chipGrid&&i._chipGrid.ngControl?i._chipGrid.ngControl.invalid:null)("aria-required",i._chipGrid&&i._chipGrid.required||null)("required",i._chipGrid&&i._chipGrid.required||null))},inputs:{chipGrid:[C.None,"matChipInputFor","chipGrid"],addOnBlur:[C.HasDecoratorInputTransform,"matChipInputAddOnBlur","addOnBlur",E],separatorKeyCodes:[C.None,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[C.HasDecoratorInputTransform,"disabled","disabled",E]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],standalone:!0,features:[oe,Ne]});let o=a;return o})();var So=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({providers:[pn,{provide:Co,useValue:{separatorKeyCodes:[13]}}],imports:[we,hn,we]});let o=a;return o})();var zr=["panel"],Gr=["*"];function Ur(o,a){if(o&1){let l=T();s(0,"div",1,0),I("@panelAnimation.done",function(t){_(l);let i=w();return v(i._animationDone.next(t))}),se(2),c()}if(o&2){let l=a.id,e=w();dt(e._classList),Y("mat-mdc-autocomplete-visible",e.showPanel)("mat-mdc-autocomplete-hidden",!e.showPanel)("mat-primary",e._color==="primary")("mat-accent",e._color==="accent")("mat-warn",e._color==="warn"),u("id",e.id)("@panelAnimation",e.isOpen?"visible":"hidden"),$("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby(l))}}var qr=gn("panelAnimation",[Ei("void, hidden",bt({opacity:0,transform:"scaleY(0.8)"})),wi(":enter, hidden => visible",[Ja([ti("0.03s linear",bt({opacity:1})),ti("0.12s cubic-bezier(0, 0, 0.2, 1)",bt({transform:"scaleY(1)"}))])]),wi(":leave, visible => hidden",[ti("0.075s linear",bt({opacity:0}))])]),Qr=0,ia=class{constructor(a,l){this.source=a,this.option=l}},Do=new re("mat-autocomplete-default-options",{providedIn:"root",factory:$r});function $r(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var li=(()=>{let a=class a{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}constructor(e,t,i,n){this._changeDetectorRef=e,this._elementRef=t,this._defaults=i,this._activeOptionChanges=j.EMPTY,this._animationDone=new A,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new A,this.opened=new A,this.closed=new A,this.optionActivated=new A,this.id=`mat-autocomplete-${Qr++}`,this.inertGroups=n?.SAFARI||!1,this.autoActiveFirstOption=!!i.autoActiveFirstOption,this.autoSelectActiveOption=!!i.autoSelectActiveOption,this.requireSelection=!!i.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new ja(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let t=new ia(this,e);this.optionSelected.emit(t)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_skipPredicate(){return!1}};a.\u0275fac=function(t){return new(t||a)(h(J),h(Z),h(Do),h(yi))},a.\u0275cmp=F({type:a,selectors:[["mat-autocomplete"]],contentQueries:function(t,i,n){if(t&1&&(he(n,ge,5),he(n,qa,5)),t&2){let r;S(r=x())&&(i.options=r),S(r=x())&&(i.optionGroups=r)}},viewQuery:function(t,i){if(t&1&&(M(Kt,7),M(zr,5)),t&2){let n;S(n=x())&&(i.template=n.first),S(n=x())&&(i.panel=n.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[C.None,"aria-label","ariaLabel"],ariaLabelledby:[C.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[C.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",E],autoSelectActiveOption:[C.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",E],requireSelection:[C.HasDecoratorInputTransform,"requireSelection","requireSelection",E],panelWidth:"panelWidth",disableRipple:[C.HasDecoratorInputTransform,"disableRipple","disableRipple",E],classList:[C.None,"class","classList"],hideSingleSelectionIndicator:[C.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",E]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[le([{provide:Ua,useExisting:a}]),oe,ye],ngContentSelectors:Gr,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(t,i){t&1&&(Ce(),k(0,Ur,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[qr]},changeDetection:0});let o=a;return o})();var Wr={provide:ft,useExisting:it(()=>Qt),multi:!0};var Mo=new re("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let o=ui(qi);return()=>o.scrollStrategies.reposition()}});function Kr(o){return()=>o.scrollStrategies.reposition()}var Yr={provide:Mo,deps:[qi],useFactory:Kr},Qt=(()=>{let a=class a{constructor(e,t,i,n,r,d,g,f,y,D,V){this._element=e,this._overlay=t,this._viewContainerRef=i,this._zone=n,this._changeDetectorRef=r,this._dir=g,this._formField=f,this._document=y,this._viewportRuler=D,this._defaults=V,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=j.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new H,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=va(()=>{let N=this.autocomplete?this.autocomplete.options:null;return N?N.changes.pipe(me(N),U(()=>tt(...N.map(pe=>pe.onSelectionChange)))):this._zone.onStable.pipe(Bt(1),U(()=>this.optionSelections))}),this._handlePanelKeydown=N=>{(N.keyCode===27&&!Ht(N)||N.keyCode===38&&Ht(N,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),N.stopPropagation(),N.preventDefault())},this._trackedModal=null,this._scrollStrategy=d}ngAfterViewInit(){let e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&dn(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return tt(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Ci(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Ci(()=>this._overlayAttached)):G()).pipe(et(e=>e instanceof Qa?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return tt(Wt(this._document,"click"),Wt(this._document,"auxclick"),Wt(this._document,"touchend")).pipe(Ci(e=>{let t=La(e),i=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,n=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&t!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!i||!i.contains(t))&&(!n||!n.contains(t))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(t)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let t=e.keyCode,i=Ht(e);if(t===27&&!i&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&t===13&&this.panelOpen&&!i)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let n=this.autocomplete._keyManager.activeItem,r=t===38||t===40;t===9||r&&!i&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):r&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(r||this.autocomplete._keyManager.activeItem!==n)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let t=e.target,i=t.value;if(t.type==="number"&&(i=i==""?null:parseFloat(i)),this._previousValue!==i){if(this._previousValue=i,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(i),!i)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let n=this.autocomplete.options?.find(r=>r.selected);if(n){let r=this._getDisplayValue(n.value);i!==r&&n.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===e.target){let n=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(n)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=this._zone.onStable.pipe(Bt(1)),t=this.autocomplete.options.changes.pipe(Pe(()=>this._positionStrategy.reapplyLastPosition()),Ia(0));return tt(e,t).pipe(U(()=>(this._zone.run(()=>{let i=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),i!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit())}),this.panelClosingActions)),Bt(1)).subscribe(i=>this._setValueAndClose(i))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let t=this.autocomplete;return t&&t.displayWith?t.displayWith(e):e}_assignOptionValue(e){let t=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(t??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let t=this.autocomplete,i=e?e.source:this._pendingAutoselectedOption;i?(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),t._emitSelectEvent(i),this._element.nativeElement.focus()):t.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),t._animationDone?t._animationDone.pipe(Bt(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,t){this.autocomplete?.options?.forEach(i=>{i!==e&&i.selected&&i.deselect(t)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let t=this.autocomplete.id;Qn(this._trackedModal,"aria-owns",t)}}_attachOverlay(e){this.autocomplete;let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new fn(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})})),t&&!t.hasAttached()&&(t.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let i=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&i!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new io({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,n=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}],r;this.position==="above"?r=n:this.position==="below"?r=t:r=[...t,...n],e.withPositions(r)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let t=-1;for(let i=0;i<e.options.length;i++)if(!e.options.get(i).disabled){t=i;break}e._keyManager.setActiveItem(t)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){let t=this.autocomplete,i=$a(e,t.options,t.optionGroups);if(e===0&&i===1)t._setScrollTop(0);else if(t.panel){let n=t.options.toArray()[e];if(n){let r=n._getHostElement(),d=Wa(r.offsetTop,r.offsetHeight,t._getScrollTop(),t.panel.nativeElement.offsetHeight);t._setScrollTop(d)}}}_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=this.autocomplete.id;this._trackedModal&&dn(this._trackedModal,"aria-owns",t),Qn(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;dn(this._trackedModal,"aria-owns",e),this._trackedModal=null}}};a.\u0275fac=function(t){return new(t||a)(h(Z),h(qi),h(Si),h(It),h(J),h(Mo),h(zt,8),h(_n,9),h(Jt,8),h(Ui),h(Do,8))},a.\u0275dir=ve({type:a,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(t,i){t&1&&I("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(r){return i._handleInput(r)})("keydown",function(r){return i._handleKeydown(r)})("click",function(){return i._handleClick()}),t&2&&$("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-controls",i.autocompleteDisabled||!i.panelOpen||i.autocomplete==null?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[C.None,"matAutocomplete","autocomplete"],position:[C.None,"matAutocompletePosition","position"],connectedTo:[C.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[C.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[C.HasDecoratorInputTransform,"matAutocompleteDisabled","autocompleteDisabled",E]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[le([Wr]),oe,Ne]});let o=a;return o})(),An=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({providers:[Yr],imports:[no,Gt,we,xe,to,Gt,we]});let o=a;return o})();var Xr=["tagSearchInput"];function Zr(o,a){if(o&1){let l=T();s(0,"button",21),I("click",function(){let t;_(l);let i=w();return v((t=i.myForm.get("groupName"))==null?null:t.setValue(""))}),b(1,"mat-icon",22),c()}}function es(o,a){if(o&1){let l=T();s(0,"mat-chip-row",23),I("removed",function(){let t=_(l).$implicit,i=w();return v(i.deleteTag(t.name))}),p(1),s(2,"button",24)(3,"mat-icon"),p(4,"cancel"),c()()()}if(o&2){let l=a.$implicit;m(),q(" ",l.name," ")}}function ts(o,a){if(o&1&&(s(0,"mat-option",25),p(1),c()),o&2){let l=a.$implicit;u("value",l.name),m(),q(" ",l.name," ")}}function is(o,a){if(o&1&&(s(0,"mat-option",25),p(1),c()),o&2){let l=a.$implicit;u("value",l.name),m(),q(" ",l.name," ")}}var Fo=(()=>{let a=class a{constructor(e,t,i,n,r,d,g,f){this.dialog=e,this.snackBar=t,this.formBuilder=i,this.dialogRef=n,this.model=r,this.appsService=d,this.groupsService=g,this.tagsService=f,this.groupFirstTimeClicked=!0,this.tagFirstTimeClicked=!0,this.prefetchedAppTags=[],this.subscriptions=new j,this.destroy$=new H}ngOnInit(){this.myForm=this.formBuilder.group({displayName:[this.model.displayName],clientName:[this.model.clientName,ee.required],slug:[this.model.slug,ee.required],groupName:[this.model.group?.name??""],description:[this.model.description],imageUrl:[this.model.imageUrl],wikiUrl:[this.model.wikiUrl],tags:[[...this.model.tags??[]]],tagSearch:[""]})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onAppGroupFieldFocus(){if(!this.groupFirstTimeClicked)return;this.groupFirstTimeClicked=!1;let e=this.myForm.get("groupName"),t=e.valueChanges.pipe(me(e.value),st(300),ct());this.filteredGroups$=t.pipe(U(i=>this.groupsService.getGroups({searchTerm:i}).pipe(et(n=>n.data?.appGroups??[]))))}onAppTagFieldFocus(){if(!this.tagFirstTimeClicked)return;this.tagFirstTimeClicked=!1;let e=this.myForm.get("tagSearch"),t=e.valueChanges.pipe(me(e.value),st(300),ct());this.filteredTags$=t.pipe(U(i=>this.tagsService.getTags({searchTerm:i}).pipe(et(n=>{let r=n.data;return r?(this.prefetchedAppTags=r.tags,this.prefetchedAppTags.filter(d=>!this.tags.some(g=>g.id===d.id))):[]}))))}onSubmit(){if(this.myForm.valid){let e=this.myForm.value,t=e.clientName;if(this.model.clientName!==t){let r=this.dialog.open($e,{width:"500px",data:{title:"Confirm edit",message:'Updating the "Client Name" may cause problems. Do you want to proceed? (Potential start-up syncing issue)'}}).afterClosed().subscribe(d=>{d&&this.update(e)});this.subscriptions.add(r)}else this.update(e)}}update(e){let t={displayName:e.displayName,client:{id:this.model.clientId,name:e.clientName},slug:e.slug,group:si(e.groupName)?null:{name:e.groupName},description:e.description,imageUrl:e.imageUrl,wikiUrl:e.wikiUrl,tags:e.tags,rowVersion:this.model.rowVersion},i=(r,d)=>this.appsService.updateApp({appId:r,body:d}),n=r=>i(this.model.appId,t).pipe(U(d=>{let g=d.data;if(!g&&d.extras){let f=d.extras.Conflicts[this.model.appId],y=["Discard","Override","Fetch Latest"];return this.dialog.open(ci,{width:"400px",data:y,autoFocus:!1}).afterClosed().pipe(U(D=>{if(D==="Override"){let V=f.properties.RowVersion.current;return t.rowVersion=V,n(V)}else if(D==="Fetch Latest"){let V=this.appsService.getAppById({appIdOrSlug:this.model.appId}).subscribe({next:N=>{let pe=N.data;if(!pe)return;let yr={displayName:pe.displayName,clientName:pe.client.name,slug:pe.slug,group:pe.group?{id:pe.group.id,name:pe.group.name,sortOrder:pe.group.sortOrder}:null,description:pe.description,imageUrl:pe.imageUrl,wikiUrl:pe.wikiUrl,tags:pe.tags.map(Un=>({id:Un.id,name:Un.name,sortOrder:Un.sortOrder})),rowVersion:pe.rowVersion,type:"Fetch Latest"};this.snackBar.open("Latest data fetched successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.dialogRef.close(yr)}});this.subscriptions.add(V)}return G(!1)}))}else if(g){let f={displayName:g.displayName,clientName:g.clientName,slug:g.slug,group:g.group?{id:g.group.id,name:g.group.name,sortOrder:g.group.sortOrder}:null,description:g.description,imageUrl:g.imageUrl,wikiUrl:g.wikiUrl,tags:g.tags.map(y=>({id:y.id,name:y.name,sortOrder:y.sortOrder})),rowVersion:r??g.rowVersion};this.snackBar.open("Data has been updated successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.dialogRef.close(f)}else return G(!1);return G(!0)}));this.subscriptions.add(n().subscribe())}onCancel(){this.dialogRef.close()}get tags(){return this.myForm.get("tags").value}onTagEntered(e){let t=e.value||"";this.addTag(t)}addTag(e){let t=e.trim(),i=t.toLowerCase();if(t&&this.tags.findIndex(n=>n.name.toLowerCase()===i)===-1){let n=this.prefetchedAppTags.find(r=>r.name.toLowerCase()===i)?.id??"0";this.tags.push({id:n,name:t})}this.myForm.get("tagSearch")?.setValue(""),this.tagSearchInput.nativeElement.value=""}deleteTag(e){let t=this.tags.findIndex(i=>i.name===e);t!==-1&&this.tags.splice(t,1)}onTagSelected(e){let t=e.option.value;this.addTag(t)}};a.\u0275fac=function(t){return new(t||a)(h(Fe),h(ce),h(Ge),h(Ee),h(qe),h(At),h(Ri),h(Cn))},a.\u0275cmp=F({type:a,selectors:[["ng-component"]],viewQuery:function(t,i){if(t&1&&M(Xr,5),t&2){let n;S(n=x())&&(i.tagSearchInput=n.first)}},decls:69,vars:18,consts:[["chipGrid",""],["tagSearchInput",""],["groupAuto","matAutocomplete"],["auto","matAutocomplete"],[3,"formGroup"],["mat-dialog-title",""],["appearance","fill"],["matInput","","formControlName","displayName",3,"maxLength"],["matInput","","formControlName","clientName",3,"maxLength"],["matInput","","formControlName","slug",3,"maxLength"],["matInput","","formControlName","groupName",3,"focus","maxLength","matAutocomplete"],["mat-icon-button","","matSuffix","","type","button",3,"click",4,"ngIf"],["matInput","","formControlName","description",3,"maxLength"],["matInput","","formControlName","imageUrl"],["matInput","","formControlName","wikiUrl"],["placeholder","New tag... (press 'Enter' to add)","formControlName","tagSearch",3,"matChipInputTokenEnd","focus","matChipInputFor","matAutocomplete"],[1,"modal-footer"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"optionSelected"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["fontIcon","clear"],[3,"removed"],["matChipRemove",""],[3,"value"]],template:function(t,i){if(t&1){let n=T();s(0,"form",4)(1,"h2",5),p(2),c(),s(3,"mat-dialog-content")(4,"mat-form-field",6)(5,"mat-label"),p(6,"Display Name"),c(),b(7,"input",7),s(8,"mat-error"),p(9,"Please provide a valid value"),c()(),s(10,"mat-form-field",6)(11,"mat-label"),p(12,"Client Name"),c(),b(13,"input",8),s(14,"mat-error"),p(15,"Please provide a valid value"),c()(),s(16,"mat-form-field",6)(17,"mat-label"),p(18,"Slug"),c(),b(19,"input",9),s(20,"mat-error"),p(21,"Please provide a valid value"),c()(),s(22,"mat-form-field",6)(23,"mat-label"),p(24,"Group"),c(),s(25,"input",10),I("focus",function(){return _(n),v(i.onAppGroupFieldFocus())}),c(),k(26,Zr,2,0,"button",11),s(27,"mat-error"),p(28,"Please provide a valid value"),c()(),s(29,"mat-form-field",6)(30,"mat-label"),p(31,"Description"),c(),b(32,"textarea",12),s(33,"mat-error"),p(34,"Please provide a valid value"),c()(),s(35,"mat-form-field",6)(36,"mat-label"),p(37,"Image Url"),c(),b(38,"input",13),s(39,"mat-error"),p(40,"Please provide a valid value"),c()(),s(41,"mat-form-field",6)(42,"mat-label"),p(43,"Wiki Url"),c(),b(44,"input",14),s(45,"mat-error"),p(46,"Please provide a valid value"),c()(),s(47,"mat-form-field",6)(48,"mat-label"),p(49,"Tags"),c(),s(50,"mat-chip-grid",null,0),fi(52,es,5,1,"mat-chip-row",null,gi),c(),s(54,"input",15,1),I("matChipInputTokenEnd",function(d){return _(n),v(i.onTagEntered(d))})("focus",function(){return _(n),v(i.onAppTagFieldFocus())}),c()()(),s(56,"mat-dialog-actions",16)(57,"button",17),p(58,"Cancel"),c(),s(59,"button",18),I("click",function(){return _(n),v(i.onSubmit())}),p(60,"Save"),c()()(),s(61,"mat-autocomplete",null,2),k(63,ts,2,2,"mat-option",19),lt(64,"async"),c(),s(65,"mat-autocomplete",20,3),I("optionSelected",function(d){return _(n),v(i.onTagSelected(d))}),k(67,is,2,2,"mat-option",19),lt(68,"async"),c()}if(t&2){let n,r=z(51),d=z(62),g=z(66);u("formGroup",i.myForm),m(2),q("Update - ",i.model.clientName,""),m(5),u("maxLength",50),m(6),u("maxLength",50),m(6),u("maxLength",50),m(6),u("maxLength",50)("matAutocomplete",d),m(),u("ngIf",(n=i.myForm.get("groupName"))==null?null:n.value),m(6),u("maxLength",250),m(20),bi(i.tags),m(2),u("matChipInputFor",r)("matAutocomplete",g),m(5),u("disabled",i.myForm.invalid),m(4),u("ngForOf",wt(64,14,i.filteredGroups$)),m(4),u("ngForOf",wt(68,16,i.filteredTags$))}},dependencies:[Ie,te,He,Be,ue,je,Te,ze,be,fe,ii,Ue,ae,ge,De,ne,En,Fn,Mn,Ki,Qe,co,oi,Mt,li,Qt,Me,Xt],encapsulation:2});let o=a;return o})();var ns=["tagSearchInput"];function as(o,a){if(o&1){let l=T();s(0,"button",29),I("click",function(){_(l);let t=w();return v(t.copyToClipboard("clientId"))}),s(1,"mat-icon"),p(2,"content_copy"),c()()}}function os(o,a){o&1&&(s(0,"mat-error",30),p(1,"Invalid GUID. Please use the format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx."),c())}function rs(o,a){if(o&1){let l=T();s(0,"button",29),I("click",function(){_(l);let t=w();return v(t.copyToClipboard("clientSecret"))}),s(1,"mat-icon"),p(2,"content_copy"),c()()}}function ss(o,a){o&1&&(s(0,"mat-error",30),p(1,"Invalid GUID. Please use the format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx."),c())}function cs(o,a){if(o&1){let l=T();s(0,"button",31),I("click",function(){let t;_(l);let i=w();return v((t=i.form.get("groupName"))==null?null:t.setValue(""))}),b(1,"mat-icon",32),c()}}function ds(o,a){if(o&1){let l=T();s(0,"mat-chip-row",33),I("removed",function(){let t=_(l).$implicit,i=w();return v(i.deleteTag(t.name))}),p(1),s(2,"button",34)(3,"mat-icon"),p(4,"cancel"),c()()()}if(o&2){let l=a.$implicit;m(),q(" ",l.name," ")}}function ls(o,a){if(o&1&&(s(0,"mat-option",35),p(1),c()),o&2){let l=a.$implicit;u("value",l.name),m(),q(" ",l.name," ")}}function ps(o,a){if(o&1&&(s(0,"mat-option",35),p(1),c()),o&2){let l=a.$implicit;u("value",l.name),m(),q(" ",l.name," ")}}var Ao=(()=>{let a=class a{constructor(e,t,i,n,r,d,g,f,y){this.dialogRef=e,this.appsService=t,this.groupsService=i,this.tagsService=n,this.formBuilder=r,this.utilityService=d,this.windowService=g,this.snackBar=f,this.dialog=y,this.isFullScreen=!1,this.selectedGroupId=null,this.groupFirstTimeClicked=!0,this.tagFirstTimeClicked=!0,this.prefetchedAppTags=[],this.subscriptions=new j}ngOnInit(){this.form=this.formBuilder.group({displayName:[""],clientName:["",ee.required],slug:[""],clientId:[on(),[ee.required,qn.mustGuid]],clientSecret:[on(),[ee.required,qn.mustGuid]],groupName:[""],groupId:["0"],description:[""],imageUrl:[""],wikiUrl:[""],tags:[[]],tagSearch:[""]}),this.isConnectionSecure=this.windowService.isConnectionSecure}ngOnDestroy(){this.subscriptions.unsubscribe()}generateGuid(e){this.form.get(e)?.setValue(on())}toggleFullScreen(){this.isFullScreen=!this.isFullScreen;let e=document.querySelector(".mat-mdc-dialog-surface");this.isFullScreen?(e?.setAttribute("style",`
                  border-radius: 0 !important;
                `),this.dialogRef.updateSize("100%","100%")):(this.dialogRef.updateSize("1350px","680px"),e?.removeAttribute("style"))}get tags(){return this.form.get("tags").value}onAppGroupFieldFocus(){if(!this.groupFirstTimeClicked)return;this.groupFirstTimeClicked=!1;let e=this.form.get("groupName"),t=e.valueChanges.pipe(me(e.value),st(300),ct());this.filteredGroups$=t.pipe(U(i=>this.groupsService.getGroups({searchTerm:i}).pipe(et(n=>{let r=n.data?.appGroups;if(!r)return[];let d=r.find(g=>g.name.toLowerCase()===i.toLowerCase());return this.selectedGroupId=d?d.id:null,r}))))}onAppTagFieldFocus(){if(!this.tagFirstTimeClicked)return;this.tagFirstTimeClicked=!1;let e=this.form.get("tagSearch"),t=e.valueChanges.pipe(me(e.value),st(300),ct());this.filteredTags$=t.pipe(U(i=>this.tagsService.getTags({searchTerm:i}).pipe(et(n=>{let r=n.data;return r?(this.prefetchedAppTags=r.tags,this.prefetchedAppTags.filter(d=>!this.tags.some(g=>g.id===d.id))):[]}))))}onSubmit(){if(!this.form.valid)return;let i=this.dialog.open($e,{width:"500px",data:{title:"Warn!",message:'Unsaved "Client Secret" will not retrievable later. Do you want to proceed?'}}).afterClosed().subscribe(n=>{if(n){let r=this.form.value;this.add(r)}});this.subscriptions.add(i)}add(e){let t={displayName:e.displayName,slug:e.slug,client:{name:e.clientName,id:e.clientId,secret:e.clientSecret},group:si(e.groupName)?null:{id:this.selectedGroupId??e.groupId,name:e.groupName,sortOrder:0},description:e.description,imageUrl:e.imageUrl,wikiUrl:e.wikiUrl,tags:e.tags},i=this.appsService.createApp({body:t}).subscribe(n=>{n&&(this.snackBar.open("Added successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.dialogRef.close(n.data))});this.subscriptions.add(i)}onTagEntered(e){let t=e.value||"";this.addTag(t)}addTag(e){let t=e.trim(),i=t.toLowerCase();if(t&&this.tags.findIndex(n=>n.name.toLowerCase()===i)===-1){let n=this.prefetchedAppTags.find(r=>r.name.toLowerCase()===i)?.id??"0";this.tags.push({id:n,name:t,sortOrder:0,rowVersion:""})}this.form.get("tagSearch")?.setValue(""),this.tagSearchInput.nativeElement.value=""}deleteTag(e){let t=this.tags.findIndex(i=>i.name===e);t!==-1&&this.tags.splice(t,1)}onTagSelected(e){let t=e.option.value;this.addTag(t)}copyToClipboard(e){let t=this.form.get(e);t&&this.utilityService.copyToClipboard(t.value)}};a.\u0275fac=function(t){return new(t||a)(h(Ee),h(At),h(Ri),h(Cn),h(Ge),h(ke),h(Q),h(ce),h(Fe))},a.\u0275cmp=F({type:a,selectors:[["ng-component"]],viewQuery:function(t,i){if(t&1&&M(ns,5),t&2){let n;S(n=x())&&(i.tagSearchInput=n.first)}},decls:96,vars:21,consts:[["chipGrid",""],["tagSearchInput",""],["groupAuto","matAutocomplete"],["auto","matAutocomplete"],[1,"d-flex","border-bottom"],[1,"dialog-title"],[1,"spacer"],["mat-icon-button","","matTooltipPosition","above",3,"click","matTooltip"],["mat-icon-button","","mat-dialog-close","","matToolTip","Close","matTooltipPosition","above"],[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","formControlName","clientName"],["matInput","","formControlName","clientId"],["color","primary","type","button","matSuffix","","mat-icon-button","","matTooltip","Random","matTooltipPosition","below",3,"click"],["color","primary","type","button","matSuffix","","mat-icon-button","","matTooltip","Copy","matTooltipPosition","below",3,"click",4,"ngIf"],["class","mb-2",4,"ngIf"],["matInput","","formControlName","clientSecret"],["multi",""],["expanded","false"],["matInput","","formControlName","groupName",3,"focus","maxLength","matAutocomplete"],["mat-icon-button","","matSuffix","","type","button",3,"click",4,"ngIf"],["matInput","","formControlName","displayName",3,"maxLength"],["matInput","","formControlName","description",3,"maxLength"],["matInput","","formControlName","imageUrl"],["matInput","","formControlName","wikiUrl"],["placeholder","New tag... (press 'Enter' to add)","formControlName","tagSearch",3,"matChipInputTokenEnd","focus","matChipInputFor","matAutocomplete"],["mat-raised-button","","color","primary",1,"ml-3",3,"disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"optionSelected"],["color","primary","type","button","matSuffix","","mat-icon-button","","matTooltip","Copy","matTooltipPosition","below",3,"click"],[1,"mb-2"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["fontIcon","clear"],[3,"removed"],["matChipRemove",""],[3,"value"]],template:function(t,i){if(t&1){let n=T();s(0,"div",4)(1,"div",5),p(2,"Create a new app"),c(),b(3,"span")(4,"span",6),s(5,"button",7),I("click",function(){return _(n),v(i.toggleFullScreen())}),s(6,"mat-icon"),p(7),c()(),s(8,"button",8)(9,"mat-icon"),p(10,"close"),c()()(),s(11,"form",9),I("ngSubmit",function(){return _(n),v(i.onSubmit())}),s(12,"mat-dialog-content")(13,"mat-form-field",10)(14,"mat-label"),p(15,"Client Name"),c(),b(16,"input",11),s(17,"mat-hint"),p(18,'This name should match the project name specified in the project settings and must be unique (also known as the startup project), e.g., "Provider.Api".'),c()(),s(19,"mat-form-field",10)(20,"mat-label"),p(21,"Client Id"),c(),b(22,"input",12),s(23,"button",13),I("click",function(){return _(n),v(i.generateGuid("clientId"))}),s(24,"mat-icon"),p(25,"casino"),c()(),k(26,as,3,0,"button",14)(27,os,2,0,"mat-error",15),c(),s(28,"mat-form-field",10)(29,"mat-label"),p(30,"Client Secret"),c(),b(31,"input",16),s(32,"mat-hint"),p(33,"Save it somewhere secure."),c(),s(34,"button",13),I("click",function(){return _(n),v(i.generateGuid("clientSecret"))}),s(35,"mat-icon"),p(36,"casino"),c()(),k(37,rs,3,0,"button",14),c(),k(38,ss,2,0,"mat-error",15),s(39,"mat-accordion",17)(40,"mat-expansion-panel",18)(41,"mat-expansion-panel-header")(42,"mat-panel-title"),p(43,"Others"),c(),b(44,"mat-panel-description"),c(),s(45,"mat-form-field",10)(46,"mat-label"),p(47,"Group"),c(),s(48,"input",19),I("focus",function(){return _(n),v(i.onAppGroupFieldFocus())}),c(),s(49,"mat-error"),p(50,"Please provide a valid value"),c(),k(51,cs,2,0,"button",20),c(),s(52,"mat-form-field")(53,"mat-label"),p(54,"Display Name"),c(),b(55,"textarea",21),s(56,"mat-error"),p(57,"Please provide a valid value"),c()(),s(58,"mat-form-field")(59,"mat-label"),p(60,"Description"),c(),b(61,"textarea",22),s(62,"mat-error"),p(63,"Please provide a valid value"),c()(),s(64,"mat-form-field")(65,"mat-label"),p(66,"Image Url"),c(),b(67,"input",23),s(68,"mat-error"),p(69,"Please provide a valid value"),c()(),s(70,"mat-form-field")(71,"mat-label"),p(72,"WikiUrl"),c(),b(73,"input",24),s(74,"mat-error"),p(75,"Please provide a valid value"),c()(),s(76,"mat-form-field",10)(77,"mat-label"),p(78,"Tags"),c(),s(79,"mat-chip-grid",null,0),fi(81,ds,5,1,"mat-chip-row",null,gi),c(),s(83,"input",25,1),I("matChipInputTokenEnd",function(d){return _(n),v(i.onTagEntered(d))})("focus",function(){return _(n),v(i.onAppTagFieldFocus())}),c()()()()(),s(85,"mat-dialog-actions")(86,"button",26),p(87," Create "),c()()(),s(88,"mat-autocomplete",null,2),k(90,ls,2,2,"mat-option",27),lt(91,"async"),c(),s(92,"mat-autocomplete",28,3),I("optionSelected",function(d){return _(n),v(i.onTagSelected(d))}),k(94,ps,2,2,"mat-option",27),lt(95,"async"),c()}if(t&2){let n,r,d,g=z(80),f=z(89),y=z(93);m(5),u("matTooltip",i.isFullScreen?"Exit full screen":"Enter full screen"),m(2),O(i.isFullScreen?"fullscreen_exit":"fullscreen"),m(4),u("formGroup",i.form),m(15),u("ngIf",i.isConnectionSecure),m(),u("ngIf",(n=i.form.get("clientId"))==null?null:n.hasError("invalidGuid")),m(10),u("ngIf",i.isConnectionSecure),m(),u("ngIf",(r=i.form.get("clientSecret"))==null?null:r.hasError("invalidGuid")),m(10),u("maxLength",50)("matAutocomplete",f),m(3),u("ngIf",(d=i.form.get("groupName"))==null?null:d.value),m(4),u("maxLength",250),m(6),u("maxLength",250),m(20),bi(i.tags),m(2),u("matChipInputFor",g)("matAutocomplete",y),m(3),u("disabled",i.form.invalid),m(4),u("ngForOf",wt(91,17,i.filteredGroups$)),m(4),u("ngForOf",wt(95,19,i.filteredTags$))}},dependencies:[Ie,te,He,Be,ue,je,Te,ze,be,fe,Tt,ii,Ue,ae,_e,We,Ke,Ye,Et,ge,De,ne,En,Fn,Mn,Ki,Qe,oi,Mt,de,li,Qt,Me,Xt],styles:[".mat-mdc-form-field-subscript-wrapper{height:25px}"]});let o=a;return o})();var Xe={base:"",create:"create",update:":appId/update",view:":appId"},P={viewNewIdentifierMapping:"new",viewSettings:":identifierId/settings",viewSettings2:"settings",viewSetting:":identifierId/settings/:settingId",viewConfiguration:":identifierId/configuration",viewCreateSetting:":identifierId/settings/new",viewUpdateSetting:":identifierId/settings/:settingId/update",viewCopySettingTo:":identifierId/settings/:settingId/copyTo",viewSettingHistories:":identifierId/settings/:settingId/histories",viewSettingHistory:":identifierId/settings/:settingId/histories/:historyId",viewInstances:":identifierId/instances",viewInstances2:"instances",viewInstance:":identifierId/instances/:instanceId"};var On=(()=>{let a=class a{constructor(e,t,i){this.httpClient=e,this.authService=t,this.headers=new ie,this.destroy$=new H,this.route=i.controllerOptions.route,this.authService.isAuthenticated$.pipe(W(this.destroy$)).subscribe(n=>{this.headers=n?new ie({Authorization:`${this.authService.token}`}):new ie})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getAppIdentifierMappingsByAppId(e){let t=this.route+"/v1/apps/"+e.appIdOrSlug+"/identifiers";return this.httpClient.get(t,{headers:this.headers})}getAppIdentifierMappingsByAppSlug(e){let t=this.route+"/v1/apps/slug"+e.appIdOrSlug+"/identifiers";return this.httpClient.get(t,{headers:this.headers})}getAppIdentifierMappingByAppIdAndIdentifierId(e){let t=this.route+"/v1/apps/"+e.appIdOrSlug+"/identifiers/"+e.identifierIdOrSlug;return this.httpClient.get(t,{headers:this.headers})}getAppIdentifierMappingByAppSlugAndIdentifierSlug(e){let t=this.route+"/v1/apps/slug/"+e.appIdOrSlug+"/identifiers/"+e.identifierIdOrSlug;return this.httpClient.get(t,{headers:this.headers})}createAppIdentifierMapping(e){let t=this.route+"/v1/apps/"+e.appId+"/identifiers";return this.httpClient.post(t,e.body,{headers:this.headers})}deleteAppIdentifierMapping(e){let t=this.route+"/v1/apps/"+e.appId+"/identifiers/"+e.identifierId+"?rowVersion="+encodeURIComponent(e.mappingRowVersion);return this.httpClient.delete(t,{headers:this.headers})}updateAppIdentifierMappingSortOrder(e){let t=this.route+"/v1/apps/"+e.appId+"/identifiers/"+e.identifierId+"/sort-order";return this.httpClient.put(t,e.body,{headers:this.headers}).pipe(hi(i=>{if(i.status===409)return G(i.error);throw i}))}};a.\u0275fac=function(t){return new(t||a)(K(mt),K(Le),K(Q))},a.\u0275prov=Re({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();var hs=["input"];function us(o,a){if(o&1){let l=T();s(0,"button",15),I("click",function(){_(l);let t=w();return v(t.myForm.get("identifierName").setValue(""))}),s(1,"mat-icon"),p(2,"clear"),c()()}}function gs(o,a){o&1&&(s(0,"mat-error"),p(1,"Identifier already exists."),c())}function fs(o,a){if(o&1&&(s(0,"mat-option",13),p(1),c()),o&2){let l=a.$implicit;u("value",l.name),m(),q(" ",l.name," ")}}var Oo=(()=>{let a=class a{constructor(e,t,i,n,r,d){this.snackBar=e,this.dialogRef=t,this.formBuilder=i,this.model=n,this.identifiersService=r,this.appIdentifierMappingsService=d,this.selectedAppIdentifierId=null,this.selectedAppIdentifierOrder=null,this.fieldFirstTimeClicked=!0,this.title="",this.isManualOrder=!1,this.setSortOrderPositions=$n,this.defaultPosition=$n.Bottom,this.destroy$=new H,this.subscriptions=new j,this.identifierValidator=g=>si(g.value)?{invalidIdentifierName:!0}:this.model.identifiers.some(f=>f.name.toLowerCase()===g.value.toLowerCase())?{identifierExists:!0}:null}ngOnInit(){this.title=this.model.title?this.model.title:`New mapping - ${this.model.clientName}`,this.myForm=this.formBuilder.group({identifierName:["",[ee.required,this.identifierValidator]],identifierId:["0"],position:[this.defaultPosition]})}ngAfterViewInit(){setTimeout(()=>{this.input.nativeElement.focus()},0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.subscriptions.unsubscribe()}onFieldFocus(){if(!this.fieldFirstTimeClicked)return;this.fieldFirstTimeClicked=!1;let e=this.myForm.get("identifierName"),t=e.valueChanges.pipe(me(e.value),st(300),ct());this.filteredAppIdentifiers$=t.pipe(U(i=>this.identifiersService.getIdentifiers({searchTerm:i}).pipe(et(n=>{let r=n.data;if(!r)return[];let d=r.identifiers.filter(f=>!this.model.identifiers.some(y=>y.id===f.id)),g=d.find(f=>f.name.toLowerCase()===i.toLowerCase());return this.selectedAppIdentifierId=g?g.id:null,this.selectedAppIdentifierOrder=g?g.sortOrder:null,d}))))}onSubmit(){if(!this.myForm.valid)return;let e=this.myForm.value,t={setSortOrderPosition:e.position,identifier:{id:this.selectedAppIdentifierId??e.identifierId,name:e.identifierName}},i=this.appIdentifierMappingsService.createAppIdentifierMapping({appId:this.model.appId,body:t}).subscribe({next:n=>{let r=n.data;if(!r)return;let d={mappingSortOrder:r.identifier.mappingSortOrder,identifierId:r.identifier.id,identifierName:t.identifier.name,identifierSortOrder:r.identifier.sortOrder};this.snackBar.open("Added successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.dialogRef.close(d)},error:n=>{let r=n.error;if(r&&r.errors?.find(d=>d.traces==="MappingAlreadyExists")){let d=this.appIdentifierMappingsService.getAppIdentifierMappingByAppSlugAndIdentifierSlug({appIdOrSlug:this.model.appSlug,identifierIdOrSlug:e.identifierName}).subscribe(g=>{let f=g.data;if(!f)return;let y={mappingSortOrder:f.mappingSortOrder,identifierId:f.identifier.id,identifierName:t.identifier.name,identifierSortOrder:f.identifier.sortOrder};this.dialogRef.close(y)});this.subscriptions.add(d)}}});this.subscriptions.add(i)}onPositionChange(){this.myForm.get("position")?.value===-1?this.isManualOrder=!0:this.isManualOrder=!1}};a.\u0275fac=function(t){return new(t||a)(h(ce),h(Ee),h(Ge),h(qe),h(Sn),h(On))},a.\u0275cmp=F({type:a,selectors:[["ng-component"]],viewQuery:function(t,i){if(t&1&&M(hs,5),t&2){let n;S(n=x())&&(i.input=n.first)}},decls:35,vars:12,consts:[["input",""],["groupAuto","matAutocomplete"],[1,"d-flex","mb-2","pb-2","border-bottom"],[1,"spacer"],["mat-icon-button","","mat-dialog-close","","matToolTip","Close","matTooltipPosition","above"],[1,"mt-2"],[3,"ngSubmit","formGroup"],["appearance","fill"],["type","text","matInput","","formControlName","identifierName",3,"focus","maxLength","matAutocomplete"],["mat-icon-button","","matSuffix","","type","button","matTooltip","clear",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","","type","submit","color","primary",3,"disabled"],[4,"ngIf"],["formControlName","position",3,"selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix","","type","button","matTooltip","clear",3,"click"]],template:function(t,i){if(t&1){let n=T();s(0,"div",2)(1,"mat-card-header")(2,"mat-card-title"),p(3),c()(),b(4,"span")(5,"span",3),s(6,"button",4)(7,"mat-icon"),p(8,"close"),c()()(),s(9,"mat-card-content",5)(10,"form",6),I("ngSubmit",function(){return _(n),v(i.onSubmit())}),s(11,"mat-form-field",7)(12,"mat-label"),p(13,"Name"),c(),s(14,"input",8,0),I("focus",function(){return _(n),v(i.onFieldFocus())}),c(),s(16,"mat-hint"),p(17,"If identifier missing, will be created along with the mapping."),c(),k(18,us,3,0,"button",9),s(19,"button",10)(20,"mat-icon"),p(21,"check_circle"),c()(),k(22,gs,2,0,"mat-error",11),c(),s(23,"mat-form-field",7)(24,"mat-label"),p(25,"Position"),c(),s(26,"mat-select",12),I("selectionChange",function(){return _(n),v(i.onPositionChange())}),s(27,"mat-option",13),p(28,"Top"),c(),s(29,"mat-option",13),p(30,"Bottom"),c()()()()(),s(31,"mat-autocomplete",null,1),k(33,fs,2,2,"mat-option",14),lt(34,"async"),c()}if(t&2){let n,r=z(32);m(3),O(i.title),m(7),u("formGroup",i.myForm),m(4),u("maxLength",50)("matAutocomplete",r),m(4),u("ngIf",i.myForm.get("identifierName").value),m(),u("disabled",i.myForm.invalid),m(3),u("ngIf",(n=i.myForm.get("identifierName"))==null?null:n.hasError("identifierExists")),m(5),u("value",i.setSortOrderPositions.Top),m(2),u("value",i.setSortOrderPositions.Bottom),m(4),u("ngForOf",wt(34,10,i.filteredAppIdentifiers$))}},dependencies:[Ie,te,He,Be,ue,je,Te,ze,ae,ni,Vi,Ai,be,fe,Tt,ii,Ue,ge,ne,de,Me,Je,Qe,li,Qt,Xt],encapsulation:2});let o=a;return o})();var Nt=(()=>{let a=class a{constructor(e,t,i){this.httpClient=e,this.authService=t,this.headers=new ie,this.destroy$=new H,this.route=i.controllerOptions.route,this.authService.isAuthenticated$.pipe(W(this.destroy$)).subscribe(n=>{this.headers=n?new ie({Authorization:`${this.authService.token}`}):new ie})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getSettingsByAppIdAndIdentifierId(e){let t=this.route+"/v1/apps/"+e.appIdOrSlug+"/identifiers/"+e.identifierIdOrSlug+"/settings";return this.httpClient.get(t,{headers:this.headers})}getSettingsByAppSlugAndIdentifierSlug(e){let t=this.route+"/v1/apps/slug"+e.appIdOrSlug+"/identifiers/"+e.identifierIdOrSlug+"/settings";return this.httpClient.get(t,{headers:this.headers})}getSettingsData(e){let t=this.route+"/v1/apps/"+e.appId+"/settings/data",i=new jt;e.identifierId&&(i=i.append("identifierId",e.identifierId)),e.ids&&e.ids.length>0&&(i=i.append("ids",e.ids.join(",")));let n=i.toString();return t+=n?"?"+n:"",this.httpClient.get(t,{headers:this.headers})}copySettingTo(e){let t=this.route+"/v1/settings/"+e.settingId+"/copy";return this.httpClient.post(t,e.body,{headers:this.headers})}getSettingData(e){let t=this.route+"/v1/settings/"+e.settingId+"/data";return this.httpClient.get(t,{headers:this.headers})}deleteSetting(e){let t=this.route+"/v1/settings/"+e.settingId+"?rowVersion="+encodeURIComponent(e.rowVersion);return this.httpClient.delete(t,{headers:this.headers})}getSettingById(e){let t=this.route+"/v1/settings/"+e.settingId,i=new jt;e.excludes&&(i=i.append("excludes",e.excludes.join(",")));let n=i.toString();return t+=n?"?"+n:"",this.httpClient.get(t,{headers:this.headers})}updateSetting(e){let t=this.route+"/v1/settings/"+e.settingId;return this.httpClient.put(t,e.body,{headers:this.headers}).pipe(hi(i=>{if(i.status===409)return G(i.error);throw i}))}createSetting(e){let t=this.route+"/v1/settings";return this.httpClient.post(t,e.body,{headers:this.headers})}updateSettingData(e){let t=this.route+"/v1/settings/"+e.settingId+"/data";return this.httpClient.put(t,e.body,{headers:this.headers}).pipe(hi(i=>{if(i.status===409)return G(i.error);throw i}))}};a.\u0275fac=function(t){return new(t||a)(K(mt),K(Le),K(Q))},a.\u0275prov=Re({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();var bs=["button"],_s=["*"];function vs(o,a){if(o&1&&b(0,"mat-pseudo-checkbox",3),o&2){let l=w();u("disabled",l.disabled)}}function ys(o,a){if(o&1&&b(0,"mat-pseudo-checkbox",3),o&2){let l=w();u("disabled",l.disabled)}}var Po=new re("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:Is});function Is(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}var Ro=new re("MatButtonToggleGroup"),ws={provide:ft,useExisting:it(()=>aa),multi:!0},No=0,Pn=class{constructor(a,l){this.source=a,this.value=l}},aa=(()=>{let a=class a{get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get value(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(t=>t.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markButtonsForCheck()}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(e){this._hideMultipleSelectionIndicator=e,this._markButtonsForCheck()}constructor(e,t){this._changeDetector=e,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${No++}`,this.valueChange=new A,this.change=new A,this.appearance=t&&t.appearance?t.appearance:"standard",this.hideSingleSelectionIndicator=t?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=t?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new Za(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(e){let t=new Pn(e,this.value);this._rawValue=t.value,this._controlValueAccessorChangeFn(t.value),this.change.emit(t)}_syncButtonToggle(e,t,i=!1,n=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?t?this._selectionModel.select(e):this._selectionModel.deselect(e):n=!0,n?Promise.resolve().then(()=>this._updateModelValue(e,i)):this._updateModelValue(e,i)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(t=>e.value!=null&&t===e.value):e.value===this._rawValue}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(t=>this._selectValue(t))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){let t=this._buttonToggles.find(i=>i.value!=null&&i.value===e);t&&(t.checked=!0,this._selectionModel.select(t))}_updateModelValue(e,t){t&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}};a.\u0275fac=function(t){return new(t||a)(h(J),h(Po,8))},a.\u0275dir=ve({type:a,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,i,n){if(t&1&&he(n,Rn,5),t&2){let r;S(r=x())&&(i._buttonToggles=r)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,i){t&2&&($("aria-disabled",i.disabled),Y("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard",i.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[C.HasDecoratorInputTransform,"vertical","vertical",E],value:"value",multiple:[C.HasDecoratorInputTransform,"multiple","multiple",E],disabled:[C.HasDecoratorInputTransform,"disabled","disabled",E],hideSingleSelectionIndicator:[C.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",E],hideMultipleSelectionIndicator:[C.HasDecoratorInputTransform,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",E]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[le([ws,{provide:Ro,useExisting:a}]),oe]});let o=a;return o})(),Rn=(()=>{let a=class a{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}constructor(e,t,i,n,r,d){this._changeDetectorRef=t,this._elementRef=i,this._focusMonitor=n,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new A;let g=Number(r);this.tabIndex=g||g===0?g:null,this.buttonToggleGroup=e,this.appearance=d&&d.appearance?d.appearance:"standard"}ngOnInit(){let e=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${No++}`,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){let e=this._isSingleSelector()?!0:!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new Pn(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}};a.\u0275fac=function(t){return new(t||a)(h(Ro,8),h(J),h(Z),h(Ii),yt("tabindex"),h(Po,8))},a.\u0275cmp=F({type:a,selectors:[["mat-button-toggle"]],viewQuery:function(t,i){if(t&1&&M(bs,5),t&2){let n;S(n=x())&&(i._buttonElement=n.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,i){t&1&&I("focus",function(){return i.focus()}),t&2&&($("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),Y("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard",i.appearance==="standard"))},inputs:{ariaLabel:[C.None,"aria-label","ariaLabel"],ariaLabelledby:[C.None,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[C.HasDecoratorInputTransform,"disableRipple","disableRipple",E],appearance:"appearance",checked:[C.HasDecoratorInputTransform,"checked","checked",E],disabled:[C.HasDecoratorInputTransform,"disabled","disabled",E]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[oe,ye],ngContentSelectors:_s,decls:8,vars:11,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,i){if(t&1){let n=T();Ce(),s(0,"button",1,0),I("click",function(){return _(n),v(i._onButtonClick())}),s(2,"span",2),k(3,vs,1,1,"mat-pseudo-checkbox",3)(4,ys,1,1,"mat-pseudo-checkbox",3),se(5),c()(),b(6,"span",4)(7,"span",5)}if(t&2){let n=z(1);u("id",i.buttonId)("disabled",i.disabled||null),$("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),m(3),Se(3,i.buttonToggleGroup&&i.checked&&!i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),m(),Se(4,i.buttonToggleGroup&&i.checked&&i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),m(3),u("matRippleTrigger",n)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[Ct,Ga],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-standard-button-toggle-selected-state-text-color )}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-legacy-button-toggle-selected-state-text-color )}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-legacy-button-toggle-disabled-state-text-color )}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-standard-button-toggle-disabled-selected-state-text-color )}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape);border-bottom-right-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape);border-bottom-left-radius:var(--mat-standard-button-toggle-shape)}"],encapsulation:2,changeDetection:0});let o=a;return o})(),Lo=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[we,hn,Rn,we]});let o=a;return o})();var Cs=["appSelect"];function Ss(o,a){if(o&1&&(s(0,"mat-option",20),p(1),c()),o&2){let l=a.$implicit;u("value",l.id),m(),O(l.client.name)}}function xs(o,a){if(o&1){let l=T();s(0,"button",21),I("click",function(){_(l);let t=w();return v(t.clear())}),s(1,"mat-icon"),p(2,"clear"),c()()}}function Ts(o,a){o&1&&(s(0,"mat-error"),p(1,"Setting already exists."),c())}function Ds(o,a){if(o&1&&(s(0,"mat-option",20),p(1),c()),o&2){let l=a.$implicit;u("value",l.name),m(),q(" ",l.name," ")}}var Bo=(()=>{let a=class a{constructor(e,t,i,n,r,d,g,f,y){this.cdr=e,this.snackBar=t,this.dialogRef=i,this.formBuilder=n,this.model=r,this.settingsService=d,this.appsService=g,this.identifiersService=f,this.windowService=y,this.selectedAppIdentifierId=null,this.selectedAppIdentifierOrder=null,this.fieldFirstTimeClicked=!0,this.selectedApp=null,this.isAppsFetched=!1,this.apps=[],this.appFilterType="1",this.subscriptions=new j,this.destroy$=new H,this.appClientValidator=D=>{if(D.value!==this.model.appId){this.identifierFilterChanged();let V=this.myForm?.get("identifierName");if(V?.hasError("identifierExists")){let N=V.errors;N&&(delete N.identifierExists,V.setErrors(Object.keys(N).length?N:null))}}else{let V=this.myForm?.get("identifierName");if(V)if(this.model.notAvailableAppIdentifiers.some(N=>N.name.toLocaleLowerCase()===V.value.toLocaleLowerCase())){let N=V.errors||{};N.identifierExists=!0,V.setErrors(N)}else{let N=V.errors;N&&N.identifierExists&&(delete N.identifierExists,V.setErrors(Object.keys(N).length?N:null))}}return null},this.identifierValidator=D=>si(D.value)?{invalidIdentifierName:!0}:this.model.appId===this.myForm.get("targetAppId")?.value&&this.model.notAvailableAppIdentifiers.some(V=>V.name.toLocaleLowerCase()===D.value.toLocaleLowerCase())?{identifierExists:!0}:null}ngOnInit(){this.apps.push({id:this.model.appId,client:{id:this.model.clientId,name:this.model.clientName}}),this.myForm=this.formBuilder.group({targetAppId:[this.model.appId,[ee.required,this.appClientValidator]],identifierName:["",[ee.required,this.identifierValidator]],identifierId:["0"]})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.subscriptions.unsubscribe()}getApps(){if(this.isAppsFetched||!this.windowService.isProvider)return;this.isAppsFetched=!0;let e=this.appsService.getApps({}).subscribe({next:t=>{t.data&&(this.apps=t.data,this.cdr.detectChanges(),this.appSelect.open())},error:()=>{this.isAppsFetched=!1}});this.subscriptions.add(e)}clear(){this.myForm.get("identifierName")?.setValue(""),this.identifierFilterChanged()}onFieldFocus(){if(!this.fieldFirstTimeClicked)return;this.fieldFirstTimeClicked=!1;let e=this.myForm.get("identifierName"),t=e.valueChanges.pipe(me(e.value),st(300),ct());this.filteredAppIdentifiers$=t.pipe(U(i=>{let n=this.myForm.get("targetAppId").value,r=this.apps.find(d=>d.id===n).id;return this.identifiersService.getIdentifiers({searchTerm:i,appId:this.appFilterType?r:void 0,isAppMapped:this.appFilterType==="1"}).pipe(et(d=>{if(!d.data)return[];let g=r==this.model.appId?d.data.identifiers.filter(y=>!this.model.notAvailableAppIdentifiers.some(D=>D.name.toLocaleLowerCase()===y.name.toLocaleLowerCase())):d.data.identifiers,f=g.find(y=>y.name.toLowerCase()===i.toLowerCase());return this.selectedAppIdentifierId=f?f.id:null,this.selectedAppIdentifierOrder=f?f.sortOrder:null,g}))}))}identifierFilterChanged(){let e=this.myForm.get("targetAppId").value,t=this.apps.find(n=>n.id===e).id,i=this.myForm.get("identifierName");this.filteredAppIdentifiers$=this.identifiersService.getIdentifiers({searchTerm:i.value,appId:this.appFilterType?t:void 0,isAppMapped:this.appFilterType==="1"}).pipe(et(n=>{if(!n.data)return[];let r=t==this.model.appId?n.data.identifiers.filter(g=>!this.model.notAvailableAppIdentifiers.some(f=>f.name.toLocaleLowerCase()===g.name.toLocaleLowerCase())):n.data.identifiers,d=r.find(g=>g.name.toLowerCase()===i.value.toLowerCase());return this.selectedAppIdentifierId=d?d.id:null,this.selectedAppIdentifierOrder=d?d.sortOrder:null,r}))}onSubmit(){if(!this.myForm.valid)return;let e=this.myForm.value,t={targetAppId:e.targetAppId,identifier:{id:this.selectedAppIdentifierId??e.identifierId,name:e.identifierName}},i=this.settingsService.copySettingTo({settingId:this.model.currentSettingId,body:t}).subscribe(n=>{if(n.success){let r=n.data;if(!r)return;let d={settingId:r.setting.id,clientId:r.clientId,appSlug:r.appSlug,classId:r.setting.classId,identifierId:r.identifier.id,identifierName:r.identifier.name,identifierSortOrder:r.identifier.sortOrder,identifierMappingSortOrder:r.identifier.mappingSortOrder};this.snackBar.open("Copied successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.dialogRef.close(d)}});this.subscriptions.add(i)}close(){this.dialogRef.close()}};a.\u0275fac=function(t){return new(t||a)(h(J),h(ce),h(Ee),h(Ge),h(qe),h(Nt),h(At),h(Sn),h(Q))},a.\u0275cmp=F({type:a,selectors:[["ng-component"]],viewQuery:function(t,i){if(t&1&&M(Cs,5),t&2){let n;S(n=x())&&(i.appSelect=n.first)}},decls:40,vars:12,consts:[["appSelect",""],["groupAuto","matAutocomplete"],[1,"d-flex","mb-2","pb-2","border-bottom"],[1,"spacer"],["mat-icon-button","","matToolTip","Close","matTooltipPosition","above",3,"click"],[1,"mt-2"],[3,"ngSubmit","formGroup"],["appearance","fill",3,"click"],["formControlName","targetAppId"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill"],["type","text","matInput","","formControlName","identifierName",3,"focus","maxLength","matAutocomplete"],["type","button","mat-icon-button","","matSuffix","","matTooltip","clear",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","","type","submit","color","primary",3,"disabled"],[4,"ngIf"],[3,"click"],[3,"ngModelChange","click","change","ngModel"],["value","1"],["value","0"],["value",""],[3,"value"],["type","button","mat-icon-button","","matSuffix","","matTooltip","clear",3,"click"]],template:function(t,i){if(t&1){let n=T();s(0,"div",2)(1,"mat-card-header")(2,"mat-card-title"),p(3),c()(),b(4,"span")(5,"span",3),s(6,"button",4),I("click",function(){return _(n),v(i.close())}),s(7,"mat-icon"),p(8,"close"),c()()(),s(9,"mat-card-content",5)(10,"form",6),I("ngSubmit",function(){return _(n),v(i.onSubmit())}),s(11,"mat-form-field",7),I("click",function(){return _(n),v(i.getApps())}),s(12,"mat-label"),p(13,"Target client name"),c(),s(14,"mat-select",8,0),k(16,Ss,2,2,"mat-option",9),c()(),s(17,"mat-form-field",10)(18,"mat-label"),p(19,"Target identifier name"),c(),s(20,"input",11),I("focus",function(){return _(n),v(i.onFieldFocus())}),c(),k(21,xs,3,0,"button",12),s(22,"button",13)(23,"mat-icon"),p(24,"check_circle"),c()(),k(25,Ts,2,0,"mat-error",14),s(26,"mat-hint"),p(27,"If identifier missing, will be created along with the mapping."),c()()()(),s(28,"mat-autocomplete",null,1)(30,"mat-option",15),I("click",function(d){return _(n),v(d.stopPropagation())}),s(31,"mat-button-toggle-group",16),ot("ngModelChange",function(d){return _(n),at(i.appFilterType,d)||(i.appFilterType=d),v(d)}),I("click",function(d){return _(n),v(d.stopPropagation())})("change",function(){return _(n),v(i.identifierFilterChanged())}),s(32,"mat-button-toggle",17),p(33,"Mapped"),c(),s(34,"mat-button-toggle",18),p(35,"Unmapped"),c(),s(36,"mat-button-toggle",19),p(37,"All"),c()()(),k(38,Ds,2,2,"mat-option",9),lt(39,"async"),c()}if(t&2){let n,r=z(29);m(3),q("Copy '",i.model.className,"' to"),m(7),u("formGroup",i.myForm),m(6),u("ngForOf",i.apps),m(4),u("maxLength",50)("matAutocomplete",r),m(),u("ngIf",i.myForm.get("identifierName").value),m(),u("disabled",i.myForm.invalid),m(3),u("ngIf",(n=i.myForm.get("identifierName"))==null?null:n.hasError("identifierExists")),m(6),nt("ngModel",i.appFilterType),m(7),u("ngForOf",wt(39,10,i.filteredAppIdentifiers$))}},dependencies:[Ie,te,He,Be,ue,je,ei,Te,ze,ae,ni,Vi,Ai,be,fe,Tt,ii,Ue,ge,ne,de,aa,Rn,Me,Je,li,Qt,Xt],encapsulation:2});let o=a;return o})();var Nn=(()=>{let a=class a{constructor(e,t,i){this.httpClient=e,this.authService=t,this.headers=new ie,this.destroy$=new H,this.route=i.controllerOptions.route,this.authService.isAuthenticated$.pipe(W(this.destroy$)).subscribe(n=>{this.headers=n?new ie({Authorization:`${this.authService.token}`}):new ie})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getConfigurationByAppAndIdentifier(e){let t=this.route+`/v1/apps/${e.appId}/identifiers/${e.identifierId}/configuration`;return this.httpClient.get(t,{headers:this.headers})}patchConfiguration(e){let t=this.route+`/v1/apps/${e.appId}/identifiers/${e.identifierId}/configuration`;return this.httpClient.patch(t,e.body,{headers:this.headers})}};a.\u0275fac=function(t){return new(t||a)(K(mt),K(Le),K(Q))},a.\u0275prov=Re({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();var Hi=(()=>{let a=class a{constructor(e){this.userPreferencesService=e,this.settingViewSubject=new Ji(void 0),this.settingView$=this.settingViewSubject.asObservable(),this.appViewMultiSelectionEnabledSubject=new Ji(e.appViewMultiSelectionEnabled),this.appViewMultiSelectionEnabled$=this.appViewMultiSelectionEnabledSubject.asObservable()}get settingView(){return this.settingViewSubject.getValue()}get appViewMultiSelectionEnabled(){return this.appViewMultiSelectionEnabledSubject.getValue()}emitSettingView(e){this.settingViewSubject.next(e)}emitAppViewMultiSelectionEnabled(e){this.userPreferencesService.setAppViewMultiSelectionEnabled(e),this.appViewMultiSelectionEnabledSubject.next(e)}};a.\u0275fac=function(t){return new(t||a)(K(Va))},a.\u0275prov=Re({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();var Ms=["editorContainer"],Es=(o,a)=>({height:o,width:a}),mi=(()=>{let a=class a{constructor(){this.editorWidth="100%",this.theme="vs-light",this.readonly=!1,this.value={},this.invalidData=new A,this.dataChange=new A,this.onChange=()=>{},this.onTouched=()=>{},this.height=0}ngOnInit(){this.initializeEditor()}ngOnDestroy(){this.editor&&this.editor.dispose(),this.editorChangeSubscription&&this.editorChangeSubscription.dispose()}get editorHeight(){return`${this.height}px`}initializeEditor(){if(this.editor)return;let e=this.getJsonValue();this.adjustHeight(e),this.editor=monaco.editor.create(this.editorContainer.nativeElement,{value:e,language:"json",theme:this.theme,automaticLayout:!0,readOnly:this.readonly,minimap:{enabled:!0},glyphMargin:!1,lineNumbers:"on",folding:!0,scrollBeyondLastLine:!0,renderLineHighlight:"none",overviewRulerLanes:0,lineDecorationsWidth:0,hideCursorInOverviewRuler:!0,occurrencesHighlight:"off",quickSuggestions:!1,codeLens:!1,renderWhitespace:"none",hover:{enabled:!1},contextmenu:!1,wordBasedSuggestions:"off",fontLigatures:!1,renderFinalNewline:"off",inlayHints:{enabled:"off"},suggestOnTriggerCharacters:!1}),this.editorChangeSubscription=this.editor.onDidChangeModelContent(()=>{this.updateEditorValue()})}updateEditorValue(){let e=this.editor.getValue();this.adjustHeight(e);try{this.value=JSON.parse(e),typeof this.value=="object"&&this.value!==null?this.emitInvalidData(!1):this.emitInvalidData(!0)}catch{this.emitInvalidData(!0)}this.onChange(this.value)}emitInvalidData(e){this.invalidData.emit(e)}getJsonValue(){return this.value?JSON.stringify(this.value,null,4):"{}"}writeValue(e){if(this.value=e||{},this.editor&&e){let t=this.getJsonValue();this.editor.setValue(t)}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}adjustHeight(e){let t=this.getContentHeight(e);this.height=Math.min(300,t)}getContentHeight(e){return 19*((e.match(/\n/g)||[]).length+1)}formatCode(){this.editor.getAction("editor.action.formatDocument")?.run()}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=F({type:a,selectors:[["json-editor"]],viewQuery:function(t,i){if(t&1&&M(Ms,7),t&2){let n;S(n=x())&&(i.editorContainer=n.first)}},inputs:{id:"id",editorWidth:"editorWidth",theme:"theme",readonly:"readonly",value:"value"},outputs:{invalidData:"invalidData",dataChange:"dataChange"},features:[le([{provide:ft,useExisting:it(()=>a),multi:!0}])],decls:2,vars:4,consts:[["editorContainer",""],[1,"editor-container",3,"ngStyle"]],template:function(t,i){t&1&&b(0,"div",1,0),t&2&&u("ngStyle",xi(1,Es,i.editorHeight,i.editorWidth))},dependencies:[Fa]});let o=a;return o})();var Fs=["textarea"];function As(o,a){if(o&1){let l=T();s(0,"button",25),I("click",function(){_(l);let t=w();return v(t.copyToClipboard(t.computedIdentifierPreview))}),s(1,"mat-icon"),p(2,"content_copy"),c()()}if(o&2){let l=w();u("disabled",!l.computedIdentifierPreview)}}function Vs(o,a){if(o&1){let l=T();s(0,"button",26),I("click",function(){let t;_(l);let i=w();return v(i.copyToClipboard((t=i.form.get("data"))==null?null:t.value))}),s(1,"mat-icon"),p(2,"content_copy"),c()()}}var zo=(()=>{let a=class a{constructor(e,t,i,n,r,d,g,f){this.dialogRef=e,this.data=t,this.settingsService=i,this.formBuilder=n,this.utilityService=r,this.windowService=d,this.snackBar=g,this.themeService=f,this.isFullScreen=!1,this.classFullName="",this.computedIdentifierPreview="",this.jsonInvalid=!1,this.subscriptions=new j,this.theme=this.themeService.isDarkTheme()?"vs-dark":"vs-light"}ngOnInit(){this.form=this.formBuilder.group({computedIdentifier:["",ee.required],classNamespace:["",ee.required],className:["",ee.required],classFullName:["",ee.required],data:[{},[ee.required]],storeInSeparateFile:[!0],ignoreOnFileChange:[!1],registrationMode:[1]}),this.subscriptions.add(this.form.get("classNamespace").valueChanges.subscribe(()=>this.updateClassFullName())),this.subscriptions.add(this.form.get("className").valueChanges.subscribe(()=>this.updateClassFullName())),this.subscriptions.add(this.form.get("computedIdentifier").valueChanges.subscribe(e=>this.updateComputedIdentifierPreview(e))),this.isConnectionSecure=this.windowService.isConnectionSecure}ngOnDestroy(){this.subscriptions.unsubscribe()}updateClassFullName(){let e=this.form.get("classNamespace")?.value,t=this.form.get("className")?.value;if(e&&t){let i=`${e}.${t}`;this.form.get("classFullName")?.setValue(i,{emitEvent:!1});let n=this.form.get("computedIdentifier"),r=n.value;(!r||i.includes(r))&&n?.setValue(i)}}updateComputedIdentifierPreview(e){e&&sn(e)?this.computedIdentifierPreview=e:e?this.computedIdentifierPreview=cn(e):this.computedIdentifierPreview=""}toggleFullScreen(){this.isFullScreen=!this.isFullScreen;let e=document.querySelector(".mat-mdc-dialog-surface");this.isFullScreen?(e?.setAttribute("style",`
                  border-radius: 0 !important;
                `),this.dialogRef.updateSize("100%","100%")):(this.dialogRef.updateSize("1350px","680px"),e?.removeAttribute("style"))}add(){if(this.form.valid){let e=this.form.value,t=JSON.stringify(e.data),i={appId:this.data.appId,identifierId:this.data.identifierId,computedIdentifier:this.computedIdentifierPreview,class:{namespace:e.classNamespace,name:e.className,fullName:e.classFullName},data:t,storeInSeparateFile:e.storeInSeparateFile,ignoreOnFileChange:e.ignoreOnFileChange,registrationMode:e.registrationMode},n=this.settingsService.createSetting({body:i}).subscribe(r=>{let d=r.data;if(!d)return;let g={id:d.settingId,version:"0",classId:d.classId,computedIdentifier:this.computedIdentifierPreview,className:i.class.name,classNamespace:i.class.namespace,classFullName:i.class.fullName,rawData:t,parsedData:Ve({},e.data),storeInSeparateFile:i.storeInSeparateFile,ignoreOnFileChange:i.ignoreOnFileChange,registrationMode:i.registrationMode};this.snackBar.open("Added successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.dialogRef.close(g)});this.subscriptions.add(n)}}download(){let e=this.form.get("data")?.value,t=JSON.stringify(e,null,4);this.utilityService.download(t,this.form.get("className")?.value??this.data.clientName)}upload(e){this.utilityService.upload(e.target.files[0]).then(t=>{let i=JSON.parse(t);if(typeof i=="object"&&i!==null)this.form.get("data")?.setValue(i);else throw"Invalid JSON data";this.snackBar.open("Changes applied. Click Save icon to confirm.","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3})}).catch(t=>{this.snackBar.open(`Error occurred while uploading file. Error: ${t}`,"Close",{horizontalPosition:"right",verticalPosition:"top",duration:8e3})})}copyToClipboard(e){let t=e??"{}";typeof e=="object"&&(t=JSON.stringify(e,null,4)),this.utilityService.copyToClipboard(t)}invalidData(e){this.jsonInvalid=e}};a.\u0275fac=function(t){return new(t||a)(h(Ee),h(qe),h(Nt),h(Ge),h(ke),h(Q),h(ce),h(Pi))},a.\u0275cmp=F({type:a,selectors:[["ng-component"]],viewQuery:function(t,i){if(t&1&&M(Fs,5),t&2){let n;S(n=x())&&(i.textareas=n)}},decls:59,vars:10,consts:[["fileInput",""],[1,"d-flex","border-bottom"],[1,"dialog-title"],[1,"dialog-subtitle"],[1,"spacer"],["mat-icon-button","","matTooltipPosition","above",3,"click","matTooltip"],["mat-icon-button","","mat-dialog-close","","matToolTip","Close","matTooltipPosition","above"],[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","formControlName","classNamespace"],["matInput","","formControlName","className"],["matInput","","formControlName","classFullName"],[1,"d-flex"],["matIconPosition","right","fontIcon","info","matTooltip","The computer identifier is either provided directly as a GUID or is computed based on the class full name (or other string identifier) using an MD5 hash of the UTF-8 bytes of the string. This allows each setting to have a unique identifier.",1,"icon-mini"],["matInput","","formControlName","computedIdentifier"],["matInput","","disabled","",3,"value"],["type","button","matSuffix","","mat-icon-button","","matTooltip","Copy","matTooltipPosition","below",3,"disabled","click",4,"ngIf"],["multi",""],["expanded",""],["type","button","mat-button","","matTooltip","Download","color","primary",3,"click"],["type","button","mat-button","","matTooltip","Upload","color","primary",3,"click"],["type","file","accept",".json,.txt",1,"d-none",3,"change"],["type","button","mat-button","","matTooltip","Copy","color","primary",3,"click",4,"ngIf"],["formControlName","data",3,"invalidData","theme"],["mat-raised-button","","color","primary",1,"ml-3",3,"disabled"],["type","button","matSuffix","","mat-icon-button","","matTooltip","Copy","matTooltipPosition","below",3,"click","disabled"],["type","button","mat-button","","matTooltip","Copy","color","primary",3,"click"]],template:function(t,i){if(t&1){let n=T();s(0,"div",1)(1,"div",2),p(2),c(),s(3,"div",3),p(4),c(),b(5,"span")(6,"span",4),s(7,"button",5),I("click",function(){return _(n),v(i.toggleFullScreen())}),s(8,"mat-icon"),p(9),c()(),s(10,"button",6)(11,"mat-icon"),p(12,"close"),c()()(),s(13,"form",7),I("ngSubmit",function(){return _(n),v(i.add())}),s(14,"mat-dialog-content")(15,"mat-form-field",8)(16,"mat-label"),p(17,"Class Namespace"),c(),b(18,"input",9),c(),s(19,"mat-form-field",8)(20,"mat-label"),p(21,"Class Name"),c(),b(22,"input",10),c(),s(23,"mat-form-field",8)(24,"mat-label"),p(25,"Class Full Name"),c(),b(26,"input",11),c(),s(27,"div",12)(28,"mat-form-field",8)(29,"mat-label"),p(30,"Computed Identifier "),b(31,"mat-icon",13),c(),b(32,"input",14),c(),s(33,"mat-form-field",8)(34,"mat-label"),p(35,"Computed Identifier Preview"),c(),b(36,"input",15),k(37,As,3,1,"button",16),c()(),s(38,"mat-accordion",17)(39,"mat-expansion-panel",18)(40,"mat-expansion-panel-header")(41,"mat-panel-title"),p(42,"Data (Json)"),c(),b(43,"mat-panel-description"),c(),s(44,"div",12),b(45,"span",4),s(46,"button",19),I("click",function(){return _(n),v(i.download())}),s(47,"mat-icon"),p(48,"download"),c()(),s(49,"button",20),I("click",function(){_(n);let d=z(53);return v(d.click())}),s(50,"mat-icon"),p(51,"upload"),c(),s(52,"input",21,0),I("change",function(d){return _(n),v(i.upload(d))}),c()(),k(54,Vs,3,0,"button",22),c(),s(55,"json-editor",23),I("invalidData",function(d){return _(n),v(i.invalidData(d))}),c()()()(),s(56,"mat-dialog-actions")(57,"button",24),p(58," Add "),c()()()}t&2&&(m(2),q("Create > ",i.data.clientName,""),m(2),O(i.data.identifierName),m(3),u("matTooltip",i.isFullScreen?"Exit full screen":"Enter full screen"),m(2),O(i.isFullScreen?"fullscreen_exit":"fullscreen"),m(4),u("formGroup",i.form),m(23),u("value",i.computedIdentifierPreview),m(),u("ngIf",i.isConnectionSecure),m(17),u("ngIf",i.isConnectionSecure),m(),u("theme",i.theme),m(2),u("disabled",i.form.invalid||i.jsonInvalid))},dependencies:[te,He,Be,ue,je,mi,Te,ze,ae,_e,We,Ke,Ye,Et,be,fe,Ue,De,ne,de,Me,Qe,oi,Mt],encapsulation:2});let o=a;return o})();var Ln=(()=>{let a=class a{constructor(e,t,i){this.httpClient=e,this.authService=t,this.headers=new ie,this.destroy$=new H,this.route=i.controllerOptions.route,this.authService.isAuthenticated$.pipe(W(this.destroy$)).subscribe(n=>{this.headers=n?new ie({Authorization:`${this.authService.token}`}):new ie})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getSettingHistoryData(e){let t=this.route+"/v1/setting-histories/"+e.historyId+"/data";return this.httpClient.get(t,{headers:this.headers})}getSettingHistoryById(e){let t=this.route+"/v1/setting-histories/"+e.historyIdOrSlug;return this.httpClient.get(t,{headers:this.headers})}getSettingHistoryBySlug(e){let t=this.route+"/v1/setting-histories/slug/"+e.historyIdOrSlug;return this.httpClient.get(t,{headers:this.headers})}getSettingHistories(e){let t=this.route+"/v1/settings/"+e.settingId+"/histories";return this.httpClient.get(t,{headers:this.headers})}restoreSettingHistory(e){let t=this.route+"/v1/setting-histories/"+e.historyId+"/restore";return this.httpClient.post(t,e.body,{headers:this.headers})}};a.\u0275fac=function(t){return new(t||a)(K(mt),K(Le),K(Q))},a.\u0275prov=Re({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();var Ps=["input"],Rs=["label"],Ns=["*"],Ls=new re("mat-checkbox-default-options",{providedIn:"root",factory:qo});function qo(){return{color:"accent",clickAction:"check-indeterminate"}}var Ae=function(o){return o[o.Init=0]="Init",o[o.Checked=1]="Checked",o[o.Unchecked=2]="Unchecked",o[o.Indeterminate=3]="Indeterminate",o}(Ae||{}),Bs={provide:ft,useExisting:it(()=>Bn),multi:!0},sa=class{},js=0,Uo=qo(),Bn=(()=>{let a=class a{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let t=new sa;return t.source=this,t.checked=e,t}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,t,i,n,r,d){this._elementRef=e,this._changeDetectorRef=t,this._ngZone=i,this._animationMode=r,this._options=d,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new A,this.indeterminateChange=new A,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Ae.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Uo,this.color=this._options.color||Uo.color,this.tabIndex=parseInt(n)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++js}`}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){let t=e!=this._indeterminate;this._indeterminate=e,t&&(this._indeterminate?this._transitionCheckState(Ae.Indeterminate):this._transitionCheckState(this.checked?Ae.Checked:Ae.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let t=this._currentCheckState,i=this._getAnimationTargetElement();if(!(t===e||!i)&&(this._currentAnimationClass&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);let n=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(n)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Ae.Checked:Ae.Unchecked),this._emitChangeEvent()):!this.disabled&&e==="noop"&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,t){if(this._animationMode==="NoopAnimations")return"";switch(e){case Ae.Init:if(t===Ae.Checked)return this._animationClasses.uncheckedToChecked;if(t==Ae.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Ae.Unchecked:return t===Ae.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Ae.Checked:return t===Ae.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Ae.Indeterminate:return t===Ae.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}};a.\u0275fac=function(t){return new(t||a)(h(Z),h(J),h(It),yt("tabindex"),h(ut,8),h(Ls,8))},a.\u0275cmp=F({type:a,selectors:[["mat-checkbox"]],viewQuery:function(t,i){if(t&1&&(M(Ps,5),M(Rs,5),M(Ct,5)),t&2){let n;S(n=x())&&(i._inputElement=n.first),S(n=x())&&(i._labelElement=n.first),S(n=x())&&(i.ripple=n.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(t,i){t&2&&(Yt("id",i.id),$("tabindex",null)("aria-label",null)("aria-labelledby",null),dt(i.color?"mat-"+i.color:"mat-accent"),Y("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked))},inputs:{ariaLabel:[C.None,"aria-label","ariaLabel"],ariaLabelledby:[C.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[C.None,"aria-describedby","ariaDescribedby"],id:"id",required:[C.HasDecoratorInputTransform,"required","required",E],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[C.HasDecoratorInputTransform,"disableRipple","disableRipple",E],tabIndex:[C.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?void 0:pt(e)],color:"color",checked:[C.HasDecoratorInputTransform,"checked","checked",E],disabled:[C.HasDecoratorInputTransform,"disabled","disabled",E],indeterminate:[C.HasDecoratorInputTransform,"indeterminate","indeterminate",E]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[le([Bs,{provide:rn,useExisting:a,multi:!0}]),oe,Ne,ye],ngContentSelectors:Ns,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(t,i){if(t&1){let n=T();Ce(),s(0,"div",3),I("click",function(d){return _(n),v(i._preventBubblingFromLabel(d))}),s(1,"div",4,0)(3,"div",5),I("click",function(){return _(n),v(i._onTouchTargetClick())}),c(),s(4,"input",6,1),I("blur",function(){return _(n),v(i._onBlur())})("click",function(){return _(n),v(i._onInputClick())})("change",function(d){return _(n),v(i._onInteractionEvent(d))}),c(),b(6,"div",7),s(7,"div",8),Gi(),s(8,"svg",9),b(9,"path",10),c(),ka(),b(10,"div",11),c(),b(11,"div",12),c(),s(12,"label",13,2),se(14),c()()}if(t&2){let n=z(2);u("labelPosition",i.labelPosition),m(4),Y("mdc-checkbox--selected",i.checked),u("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled)("id",i.inputId)("required",i.required)("tabIndex",i.disabled?-1:i.tabIndex),$("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("aria-checked",i.indeterminate?"mixed":null)("name",i.name)("value",i.value),m(7),u("matRippleTrigger",n)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),m(),u("for",i.inputId)}},dependencies:[Ct,un],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let o=a;return o})();var jn=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[Bn,we,we]});let o=a;return o})();var zs=["diffEditorContainer"],Qo=(()=>{let a=class a{constructor(){this.originalData={},this.modifiedData={},this.editorWidth="100%",this.theme="vs-light",this.sideBySide=!0,this.height=75}ngOnInit(){this.initializeEditor()}ngOnDestroy(){this.diffEditor&&this.diffEditor.dispose(),this.originalModel&&this.originalModel.dispose(),this.modifiedModel&&this.modifiedModel.dispose()}ngOnChanges(e){(e.originalData||e.modifiedData)&&this.updateEditorContent()}get editorHeight(){return`${this.height}px`}initializeEditor(){this.diffEditor||(this.diffEditor=monaco.editor.createDiffEditor(this.diffEditorContainer.nativeElement,{theme:this.theme,automaticLayout:!0,renderSideBySide:this.sideBySide,renderOverviewRuler:!0,minimap:{enabled:!0},glyphMargin:!1,lineNumbers:"on",folding:!0,scrollBeyondLastLine:!0,renderLineHighlight:"line",selectionHighlight:!0,renderWhitespace:"none",links:!1,contextmenu:!1,cursorBlinking:"solid",smoothScrolling:!0,wordWrap:"on",enableSplitViewResizing:!0,renderIndicators:!1,readOnly:!0,ignoreTrimWhitespace:!0,hideCursorInOverviewRuler:!0,renderControlCharacters:!1}),this.updateEditorContent())}updateEditorContent(){if(!this.diffEditor)return;let e=JSON.stringify(this.originalData,null,4),t=JSON.stringify(this.modifiedData,null,4);this.originalModel=monaco.editor.createModel(e,"json"),this.modifiedModel=monaco.editor.createModel(t,"json"),this.diffEditor.setModel({original:this.originalModel,modified:this.modifiedModel}),this.adjustHeight(e.length>t.length?e:t)}adjustHeight(e){let t=this.getContentHeight(e);this.height=Math.min(300,t)}getContentHeight(e){return 19*((e.match(/\n/g)||[]).length+1)}toggleSideBySide(){this.sideBySide=!this.sideBySide,this.diffEditor&&this.diffEditor.updateOptions({renderSideBySide:this.sideBySide})}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=F({type:a,selectors:[["json-diff-editor"]],viewQuery:function(t,i){if(t&1&&M(zs,7),t&2){let n;S(n=x())&&(i.diffEditorContainer=n.first)}},inputs:{originalData:"originalData",modifiedData:"modifiedData",editorWidth:"editorWidth",theme:"theme",sideBySide:"sideBySide"},features:[Ne],decls:4,vars:5,consts:[["diffEditorContainer",""],[3,"click","checked"]],template:function(t,i){if(t&1){let n=T();b(0,"div",null,0),s(2,"mat-checkbox",1),I("click",function(){return _(n),v(i.toggleSideBySide())}),p(3,"Render side by side"),c()}t&2&&(tn("width",i.editorWidth)("height",i.editorHeight),m(2),u("checked",i.sideBySide))},dependencies:[Bn]});let o=a;return o})();var Us=["versionSelection"];function qs(o,a){if(o&1&&(s(0,"mat-option",11),p(1),c()),o&2){let l=a.$implicit,e=w();u("value",l.version)("disabled",l.version===e.data.currentVersion),m(),_i("v",l.version," - ",l.createdOn,"")}}function Qs(o,a){if(o&1){let l=T();s(0,"button",21),I("click",function(){_(l);let t=w(2);return v(t.copyToClipboard())}),s(1,"mat-icon"),p(2,"content_copy"),c()()}}function $s(o,a){o&1&&(s(0,"div",22)(1,"div",23),b(2,"img",24),c(),b(3,"div",25),c())}function Ws(o,a){if(o&1){let l=T();Sa(0),s(1,"div",12)(2,"button",13),I("click",function(){_(l);let t=w();return v(t.restore())}),s(3,"mat-icon",14),p(4,"restore"),c()(),b(5,"span",4),s(6,"button",15),I("click",function(){_(l);let t=w();return v(t.download())}),s(7,"mat-icon"),p(8,"download"),c()(),k(9,Qs,3,0,"button",16),c(),s(10,"mat-accordion"),k(11,$s,4,0,"div",17),s(12,"mat-expansion-panel",18)(13,"mat-expansion-panel-header")(14,"mat-panel-title"),p(15,"View Data"),c()(),s(16,"json-editor",19),ot("ngModelChange",function(t){_(l);let i=w();return at(i.selectedData.parsedData,t)||(i.selectedData.parsedData=t),v(t)}),c()(),s(17,"mat-expansion-panel")(18,"mat-expansion-panel-header")(19,"mat-panel-title"),p(20,"Compare Data"),c()(),b(21,"json-diff-editor",20),c()(),xa()}if(o&2){let l=w();m(2),u("disabled",!l.isRestoreButtonEnabled),m(7),u("ngIf",l.isConnectionSecure),m(2),u("ngIf",l.selectedVersionToLoading[l.selectedVersion]),m(),u("expanded",!0),m(4),u("readonly",!0),nt("ngModel",l.selectedData.parsedData),u("theme",l.theme),m(5),u("modifiedData",l.selectedData.parsedData)("originalData",l.data.currentParsedData)("sideBySide",!0)("theme",l.theme)}}var $o=(()=>{let a=class a{constructor(e,t,i,n,r,d,g,f){this.dialog=e,this.dialogRef=t,this.data=i,this.settingHistoriesService=n,this.utilityService=r,this.windowService=d,this.snackBar=g,this.themeService=f,this.model=[],this.versionToHistoryDictionary={},this.isFullScreen=!1,this.selectedVersionToLoading={},this.subscriptions=new j,this.selectedVersion="",this.selectedData={rawData:"",parsedData:{}},this.isSelected=!1,this.isRestoreButtonEnabled=!0,this.isCompareClicked=!1,this.theme=this.themeService.isDarkTheme()?"vs-dark":"vs-light",this.isConnectionSecure=this.windowService.isConnectionSecure}ngAfterViewInit(){setTimeout(()=>{this.versionSelection.open()},150)}ngOnDestroy(){this.subscriptions.unsubscribe()}onVersionSelected(){this.isRestoreButtonEnabled=!0,this.isSelected=!0;let e=this.versionToHistoryDictionary[this.selectedVersion];if(e!==void 0){this.selectedData={rawData:e.rawData,parsedData:e.parsedData},this.selectedVersionToLoading[this.selectedVersion]=!1;return}this.selectedVersionToLoading[this.selectedVersion]=!0;let t=this.data.model.find(n=>n.version===this.selectedVersion);if(!t)return;let i=this.settingHistoriesService.getSettingHistoryData({historyId:t.id}).subscribe({next:n=>{let r=n.data;if(!r)return;let d=r.data,g=JSON.parse(r.data);this.versionToHistoryDictionary[this.selectedVersion]={historyId:t.id,rawData:d,parsedData:g,rowVersion:t.rowVersion},this.selectedData={rawData:d,parsedData:g},this.selectedVersionToLoading[this.selectedVersion]=!1},error:n=>{this.selectedVersionToLoading[this.selectedVersion]=!1}});this.subscriptions.add(i)}copyToClipboard(){let e=JSON.stringify(this.selectedData.parsedData,null,4);this.utilityService.copyToClipboard(e)}download(){let e=JSON.stringify(this.selectedData.parsedData,null,4);this.utilityService.download(e,this.data.className)}restore(){let e=this.versionToHistoryDictionary[this.selectedVersion];this.isRestoreButtonEnabled=!1;let t={settingRowVersion:this.data.rowVersion,historyRowVersion:e.rowVersion},i,n=this.settingHistoriesService.restoreSettingHistory({historyId:e.historyId,body:t}).subscribe({next:r=>{r.data&&(this.snackBar.open("Setting restored!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:1500}),this.dialogRef.close({fetchLatest:!0}))},error:r=>{let d=r.error;if(d.errors)if(d.status===409){let g=["Discard","Fetch Latest"],f=this.dialog.open(ci,{width:"400px",data:g,autoFocus:!1}).afterClosed().subscribe(y=>{y==="Fetch Latest"&&(i={rawData:"",parsedData:{},version:"",settingRowVersion:"",fetchLatest:!0},this.dialogRef.close(i))});this.subscriptions.add(f)}else d.errors.find(g=>g.traces=="HistoryAlreadyRestored")&&(i={rawData:"",parsedData:{},version:"",settingRowVersion:"",fetchLatest:!0},this.dialogRef.close(i));this.isRestoreButtonEnabled=!0}});this.subscriptions.add(n)}toggleFullScreen(){this.isFullScreen=!this.isFullScreen;let e=document.querySelector(".mat-mdc-dialog-surface");this.isFullScreen?(e?.setAttribute("style",`
                  border-radius: 0 !important;
                `),this.dialogRef.updateSize("100%","100%")):(this.dialogRef.updateSize("1350px","680px"),e?.removeAttribute("style"))}};a.\u0275fac=function(t){return new(t||a)(h(Fe),h(Ee),h(qe),h(Ln),h(ke),h(Q),h(ce),h(Pi))},a.\u0275cmp=F({type:a,selectors:[["ng-component"]],viewQuery:function(t,i){if(t&1&&M(Us,5),t&2){let n;S(n=x())&&(i.versionSelection=n.first)}},decls:20,vars:8,consts:[["versionSelection",""],[1,"d-flex","border-bottom"],[1,"dialog-title"],[1,"dialog-subtitle"],[1,"spacer"],["mat-icon-button","","matTooltipPosition","above",3,"click","matTooltip"],["mat-icon-button","","mat-dialog-close","","matTooltip","Close","matTooltipPosition","above"],[1,"custom-form-field"],[3,"ngModelChange","selectionChange","ngModel"],[3,"value","disabled",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value","disabled"],[1,"d-flex"],["mat-button","","matTooltip","Restore","color","primary",3,"click","disabled"],["iconPositionEnd",""],["mat-button","","matTooltip","Download","color","primary",3,"click"],["mat-button","","matTooltip","Copy","color","primary",3,"click",4,"ngIf"],["class","loading-container",4,"ngIf"],[3,"expanded"],[3,"ngModelChange","readonly","ngModel","theme"],[3,"modifiedData","originalData","sideBySide","theme"],["mat-button","","matTooltip","Copy","color","primary",3,"click"],[1,"loading-container"],[1,"mat-bg-primary","position-absolute","rounded-circle","app-icon-animation"],[1,"app-icon","bg-white"],[1,"loading-spinner"]],template:function(t,i){if(t&1){let n=T();s(0,"div",1)(1,"div",2),p(2),c(),s(3,"div",3),p(4),c(),b(5,"span")(6,"span",4),s(7,"button",5),I("click",function(){return _(n),v(i.toggleFullScreen())}),s(8,"mat-icon"),p(9),c()(),s(10,"button",6)(11,"mat-icon"),p(12,"close"),c()()(),s(13,"mat-form-field",7)(14,"mat-label"),p(15,"Version"),c(),s(16,"mat-select",8,0),ot("ngModelChange",function(d){return _(n),at(i.selectedVersion,d)||(i.selectedVersion=d),v(d)}),I("selectionChange",function(){return _(n),v(i.onVersionSelected())}),k(18,qs,2,4,"mat-option",9),c()(),k(19,Ws,22,11,"ng-container",10)}t&2&&(m(2),q("Histories > ",i.data.clientName,""),m(2),_i("",i.data.identifierName," - ",i.data.className,""),m(3),u("matTooltip",i.isFullScreen?"Exit full screen":"Enter full screen"),m(2),O(i.isFullScreen?"fullscreen_exit":"fullscreen"),m(7),nt("ngModel",i.selectedVersion),m(2),u("ngForOf",i.data.model),m(),u("ngIf",i.isSelected))},dependencies:[Ie,te,ue,ei,mi,Qo,ae,de,be,fe,Je,ge,_e,We,Ke,Ye,De,ne,Qe]});let o=a;return o})();var Ks=["switch"],Ys=["*"];function Js(o,a){o&1&&(s(0,"div",10),Gi(),s(1,"svg",12),b(2,"path",13),c(),s(3,"svg",14),b(4,"path",15),c()())}var Xs=new re("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),Zs={provide:ft,useExisting:it(()=>Lt),multi:!0},Hn=class{constructor(a,l){this.source=a,this.checked=l}},ec=0,Lt=(()=>{let a=class a{_createChangeEvent(e){return new Hn(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,t,i,n,r,d){this._elementRef=e,this._focusMonitor=t,this._changeDetectorRef=i,this.defaults=r,this._onChange=g=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new A,this.toggleChange=new A,this.tabIndex=parseInt(n)||0,this.color=r.color||"accent",this._noopAnimations=d==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++ec}`,this.hideIcon=r.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Hn(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}};a.\u0275fac=function(t){return new(t||a)(h(Z),h(Ii),h(J),yt("tabindex"),h(Xs),h(ut,8))},a.\u0275cmp=F({type:a,selectors:[["mat-slide-toggle"]],viewQuery:function(t,i){if(t&1&&M(Ks,5),t&2){let n;S(n=x())&&(i._switchElement=n.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(t,i){t&2&&(Yt("id",i.id),$("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),dt(i.color?"mat-"+i.color:""),Y("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[C.None,"aria-label","ariaLabel"],ariaLabelledby:[C.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[C.None,"aria-describedby","ariaDescribedby"],required:[C.HasDecoratorInputTransform,"required","required",E],color:"color",disabled:[C.HasDecoratorInputTransform,"disabled","disabled",E],disableRipple:[C.HasDecoratorInputTransform,"disableRipple","disableRipple",E],tabIndex:[C.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:pt(e)],checked:[C.HasDecoratorInputTransform,"checked","checked",E],hideIcon:[C.HasDecoratorInputTransform,"hideIcon","hideIcon",E]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[le([Zs,{provide:rn,useExisting:a,multi:!0}]),oe,Ne,ye],ngContentSelectors:Ys,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(t,i){if(t&1){let n=T();Ce(),s(0,"div",1)(1,"button",2,0),I("click",function(){return _(n),v(i._handleClick())}),b(3,"div",3),s(4,"div",4)(5,"div",5)(6,"div",6),b(7,"div",7),c(),s(8,"div",8),b(9,"div",9),c(),k(10,Js,5,0,"div",10),c()()(),s(11,"label",11),I("click",function(d){return _(n),v(d.stopPropagation())}),se(12),c()()}if(t&2){let n=z(2);u("labelPosition",i.labelPosition),m(),Y("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled),u("tabIndex",i.disabled?-1:i.tabIndex)("disabled",i.disabled),$("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked),m(8),u("matRippleTrigger",n)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),m(),Se(10,i.hideIcon?-1:10),m(),u("for",i.buttonId),$("id",i._labelId)}},dependencies:[Ct,un],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0});let o=a;return o})();var zi=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[Lt,we,we]});let o=a;return o})();function tc(o,a){if(o&1){let l=T();s(0,"button",32),I("click",function(){_(l);let t=w();return v(t.copyToClipboard(t.computedIdentifierPreview))}),s(1,"mat-icon"),p(2,"content_copy"),c()()}if(o&2){let l=w();u("disabled",!l.computedIdentifierPreview)}}function ic(o,a){o&1&&(s(0,"div",33)(1,"span",25),p(2,"Ignore On File Change"),c(),b(3,"mat-icon",34)(4,"mat-slide-toggle",35),c())}var Wo=(()=>{let a=class a{constructor(e,t,i,n,r,d,g,f){this.dialogRef=e,this.data=t,this.settingsService=i,this.formBuilder=n,this.utilityService=r,this.windowService=d,this.dialog=g,this.snackBar=f,this.isFullScreen=!1,this.computedIdentifierPreview="",this.subscriptions=new j}ngOnInit(){this.form=this.formBuilder.group({computedIdentifier:[this.data.computedIdentifier,ee.required],classNamespace:[this.data.classNamespace,ee.required],className:[this.data.className,ee.required],classFullName:[this.data.classFullName,ee.required],isDataValidationEnabled:[this.data.isDataValidationEnabled],storeInSeparateFile:[this.data.storeInSeparateFile],ignoreOnFileChange:[this.data.storeInSeparateFile?this.data.ignoreOnFileChange??!1:null],registrationMode:[this.data.registrationMode]}),this.computedIdentifierPreview=this.data.computedIdentifier,this.subscriptions.add(this.form.get("computedIdentifier").valueChanges.subscribe(e=>this.updateComputedIdentifierPreview(e))),this.isConnectionSecure=this.windowService.isConnectionSecure}ngOnDestroy(){this.subscriptions.unsubscribe()}updateComputedIdentifierPreview(e){e&&sn(e)?this.computedIdentifierPreview=e:e?this.computedIdentifierPreview=cn(e):this.computedIdentifierPreview=""}toggleFullScreen(){this.isFullScreen=!this.isFullScreen;let e=document.querySelector(".mat-mdc-dialog-surface");this.isFullScreen?(e?.setAttribute("style",`
                  border-radius: 0 !important;
                `),this.dialogRef.updateSize("100%","100%")):(this.dialogRef.updateSize("1350px","680px"),e?.removeAttribute("style"))}copyToClipboard(e){this.utilityService.copyToClipboard(e)}onSubmit(){if(!this.form.valid)return;let e=this.form.value;if(this.data.computedIdentifier===this.computedIdentifierPreview){this.edit(e);return}let n=this.dialog.open($e,{width:"500px",data:{title:"Confirm edit",message:'Updating the "Computed Identifier" may cause problems. Do you want to proceed? (Potential unmatching)'}}).afterClosed().subscribe(r=>{r&&this.edit(e)});this.subscriptions.add(n)}edit(e){let t={computedIdentifier:this.computedIdentifierPreview,dataValidationDisabled:!e.isDataValidationEnabled,rowVersion:this.data.settingRowVersion,class:{namespace:e.classNamespace,name:e.className,fullName:e.classFullName,rowVersion:this.data.classRowVersion},storeInSeparateFile:e.storeInSeparateFile,ignoreOnFileChange:e.ignoreOnFileChange,registrationMode:e.registrationMode},i,n=g=>this.settingsService.updateSetting({settingId:this.data.id,body:g}),r=g=>n(g).pipe(U(f=>{let y=f.data;if(i={computedIdentifier:t.computedIdentifier,classNamespace:e.classNamespace,className:e.className,classFullName:e.classFullName,isDataValidationEnabled:e.isDataValidationEnabled,rowVersion:y?.rowVersion??"",storeInSeparateFile:g.storeInSeparateFile,ignoreOnFileChange:g.storeInSeparateFile?g.ignoreOnFileChange:null,registrationMode:g.registrationMode,type:i?.type},!y&&f.extras){let D=["Discard","Override","Fetch Latest"];return this.dialog.open(ci,{width:"400px",data:D,autoFocus:!1}).afterClosed().pipe(U(V=>{if(V==="Fetch Latest")return i.type="Fetch Latest",G(!0);if(V==="Override"){let N=f.extras.Conflicts.SettingId?.properties.RowVersion.current,pe=f.extras.Conflicts.ClassId?.properties.RowVersion.current;return i.type="Override",N&&(t.rowVersion=N),pe&&(t.class.rowVersion=pe),r(t)}return G(!1)}))}else return this.snackBar.open("Data has been updated successfully! A restart is required for the changes to take effect.","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),G(!0)})),d=r(t).subscribe({next:g=>{g&&this.dialogRef?.close(i)}});this.subscriptions.add(d)}};a.\u0275fac=function(t){return new(t||a)(h(Ee),h(qe),h(Nt),h(Ge),h(ke),h(Q),h(Fe),h(ce))},a.\u0275cmp=F({type:a,selectors:[["ng-component"]],decls:76,vars:14,consts:[[1,"d-flex","border-bottom"],[1,"dialog-title"],[1,"dialog-subtitle"],[1,"spacer"],["mat-icon-button","",3,"click","matTooltip"],["mat-icon-button","","mat-dialog-close",""],[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","formControlName","classNamespace"],["matInput","","formControlName","className"],["matInput","","formControlName","classFullName"],[1,"d-flex"],["matInput","","formControlName","computedIdentifier"],["matSuffix","","fontIcon","info","matTooltip","A unique GUID is generated by combining the namespace and class name (unless manually assigned a different value). This GUID is used to uniquely identify each setting class."],["matInput","","disabled","",3,"value"],["type","button","matSuffix","","mat-icon-button","","matTooltip","Copy","matTooltipPosition","below",3,"disabled","click",4,"ngIf"],["matIconPosition","right","fontIcon","info","matTooltip","Defines how the setting is registered in dependency injection, allowing resolution through configuration options or as a singleton service.",1,"icon-mini"],["formControlName","registrationMode"],[1,"custom-option",3,"value"],["color","accent","mat-icon-button","","matTooltipPosition","left","matTooltip","Setting can be resolved through configuration options interfaces, such as IOptions<T>, IOptionsSnapshot<T> and IOptionsMonitor<T>."],["matIconPosition","right","fontIcon","info"],["color","accent","mat-icon-button","","matTooltipPosition","left","matTooltip","Setting can be resolved directly through its own class as a singleton instance."],["color","accent","mat-icon-button","","matTooltipPosition","left","matTooltip","Setting can be resolved both through singleton instances and through configuration options interfaces."],[1,"d-flex","px-3"],[1,"mb-2","mr-3","d-flex","align-items-center"],[1,"field-label-text"],["matIconPosition","right","fontIcon","info","matTooltip","If enabled, it checks if class properties match the required type or are bindable during data changes.",1,"icon-mini"],["labelPosition","before","formControlName","isDataValidationEnabled"],["matIconPosition","right","fontIcon","info",1,"icon-mini",3,"matTooltip"],["labelPosition","before","formControlName","storeInSeparateFile"],["class","mb-2 d-flex align-items-center",4,"ngIf"],["mat-raised-button","","color","primary",1,"ml-3",3,"disabled"],["type","button","matSuffix","","mat-icon-button","","matTooltip","Copy","matTooltipPosition","below",3,"click","disabled"],[1,"mb-2","d-flex","align-items-center"],["matIconPosition","right","fontIcon","info","matTooltip","Indicates whether changes to the file should be ignored when the file is modified.",1,"icon-mini"],["labelPosition","before","formControlName","ignoreOnFileChange"]],template:function(t,i){if(t&1&&(s(0,"div",0)(1,"div",1),p(2),c(),s(3,"div",2),p(4),c(),b(5,"span")(6,"span",3),s(7,"button",4),I("click",function(){return i.toggleFullScreen()}),s(8,"mat-icon"),p(9),c()(),s(10,"button",5)(11,"mat-icon"),p(12,"close"),c()()(),s(13,"form",6),I("ngSubmit",function(){return i.onSubmit()}),s(14,"mat-dialog-content")(15,"mat-form-field",7)(16,"mat-label"),p(17,"Class Namespace"),c(),b(18,"input",8),c(),s(19,"mat-form-field",7)(20,"mat-label"),p(21,"Class Name"),c(),b(22,"input",9),c(),s(23,"mat-form-field",7)(24,"mat-label"),p(25,"Class Full Name"),c(),b(26,"input",10),c(),s(27,"div",11)(28,"mat-form-field",7)(29,"mat-label"),p(30,"Computed Identifier"),c(),b(31,"input",12)(32,"mat-icon",13),c(),s(33,"mat-form-field",7)(34,"mat-label"),p(35,"Computed Identifier Preview"),c(),b(36,"input",14),k(37,tc,3,1,"button",15),c()(),s(38,"mat-form-field",7)(39,"mat-label"),p(40,"Registration Mode "),b(41,"mat-icon",16),c(),s(42,"mat-select",17)(43,"mat-option",18)(44,"span"),p(45,"Configure"),c(),b(46,"span",3),s(47,"button",19),b(48,"mat-icon",20),c()(),s(49,"mat-option",18)(50,"span"),p(51,"Singleton"),c(),b(52,"span",3),s(53,"button",21),b(54,"mat-icon",20),c()(),s(55,"mat-option",18)(56,"span"),p(57,"Both"),c(),b(58,"span",3),s(59,"button",22),b(60,"mat-icon",20),c()()()(),s(61,"div",23)(62,"div",24)(63,"span",25),p(64," Data Validation"),c(),b(65,"mat-icon",26)(66,"mat-slide-toggle",27),c(),s(67,"div",24)(68,"span",25),p(69,"Store In Separate File"),c(),b(70,"mat-icon",28)(71,"mat-slide-toggle",29),c(),k(72,ic,5,0,"div",30),c()(),s(73,"mat-dialog-actions")(74,"button",31),p(75," Save "),c()()()),t&2){let n,r;m(2),q("Update > ",i.data.clientName,""),m(2),_i("",i.data.identifierName," - ",i.data.className,""),m(3),u("matTooltip",i.isFullScreen?"Exit full screen":"Enter full screen"),m(2),O(i.isFullScreen?"fullscreen_exit":"fullscreen"),m(4),u("formGroup",i.form),m(23),u("value",i.computedIdentifierPreview),m(),u("ngIf",i.isConnectionSecure),m(6),u("value",1),m(6),u("value",2),m(6),u("value",3),m(15),u("matTooltip","Indicates whether the setting should be stored in a separate file 'settings-generated."+((n=i.form.get("className"))==null?null:n.value)+".json'. If not, it will be stored in the default 'settings-generated.json' file."),m(2),u("ngIf",(r=i.form.get("storeInSeparateFile"))==null?null:r.value),m(2),u("disabled",i.form.invalid)}},dependencies:[te,He,Be,ue,je,Te,ze,ae,be,fe,Ue,ge,De,ne,de,Me,Je,Qe,oi,Mt,Lt],encapsulation:2});let o=a;return o})();var ac=["textarea"],oc=["expansionPanel"],rc=(o,a)=>["./apps",o,a,"settings","new"],sc=(o,a,l)=>["./apps",o,a,"settings",l,"update"],cc=(o,a,l)=>["./apps",o,a,"settings",l,"copyTo"],dc=(o,a,l)=>["./apps",o,a,"settings",l,"histories"];function lc(o,a){if(o&1){let l=T();s(0,"div")(1,"button",10),I("click",function(){_(l);let t=w();return v(t.expandAll())}),s(2,"mat-icon"),p(3,"expand_more"),c()(),s(4,"button",11),I("click",function(){_(l);let t=w();return v(t.collapseAll())}),s(5,"mat-icon"),p(6,"expand_less"),c()()()}if(o&2){let l=w();m(),u("disabled",!l.data.settingDataList.length),m(3),u("disabled",!l.data.settingDataList.length)}}function pc(o,a){if(o&1){let l=T();s(0,"button",33),I("click",function(){_(l);let t=w().$implicit,i=w(2);return v(i.copyToClipboard(t.tempData))}),s(1,"mat-icon"),p(2,"content_copy"),c()()}}function mc(o,a){o&1&&(s(0,"div",34)(1,"div",35),b(2,"img",36),c(),b(3,"div",37),c())}function hc(o,a){if(o&1){let l=T();s(0,"json-editor",38),I("invalidData",function(t){_(l);let i=w().$implicit,n=w(2);return v(n.invalidData(t,i))}),ot("ngModelChange",function(t){_(l);let i=w().$implicit;return at(i.tempData,t)||(i.tempData=t),v(t)}),c()}if(o&2){let l=w().$implicit,e=w(2);u("id","editor-"+l.settingId),nt("ngModel",l.tempData),u("theme",e.theme)}}function uc(o,a){if(o&1){let l=T();s(0,"mat-expansion-panel",14,1),I("opened",function(){let t=_(l).$implicit,i=w(2);return v(i.onPanelExpanded(t))})("closed",function(){let t=_(l).$implicit,i=w(2);return v(i.onPanelClosed(t))}),s(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"span",15),p(5),c()(),s(6,"mat-panel-description")(7,"span",16),p(8),c(),b(9,"span",7),s(10,"span",17),p(11),c(),s(12,"span",18),p(13),c(),s(14,"mat-menu",null,2)(16,"button",19)(17,"mat-icon"),p(18,"edit"),c(),p(19," Edit "),c(),s(20,"button",20),I("click",function(){let t=_(l).$implicit,i=w(2);return v(i.deleteSetting(t))}),s(21,"mat-icon"),p(22,"delete"),c(),p(23," Delete "),c()(),s(24,"button",21),I("click",function(t){return _(l),v(t.stopPropagation())}),s(25,"mat-icon"),p(26,"more_vert"),c()()()(),s(27,"div",22)(28,"button",23),I("click",function(){let t=_(l).$implicit,i=w(2);return v(i.saveFormData(t))}),s(29,"mat-icon"),p(30,"save"),c()(),b(31,"span",7),s(32,"button",24)(33,"mat-icon"),p(34,"send"),c()(),s(35,"button",25),I("click",function(){let t=_(l).$implicit,i=w(2);return v(i.download(t.tempData,t.className,t.classFullName))}),s(36,"mat-icon"),p(37,"download"),c()(),s(38,"button",26),I("click",function(){_(l);let t=z(42);return v(t.click())}),s(39,"mat-icon"),p(40,"upload"),c(),s(41,"input",27,3),I("change",function(t){let i=_(l).$implicit,n=w(2);return v(n.upload(t,i))}),c()(),k(43,pc,3,0,"button",28),s(44,"button",29),I("click",function(){let t=_(l).$implicit,i=w(2);return v(i.triggerFormat("editor-"+t.settingId))}),s(45,"mat-icon"),p(46,"text_fields"),c()(),s(47,"button",30)(48,"mat-icon"),p(49,"history"),c()()(),k(50,mc,4,0,"div",31)(51,hc,1,3,"json-editor",32),c()}if(o&2){let l=a.$implicit,e=z(15),t=w(2);m(5),O(l.className),m(3),q("v",l.version,""),m(3),O(l.computedIdentifier),m(2),O(l.classNamespace),m(3),u("routerLink",nn(13,sc,l.slug,t.data.selectedAppIdentifierId,l.settingId)),m(8),u("matMenuTriggerFor",e),m(4),u("disabled",t.buttons[l.settingId]),m(4),u("routerLink",nn(17,cc,l.slug,t.data.selectedAppIdentifierId,l.settingId)),m(11),u("ngIf",t.isConnectionSecure),m(4),u("routerLink",nn(21,dc,l.slug,t.data.selectedAppIdentifierId,l.settingId))("disabled",!l.dataRestored&&l.version==="0"),m(3),u("ngIf",t.settingIdToLoading[l.settingId]),m(),u("ngIf",l.isDataFetched)}}function gc(o,a){if(o&1&&(s(0,"mat-accordion",12),k(1,uc,52,25,"mat-expansion-panel",13),c()),o&2){let l=w();u("multi",l.multiSelectionEnabled),m(),u("ngForOf",l.data.settingDataList)}}function fc(o,a){o&1&&(s(0,"p",39),p(1,"No results found."),c())}var Ko=(()=>{let a=class a{constructor(e,t,i,n,r,d,g,f,y,D,V){this.dialog=e,this.snackBar=t,this.utilityService=i,this.settingsService=n,this.appViewService=r,this.settingHistoriesService=d,this.themeService=g,this.windowService=f,this.cdr=y,this.route=D,this.router=V,this.copySettingToIdentifierEmitter=new A,this.settingDeleteEmitter=new A,this.fetchLatestEmitter=new A,this.buttons={},this.multiSelectionEnabled=!1,this.subscriptions=new j,this.selectedSettingId=void 0,this.settingIdToLoading={}}ngOnInit(){this.subscriptions.add(this.appViewService.appViewMultiSelectionEnabled$.subscribe(e=>{this.multiSelectionEnabled=e})),this.theme=this.themeService.isDarkTheme()?"vs-dark":"vs-light",this.isConnectionSecure=this.windowService.isConnectionSecure}ngAfterViewInit(){setTimeout(()=>{let e=this.appViewService.settingView$.subscribe(t=>{if(!t)return;let i=t.selectedSettingId;switch(t.settingViewType){case"viewSetting":if(!i)return;let n=this.data.settingDataList.findIndex(y=>y.settingId==i);this.expandPanel(n),this.selectedSettingId=i;break;case"viewCreateSetting":this.addSetting();break;case"viewUpdateSetting":if(!i)return;let r=this.data.settingDataList.find(y=>y.settingId==i);r&&this.editSetting(r);break;case"viewCopySettingTo":if(!i)return;let d=this.data.settingDataList.findIndex(y=>y.settingId==i);if(d!==-1){this.expandPanel(d);let y=this.data.settingDataList[d];this.copySettingToIdentifierEmit(y)}break;case"viewSettingHistories":if(!i)return;let g=this.data.settingDataList.findIndex(y=>y.settingId==i);if(g!==-1){this.expandPanel(g);let y=this.data.settingDataList[g];if(!y.dataRestored&&y.version==="0")return;this.history(y)}break;case"viewSettingHistory":if(!i)return;let f=this.data.settingDataList.findIndex(y=>y.settingId==i);if(f!==-1){this.expandPanel(f);let y=this.data.settingDataList[f];if(!y.dataRestored&&y.version==="0")return;this.history(y)}}});this.subscriptions.add(e)},0)}ngOnDestroy(){this.subscriptions.unsubscribe()}onToggleMultiSelection(e){this.appViewService.emitAppViewMultiSelectionEnabled(e.checked)}expandPanel(e){if(e<0)return;let t=this.expansionPanels?.toArray();t&&t[e]&&t[e].open()}onPanelClosed(e){this.selectedSettingId===e.settingId&&(this.selectedSettingId=void 0,this.appViewService.emitSettingView(void 0),this.router.navigate(["./apps",this.data.slug,this.data.selectedAppIdentifierId,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"}))}onPanelExpanded(e){this.settingIdToLoading[e.settingId]=!e.isDataFetched,this.selectedSettingId=e.settingId;let t=this.appViewService.settingView?.settingViewType;if((t===void 0||!["viewCopySettingTo","viewSettingHistories","viewSettingHistory"].includes(t))&&(this.appViewService.emitSettingView({selectedSettingId:e.settingId,settingViewType:"viewSetting"}),this.router.navigate(["./apps",this.data.slug,this.data.selectedAppIdentifierId,"settings",this.selectedSettingId],{relativeTo:this.route,queryParamsHandling:"merge"})),e.isDataFetched)return;this.buttons[e.settingId]=!0;let n=this.settingsService.getSettingData({settingId:e.settingId}).subscribe({next:r=>{let d=this.data.settingDataList.find(f=>f.classId===e.classId);if(!d)return;let g=r.data;if(g){d.rawData=g.data;try{d.parsedData=JSON.parse(g.data)}catch{d.parsedData={}}d.tempData=Ve({},d.parsedData),d.isDataFetched=!0,this.settingIdToLoading[e.settingId]=!1}},error:r=>{this.settingIdToLoading[e.settingId]=!1}});this.subscriptions.add(n)}copyToClipboard(e){let t=JSON.stringify(e,null,4);this.utilityService.copyToClipboard(t)}download(e,t,i){let n=JSON.stringify(e,null,4);this.utilityService.download(n,t)}upload(e,t){this.utilityService.upload(e.target.files[0]).then(i=>{let n=JSON.parse(i);if(typeof n=="object"&&n!==null)t.tempData=n;else throw"Invalid JSON data";this.snackBar.open("Changes applied. Click Save icon to confirm.","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.buttons[t.settingId]=!1}).catch(i=>{this.snackBar.open(`Error occurred while uploading file. Error: ${i}`,"Close",{horizontalPosition:"right",verticalPosition:"top",duration:8e3})})}saveFormData(e){try{this.buttons[e.settingId]=!0;let t=JSON.stringify(e.tempData);if(t===e.rawData){this.snackBar.open("There are no changes!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.buttons[e.settingId]=!0;return}let i={data:t,rowVersion:e.settingRowVersion},n=this.settingsService.updateSettingData({settingId:e.settingId,body:i}).subscribe({next:r=>{let d=r.data;if(!d){if(r.extras){this.buttons[e.settingId]=!1;let g=r.extras.Conflicts[e.settingId],f=["Discard","Fetch Latest"],y=this.dialog.open(ci,{width:"400px",data:f,autoFocus:!1}).afterClosed().subscribe(D=>{D==="Fetch Latest"&&this.fetchLatestEmitter.emit(e.settingId)});this.subscriptions.add(y)}this.buttons[e.settingId]=!1;return}e.parsedData=Ve({},e.tempData),e.rawData=t,e.version=d.setting.currentVersion,e.settingRowVersion=d.setting.rowVersion,this.snackBar.open("Data has been updated successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3})},error:r=>{this.buttons[e.settingId]=!1}});this.subscriptions.add(n)}catch{this.snackBar.open("Error occurred when deserializing settings data!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.buttons[e.settingId]=!1}}history(e){let t=this.settingHistoriesService.getSettingHistories({settingId:e.settingId}).subscribe({next:i=>{let n=i.data;if(!n)return;let r={clientName:this.data.clientName,identifierName:this.data.selectedAppIdentifierName,clientId:e.clientId,settingId:e.settingId,className:e.className,classFullName:e.classFullName,computedIdentifier:e.computedIdentifier,currentVersion:e.version,tempData:e.tempData,currentRawData:e.rawData,currentParsedData:e.parsedData,rowVersion:e.settingRowVersion,model:n},d=this.dialog.open($o,{data:r,width:"1350px",height:"680px",minWidth:"inherit",maxWidth:"inherit",autoFocus:!1}).afterClosed().subscribe(g=>{g&&(g.fetchLatest&&this.fetchLatestEmitter.emit(e.settingId),this.buttons[r.settingId]=!1);let f=this.data.settingDataList.findIndex(D=>D.settingId==e.settingId),y=this.expansionPanels?.toArray();y&&y[f]&&(y[f].expanded?this.router.navigate(["./apps",this.data.slug,this.data.selectedAppIdentifierId,"settings",e.settingId],{relativeTo:this.route,queryParamsHandling:"merge"}):(this.appViewService.emitSettingView({settingViewType:"viewSetting",selectedSettingId:void 0}),this.router.navigate(["./apps",this.data.slug,this.data.selectedAppIdentifierId,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"})))});this.subscriptions.add(d)}});this.subscriptions.add(t)}expandAll(){let e=this.data.settingDataList.filter(i=>!i.isDataFetched).map(i=>i.settingId);e.length<2&&this.accordion.openAll(),e.forEach(i=>{this.buttons[i]=!0});let t=this.settingsService.getSettingsData({appId:this.data.appId,identifierId:this.data.selectedAppIdentifierId,ids:e}).subscribe(i=>{let n=i.data;n&&(n.settings.forEach(r=>{let d=this.data.settingDataList.find(g=>g.settingId==r.id);if(d){d.rawData=r.data;try{d.parsedData=JSON.parse(r.data)}catch{d.parsedData={}}d.tempData=Ve({},d.parsedData),d.isDataFetched=!0}}),this.accordion.openAll())});this.subscriptions.add(t)}collapseAll(){this.accordion.closeAll()}editSetting(e){let t={id:e.settingId,clientId:this.data.clientId,clientName:this.data.clientName,identifierName:this.data.selectedAppIdentifierName,classNamespace:e.classNamespace,className:e.className,classFullName:e.classFullName,computedIdentifier:e.computedIdentifier,isDataValidationEnabled:e.dataValidationEnabled,settingRowVersion:e.settingRowVersion,classRowVersion:e.classRowVersion,storeInSeparateFile:e.storeInSeparateFile,ignoreOnFileChange:e.ignoreOnFileChange,registrationMode:e.registrationMode},i=this.dialog.open(Wo,{data:t,width:"820px",height:"580px",minWidth:"inherit",maxWidth:"inherit",autoFocus:!1}).afterClosed().subscribe(n=>{n&&(n.type==="Fetch Latest"?this.fetchLatestEmitterForSettingUpdate(e.settingId):(e.classNamespace=n.classNamespace,e.className=n.className,e.classFullName=n.classFullName,e.computedIdentifier=n.computedIdentifier,e.dataValidationEnabled=n.isDataValidationEnabled,e.settingRowVersion=n.rowVersion,e.classRowVersion=n.rowVersion,e.storeInSeparateFile=n.storeInSeparateFile,e.ignoreOnFileChange=n.ignoreOnFileChange,e.registrationMode=n.registrationMode,n.type==="Override"&&this.fetchLatestEmitter.emit(e.settingId)));let r=this.data.settingDataList.findIndex(g=>g.settingId==e.settingId),d=this.expansionPanels?.toArray();d&&d[r]&&(d[r].expanded?this.router.navigate(["./apps",this.data.slug,this.data.selectedAppIdentifierId,"settings",e.settingId],{relativeTo:this.route,queryParamsHandling:"merge"}):(this.appViewService.emitSettingView({settingViewType:"viewSetting",selectedSettingId:void 0}),this.router.navigate(["./apps",this.data.slug,this.data.selectedAppIdentifierId,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"})))});this.subscriptions.add(i)}addSetting(){let e={appId:this.data.appId,clientName:this.data.clientName,clientId:this.data.clientId,identifierName:this.data.selectedAppIdentifierName,identifierId:this.data.selectedAppIdentifierId},t=this.dialog.open(zo,{data:e,width:"1350px",height:"680px",minWidth:"inherit",maxWidth:"inherit",autoFocus:!1}).afterClosed().subscribe(i=>{if(i){let n={slug:this.data.slug,clientId:this.data.clientId,settingId:i.id,className:i.className,classNamespace:i.classNamespace,classFullName:i.classFullName,classId:i.classId,computedIdentifier:i.computedIdentifier,version:i.version,isDataFetched:!0,dataRestored:!1,dataValidationEnabled:!0,rawData:i.rawData,parsedData:i.parsedData,tempData:Ve({},i.parsedData),settingRowVersion:"",classRowVersion:"",storeInSeparateFile:i.storeInSeparateFile,ignoreOnFileChange:i.ignoreOnFileChange,registrationMode:i.registrationMode};this.data.settingDataList.push(n),this.cdr.detectChanges(),this.selectedSettingId=i.id}this.appViewService.emitSettingView({selectedSettingId:this.selectedSettingId,settingViewType:"viewSetting"}),this.selectedSettingId?this.router.navigate(["./apps",this.data.slug,this.data.selectedAppIdentifierId,"settings",this.selectedSettingId],{relativeTo:this.route,queryParamsHandling:"merge"}):this.router.navigate(["./apps",this.data.slug,this.data.selectedAppIdentifierId,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"})});this.subscriptions.add(t)}deleteSetting(e){let t="Confirm delete",i=`Are you sure you want to delete the "${e.className}" named setting? This will also delete all associated setting histories. This action cannot be undone.`,r=this.dialog.open($e,{width:"500px",data:{title:t,message:i,requireConfirmation:!0}}).afterClosed().subscribe(d=>{if(d){let g=this.settingsService.deleteSetting({settingId:e.settingId,rowVersion:e.settingRowVersion}).subscribe(()=>{this.data.settingDataList=this.data.settingDataList.filter(f=>f.settingId!==e.settingId),this.snackBar.open("Deleted successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.settingDeleteEmitter.emit(e.settingId),this.router.navigate(["./apps",this.data.slug,this.data.selectedAppIdentifierId,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"})});this.subscriptions.add(g)}});this.subscriptions.add(r)}copySettingToIdentifierEmit(e){let t=this.data.settingDataList.findIndex(d=>d.settingId==e.settingId),i=this.expansionPanels?.toArray(),n=!1;i&&i[t]&&(n=i[t].expanded);let r={rawData:e.rawData,parsedData:e.parsedData,currentSettingId:e.settingId,currentAppIdentifierId:this.data.selectedAppIdentifierId,currentAppIdentifierName:this.data.selectedAppIdentifierName,computedIdentifier:e.computedIdentifier,className:e.className,classNamespace:e.classNamespace,classFullName:e.classFullName,isDataValidationEnabled:e.dataValidationEnabled,isExpanded:n,storeInSeparateFile:e.storeInSeparateFile,ignoreOnFileChange:e.ignoreOnFileChange,registrationMode:e.registrationMode};this.copySettingToIdentifierEmitter.emit(r)}invalidData(e,t){this.buttons[t.settingId]=e}fetchLatestEmitterForSettingUpdate(e){this.fetchLatestEmitter.emit(e),setTimeout(()=>{this.data.settingDataList.find(i=>i.settingId==e)&&this.router.navigate(["./apps",this.data.slug,this.data.selectedAppIdentifierId,"settings",e,"update"],{relativeTo:this.route,queryParamsHandling:"merge"})},1e3)}triggerFormat(e){this.jsonEditors?.find(t=>t.id===e)?.formatCode()}};a.\u0275fac=function(t){return new(t||a)(h(Fe),h(ce),h(ke),h(Nt),h(Hi),h(Ln),h(Pi),h(Q),h(J),h(Zt),h(Ti))},a.\u0275cmp=F({type:a,selectors:[["setting-list"]],viewQuery:function(t,i){if(t&1&&(M(_e,5),M(ac,5),M(oc,5),M(mi,5)),t&2){let n;S(n=x())&&(i.accordion=n.first),S(n=x())&&(i.textareas=n),S(n=x())&&(i.expansionPanels=n),S(n=x())&&(i.jsonEditors=n)}},inputs:{data:"data"},outputs:{copySettingToIdentifierEmitter:"copySettingToIdentifierEmitter",settingDeleteEmitter:"settingDeleteEmitter",fetchLatestEmitter:"fetchLatestEmitter"},decls:11,vars:9,consts:[["noData",""],["expansionPanel",""],["menu","matMenu"],["fileInput",""],[1,"d-flex","min-height-50"],[4,"ngIf"],[1,"d-flex","ml-2",3,"ngModelChange","change","ngModel"],[1,"spacer"],["mat-icon-button","","matTooltip","Add setting","matTooltipPosition","above","queryParamsHandling","merge",3,"routerLink","disabled"],[3,"multi",4,"ngIf","ngIfElse"],["mat-icon-button","","matTooltip","Expand All",3,"click","disabled"],["mat-icon-button","","matTooltip","Collapse All",3,"click","disabled"],[3,"multi"],[3,"opened","closed",4,"ngFor","ngForOf"],[3,"opened","closed"],["matTooltip","Name"],["matTooltip","Version"],["matTooltip","Computed Identifier",1,"fs-x-small","pr-3"],["matTooltip","Namespace",1,"fs-x-small","pr-1"],["mat-menu-item","","queryParamsHandling","merge",3,"routerLink"],["mat-menu-item","",3,"click"],["mat-icon-button","",1,"icon-mini",3,"click","matMenuTriggerFor"],[1,"d-flex"],["mat-button","","matTooltip","Save","color","primary",3,"click","disabled"],["mat-button","","matTooltip","Copy setting to","color","primary","queryParamsHandling","merge",3,"routerLink"],["mat-button","","matTooltip","Download","color","primary",3,"click"],["mat-button","","matTooltip","Upload","color","primary",3,"click"],["type","file","accept",".json,.txt",1,"d-none",3,"change"],["mat-button","","matTooltip","Copy","color","primary",3,"click",4,"ngIf"],["mat-button","","matTooltip","Format (Shift+Alt+F)","color","primary",3,"click"],["mat-button","","matTooltip","History","color","primary","queryParamsHandling","merge",3,"routerLink","disabled"],["class","loading-container",4,"ngIf"],[3,"id","ngModel","theme","invalidData","ngModelChange",4,"ngIf"],["mat-button","","matTooltip","Copy","color","primary",3,"click"],[1,"loading-container"],[1,"mat-bg-primary","position-absolute","rounded-circle","app-icon-animation"],[1,"app-icon","bg-white"],[1,"loading-spinner"],[3,"invalidData","ngModelChange","id","ngModel","theme"],[1,"p-2"]],template:function(t,i){if(t&1){let n=T();s(0,"div",4),k(1,lc,7,2,"div",5),s(2,"mat-slide-toggle",6),ot("ngModelChange",function(d){return _(n),at(i.multiSelectionEnabled,d)||(i.multiSelectionEnabled=d),v(d)}),I("change",function(d){return _(n),v(i.onToggleMultiSelection(d))}),p(3,"Multi selection"),c(),b(4,"span",7),s(5,"button",8)(6,"mat-icon"),p(7,"add"),c()()(),k(8,gc,2,2,"mat-accordion",9)(9,fc,2,0,"ng-template",null,0,an)}if(t&2){let n=z(10);m(),u("ngIf",i.multiSelectionEnabled),m(),nt("ngModel",i.multiSelectionEnabled),m(3),u("routerLink",xi(6,rc,i.data.slug,i.data.selectedAppIdentifierId))("disabled",!i.data.selectedAppIdentifierId),m(3),u("ngIf",i.data.settingDataList.length)("ngIfElse",n)}},dependencies:[Ie,te,ue,ei,Di,mi,ae,_e,We,Ke,Ye,Et,In,yn,wn,De,ne,de,Lt],encapsulation:2});let o=a;return o})();var da=function(o){return o[o.Provider=1]="Provider",o[o.Consumer=2]="Consumer",o}(da||{});var la=function(o){return o[o.Orm=1]="Orm",o}(la||{});var pa=function(o){return o[o.Polling=1]="Polling",o[o.Redis=2]="Redis",o}(pa||{});var Yo=(()=>{let a=class a{constructor(e,t,i){this.httpClient=e,this.authService=t,this.headers=new ie,this.destroy$=new H,this.route=i.controllerOptions.route,this.authService.isAuthenticated$.pipe(W(this.destroy$)).subscribe(n=>{this.headers=n?new ie({Authorization:`${this.authService.token}`}):new ie})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}deleteInstance(e){let t=this.route+"/v1/instances/"+e.instanceId;return this.httpClient.delete(t,{headers:this.headers})}getInstancesByAppId(e){let t=this.route+"/v1/apps/"+e.appIdOrSlug+"/instances",i=new jt;e.identifierId!==void 0&&(i=i.append("identifierId",e.identifierId));let n=i.toString();return t+=n?"?"+n:"",this.httpClient.get(t,{headers:this.headers})}getInstancesByAppBySlug(e){let t=this.route+"/v1/apps/slug/"+e.appIdOrSlug+"/instances",i=new jt;e.identifierId!==void 0&&(i=i.append("identifierId",e.identifierId));let n=i.toString();return t+=n?"?"+n:"",this.httpClient.get(t,{headers:this.headers})}getInstancesByAppIdAndIdentifierId(e){let t=this.route+"/v1/apps/"+e.appIdOrSlug+"/identifiers/"+e.identifierId+"/instances";return this.httpClient.get(t,{headers:this.headers})}getInstancesByAppSlugAndIdentifierSlug(e){let t=this.route+"/v1/apps/slug/"+e.appIdOrSlug+"/identifiers/"+e.identifierId+"/instances";return this.httpClient.get(t,{headers:this.headers})}};a.\u0275fac=function(t){return new(t||a)(K(mt),K(Le),K(Q))},a.\u0275prov=Re({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();function vc(o,a){if(o&1){let l=T();s(0,"div")(1,"button",6),I("click",function(){_(l);let t=w();return v(t.expandAll())}),s(2,"mat-icon"),p(3,"expand_more"),c()(),s(4,"button",7),I("click",function(){_(l);let t=w();return v(t.collapseAll())}),s(5,"mat-icon"),p(6,"expand_less"),c()()()}if(o&2){let l=w();m(),u("disabled",l.data.instances===void 0||l.data.instances.length===0),m(3),u("disabled",l.data.instances===void 0||l.data.instances.length===0)}}function yc(o,a){if(o&1){let l=T();s(0,"button",20),I("click",function(t){_(l);let i=w().$implicit,n=w(2);return v(n.copyToClipboard(i.dynamicId,t))}),s(1,"mat-icon"),p(2,"content_copy"),c()()}}function Ic(o,a){if(o&1&&(s(0,"mat-list-item")(1,"span"),p(2),s(3,"a",22)(4,"button",23)(5,"mat-icon"),p(6,"open_in_new"),c()()()()()),o&2){let l=a.$implicit;m(2),q(" ",l," "),m(),u("href",l,en)}}function wc(o,a){if(o&1&&(s(0,"tr")(1,"td",16),p(2,"Urls:"),c(),s(3,"td",17)(4,"mat-list",21),k(5,Ic,7,2,"mat-list-item",9),c()()()),o&2){let l=w().$implicit;m(5),u("ngForOf",l.urls)}}function kc(o,a){if(o&1&&(s(0,"tr")(1,"td",16),p(2,"Data access type:"),c(),s(3,"td",17),p(4),c()()),o&2){let l=w().$implicit,e=w(2);m(4),O(e.getDataAccessType(l.dataAccessType))}}function Cc(o,a){if(o&1){let l=T();s(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"span",10),p(4),c()(),s(5,"mat-panel-description")(6,"span",11),p(7),c(),b(8,"span",4),s(9,"span",12),p(10),k(11,yc,3,0,"button",13),c()()(),s(12,"mat-card",14)(13,"mat-card-content")(14,"table",15)(15,"tbody"),k(16,wc,6,1,"tr",2),s(17,"tr")(18,"td",16),p(19,"Instance status:"),c(),s(20,"td",17),p(21),c()(),s(22,"tr")(23,"td",16),p(24,"Ip Address:"),c(),s(25,"td",17),p(26),c()(),s(27,"tr")(28,"td",16),p(29,"Machine name:"),c(),s(30,"td",17),p(31),c()(),s(32,"tr")(33,"td",16),p(34,"Environment:"),c(),s(35,"td",17),p(36),c()(),s(37,"tr")(38,"td",16),p(39,"Reload strategies:"),c(),s(40,"td",17),p(41),c()(),s(42,"tr")(43,"td",16),p(44,"Service type:"),c(),s(45,"td",17),p(46),c()(),k(47,kc,5,1,"tr",2),s(48,"tr")(49,"td",16),p(50,"Created on:"),c(),s(51,"td",17),p(52),c()(),s(53,"tr")(54,"td",16),p(55,"Updated on:"),c(),s(56,"td",17),p(57),c()()()(),s(58,"div",18),b(59,"span",4),s(60,"button",19),I("click",function(){let t=_(l).$implicit,i=w(2);return v(i.delete(t))}),p(61,"Delete"),c()()()()()}if(o&2){let l=a.$implicit,e=w(2);m(4),O(l.name),m(3),q("v",l.version,""),m(3),q("",l.dynamicId," "),m(),u("ngIf",e.isConnectionSecure),m(5),u("ngIf",l.urls),m(5),O(l.isActive?"Active":"Inactive"),m(5),O(l.ipAddress||"-"),m(5),O(l.machineName),m(5),O(l.environment),m(5),O(e.getReloadStrategies(l.reloadStrategies)),m(5),O(e.getServiceType(l.serviceType)),m(),u("ngIf",l.dataAccessType),m(5),O(l.createdOn),m(5),O(l.updatedOn)}}function Sc(o,a){if(o&1&&(s(0,"mat-accordion",8),k(1,Cc,62,14,"mat-expansion-panel",9),c()),o&2){let l=w();m(),u("ngForOf",l.data.instances)}}function xc(o,a){o&1&&(s(0,"p",25),p(1,"No results found."),c())}function Tc(o,a){if(o&1&&k(0,xc,2,0,"p",24),o&2){let l=w();u("ngIf",l.data.instances!==void 0)}}var Jo=(()=>{let a=class a{constructor(e,t,i,n,r){this.instancesService=e,this.utilityService=t,this.windowService=i,this.dialog=n,this.appViewService=r,this.multiSelectionEnabled=!1,this.subscriptions=new j,this.instanceDeleteEmitter=new A}ngOnInit(){this.subscriptions.add(this.appViewService.appViewMultiSelectionEnabled$.subscribe(e=>{this.multiSelectionEnabled=e})),this.isConnectionSecure=this.windowService.isConnectionSecure}ngOnDestroy(){this.subscriptions.unsubscribe()}onToggleMultiSelection(e){this.appViewService.emitAppViewMultiSelectionEnabled(e.checked)}copyToClipboard(e,t){t.stopPropagation(),this.utilityService.copyToClipboard(e)}delete(e){let t="Confirm delete",i=`Is "${e.name}" instance no longer active? You can delete it, and it will be re-created upon restart if it exists.`,n=this.dialog.open($e,{width:"500px",data:{title:t,message:i}}).afterClosed().subscribe(r=>{if(r){let d=this.instancesService.deleteInstance({instanceId:e.id}).subscribe(()=>{let g=this.data.instances.findIndex(f=>f.id===e.id);this.data.instances.splice(g,1),this.instanceDeleteEmitter.emit(e.id)});this.subscriptions.add(d)}});this.subscriptions.add(n)}expandAll(){this.accordion.openAll()}collapseAll(){this.accordion.closeAll()}getServiceType(e){return da[e]}getDataAccessType(e){return la[e]}getReloadStrategies(e){return e.map(t=>pa[t]).join(", ")}};a.\u0275fac=function(t){return new(t||a)(h(Yo),h(ke),h(Q),h(Fe),h(Hi))},a.\u0275cmp=F({type:a,selectors:[["instance-list"]],viewQuery:function(t,i){if(t&1&&M(_e,5),t&2){let n;S(n=x())&&(i.accordion=n.first)}},inputs:{data:"data"},outputs:{instanceDeleteEmitter:"instanceDeleteEmitter"},decls:8,vars:4,consts:[["noData",""],[1,"d-flex","min-height-50"],[4,"ngIf"],[1,"d-flex","ml-2",3,"ngModelChange","change","ngModel"],[1,"spacer"],["multi","",4,"ngIf","ngIfElse"],["mat-icon-button","","matTooltip","Expand All",3,"click","disabled"],["mat-icon-button","","matTooltip","Collapse All",3,"click","disabled"],["multi",""],[4,"ngFor","ngForOf"],["matTooltip","Name"],["matTooltip","App Version"],["matTooltip","Dynamic Id",1,"fs-x-small"],["mat-icon-button","","class","icon-mini","color","primary",3,"click",4,"ngIf"],[1,"info-card"],[1,"custom-mat-table"],[1,"custom-mat-cell","key-cell"],[1,"custom-mat-cell"],[1,"d-flex","mt-2"],["color","warn","mat-raised-button","",3,"click"],["mat-icon-button","","color","primary",1,"icon-mini",3,"click"],[1,"d-grid"],["target","_blank",1,"text-decoration-none",3,"href"],["mat-icon-button","","color","primary"],["class","p-2",4,"ngIf"],[1,"p-2"]],template:function(t,i){if(t&1){let n=T();s(0,"div",1),k(1,vc,7,2,"div",2),s(2,"mat-slide-toggle",3),ot("ngModelChange",function(d){return _(n),at(i.multiSelectionEnabled,d)||(i.multiSelectionEnabled=d),v(d)}),I("change",function(d){return _(n),v(i.onToggleMultiSelection(d))}),p(3,"Multi selection"),c(),b(4,"span",4),c(),k(5,Sc,2,1,"mat-accordion",5)(6,Tc,1,1,"ng-template",null,0,an)}if(t&2){let n=z(7);m(),u("ngIf",i.multiSelectionEnabled),m(),nt("ngModel",i.multiSelectionEnabled),m(3),u("ngIf",i.data.instances==null?null:i.data.instances.length)("ngIfElse",n)}},dependencies:[Ie,te,ue,ei,_e,We,Ke,Ye,Et,vn,ni,ae,ho,uo,De,ne,Lt,de],styles:[".info-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px;font-size:15px}.info-label[_ngcontent-%COMP%]{font-weight:500;margin-right:15px;width:150px;font-size:16px}.info-value[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:16px}"]});let o=a;return o})();var ga=["*"];function Mc(o,a){o&1&&se(0)}var Ec=["tabListContainer"],Fc=["tabList"],Ac=["tabListInner"],Vc=["nextPaginator"],Oc=["previousPaginator"],Pc=o=>({animationDuration:o}),Rc=(o,a)=>({value:o,params:a});function Nc(o,a){}var Lc=["tabBodyWrapper"],Bc=["tabHeader"];function jc(o,a){}function Hc(o,a){if(o&1&&k(0,jc,0,0,"ng-template",12),o&2){let l=w().$implicit;u("cdkPortalOutlet",l.templateLabel)}}function zc(o,a){if(o&1&&p(0),o&2){let l=w().$implicit;O(l.textLabel)}}function Gc(o,a){if(o&1){let l=T();s(0,"div",7,2),I("click",function(){let t=_(l),i=t.$implicit,n=t.$index,r=w(),d=z(1);return v(r._handleClick(i,d,n))})("cdkFocusChange",function(t){let i=_(l).$index,n=w();return v(n._tabFocusChanged(t,i))}),b(2,"span",8)(3,"div",9),s(4,"span",10)(5,"span",11),k(6,Hc,1,1,null,12)(7,zc,1,1),c()()()}if(o&2){let l=a.$implicit,e=a.$index,t=z(1),i=w();dt(l.labelClass),Y("mdc-tab--active",i.selectedIndex===e),u("id",i._getTabLabelId(e))("disabled",l.disabled)("fitInkBarToContent",i.fitInkBarToContent),$("tabIndex",i._getTabIndex(e))("aria-posinset",e+1)("aria-setsize",i._tabs.length)("aria-controls",i._getTabContentId(e))("aria-selected",i.selectedIndex===e)("aria-label",l.ariaLabel||null)("aria-labelledby",!l.ariaLabel&&l.ariaLabelledby?l.ariaLabelledby:null),m(3),u("matRippleTrigger",t)("matRippleDisabled",l.disabled||i.disableRipple),m(3),Se(6,l.templateLabel?6:7)}}function Uc(o,a){o&1&&se(0)}function qc(o,a){if(o&1){let l=T();s(0,"mat-tab-body",13),I("_onCentered",function(){_(l);let t=w();return v(t._removeTabBodyWrapperHeight())})("_onCentering",function(t){_(l);let i=w();return v(i._setTabBodyWrapperHeight(t))}),c()}if(o&2){let l=a.$implicit,e=a.$index,t=w();dt(l.bodyClass),Y("mat-mdc-tab-body-active",t.selectedIndex===e),u("id",t._getTabContentId(e))("content",l.content)("position",l.position)("origin",l.origin)("animationDuration",t.animationDuration)("preserveContent",t.preserveContent),$("tabindex",t.contentTabIndex!=null&&t.selectedIndex===e?t.contentTabIndex:null)("aria-labelledby",t._getTabLabelId(e))("aria-hidden",t.selectedIndex!==e)}}var Qc=new re("MatTabContent"),$c=(()=>{let a=class a{constructor(e){this.template=e}};a.\u0275fac=function(t){return new(t||a)(h(Kt))},a.\u0275dir=ve({type:a,selectors:[["","matTabContent",""]],standalone:!0,features:[le([{provide:Qc,useExisting:a}])]});let o=a;return o})(),Wc=new re("MatTabLabel"),er=new re("MAT_TAB"),Kc=(()=>{let a=class a extends Xa{constructor(e,t,i){super(e,t),this._closestTab=i}};a.\u0275fac=function(t){return new(t||a)(h(Kt),h(Si),h(er,8))},a.\u0275dir=ve({type:a,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[le([{provide:Wc,useExisting:a}]),gt]});let o=a;return o})(),tr=new re("MAT_TAB_GROUP"),fa=(()=>{let a=class a{get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}constructor(e,t){this._viewContainerRef=e,this._closestTabGroup=t,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new H,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new fn(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}};a.\u0275fac=function(t){return new(t||a)(h(Si),h(tr,8))},a.\u0275cmp=F({type:a,selectors:[["mat-tab"]],contentQueries:function(t,i,n){if(t&1&&(he(n,Kc,5),he(n,$c,7,Kt)),t&2){let r;S(r=x())&&(i.templateLabel=r.first),S(r=x())&&(i._explicitContent=r.first)}},viewQuery:function(t,i){if(t&1&&M(Kt,7),t&2){let n;S(n=x())&&(i._implicitContent=n.first)}},hostAttrs:["hidden",""],inputs:{disabled:[C.HasDecoratorInputTransform,"disabled","disabled",E],textLabel:[C.None,"label","textLabel"],ariaLabel:[C.None,"aria-label","ariaLabel"],ariaLabelledby:[C.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[le([{provide:er,useExisting:a}]),oe,Ne,ye],ngContentSelectors:ga,decls:1,vars:0,template:function(t,i){t&1&&(Ce(),k(0,Mc,1,0,"ng-template"))},encapsulation:2});let o=a;return o})(),ma="mdc-tab-indicator--active",Xo="mdc-tab-indicator--no-transition",ha=class{constructor(a){this._items=a}hide(){this._items.forEach(a=>a.deactivateInkBar())}alignToElement(a){let l=this._items.find(t=>t.elementRef.nativeElement===a),e=this._currentItem;if(l!==e&&(e?.deactivateInkBar(),l)){let t=e?.elementRef.nativeElement.getBoundingClientRect?.();l.activateInkBar(t),this._currentItem=l}}},Yc=(()=>{let a=class a{constructor(){this._elementRef=ui(Z),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let t=this._elementRef.nativeElement;if(!e||!t.getBoundingClientRect||!this._inkBarContentElement){t.classList.add(ma);return}let i=t.getBoundingClientRect(),n=e.width/i.width,r=e.left-i.left;t.classList.add(Xo),this._inkBarContentElement.style.setProperty("transform",`translateX(${r}px) scaleX(${n})`),t.getBoundingClientRect(),t.classList.remove(Xo),t.classList.add(ma),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(ma)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,t=this._inkBarElement=e.createElement("span"),i=this._inkBarContentElement=e.createElement("span");t.className="mdc-tab-indicator",i.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",t.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}};a.\u0275fac=function(t){return new(t||a)},a.\u0275dir=ve({type:a,inputs:{fitInkBarToContent:[C.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",E]},features:[oe]});let o=a;return o})();var ir=(()=>{let a=class a extends Yc{constructor(e){super(),this.elementRef=e,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}};a.\u0275fac=function(t){return new(t||a)(h(Z))},a.\u0275dir=ve({type:a,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,i){t&2&&($("aria-disabled",!!i.disabled),Y("mat-mdc-tab-disabled",i.disabled))},inputs:{disabled:[C.HasDecoratorInputTransform,"disabled","disabled",E]},standalone:!0,features:[oe,gt]});let o=a;return o})(),Zo=Na({passive:!0}),Jc=650,Xc=100,Zc=(()=>{let a=class a{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let t=isNaN(e)?0:e;this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}constructor(e,t,i,n,r,d,g){this._elementRef=e,this._changeDetectorRef=t,this._viewportRuler=i,this._dir=n,this._ngZone=r,this._platform=d,this._animationMode=g,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new H,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new H,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new A,this.indexFocused=new A,r.runOutsideAngular(()=>{Wt(e.nativeElement,"mouseleave").pipe(W(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Wt(this._previousPaginator.nativeElement,"touchstart",Zo).pipe(W(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Wt(this._nextPaginator.nativeElement,"touchstart",Zo).pipe(W(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let e=this._dir?this._dir.change:G("ltr"),t=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new ln(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Bt(1)).subscribe(i),tt(e,t,this._items.changes,this._itemsResized()).pipe(W(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),i()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(n=>{this.indexFocused.emit(n),this._setTabFocus(n)})}_itemsResized(){return typeof ResizeObserver!="function"?_a:this._items.changes.pipe(me(this._items),U(e=>new ba(t=>this._ngZone.runOutsideAngular(()=>{let i=new ResizeObserver(n=>t.next(n));return e.forEach(n=>i.observe(n.elementRef.nativeElement)),()=>{i.disconnect()}}))),wa(1),Ci(e=>e.some(t=>t.contentRect.width>0&&t.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Ht(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let t=this._items.get(this.focusIndex);t&&!t.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let t=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?t.scrollLeft=0:t.scrollLeft=t.scrollWidth-t.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,t=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(t)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let t=this._tabListContainer.nativeElement.offsetWidth,i=(e=="before"?-1:1)*t/3;return this._scrollTo(this._scrollDistance+i)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let t=this._items?this._items.toArray()[e]:null;if(!t)return;let i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:n,offsetWidth:r}=t.elementRef.nativeElement,d,g;this._getLayoutDirection()=="ltr"?(d=n,g=d+r):(g=this._tabListInner.nativeElement.offsetWidth-n,d=g-r);let f=this.scrollDistance,y=this.scrollDistance+i;d<f?this.scrollDistance-=f-d:g>y&&(this.scrollDistance+=Math.min(g-y,d-f))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,t=this._tabListContainer.nativeElement.offsetWidth;return e-t||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t?this._inkBar.alignToElement(t):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,t){t&&t.button!=null&&t.button!==0||(this._stopInterval(),ya(Jc,Xc).pipe(W(tt(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:i,distance:n}=this._scrollHeader(e);(n===0||n>=i)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance}}};a.\u0275fac=function(t){return new(t||a)(h(Z),h(J),h(Ui),h(zt,8),h(It),h(yi),h(ut,8))},a.\u0275dir=ve({type:a,inputs:{disablePagination:[C.HasDecoratorInputTransform,"disablePagination","disablePagination",E],selectedIndex:[C.HasDecoratorInputTransform,"selectedIndex","selectedIndex",pt]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[oe]});let o=a;return o})(),ed=(()=>{let a=class a extends Zc{constructor(e,t,i,n,r,d,g){super(e,t,i,n,r,d,g),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new ha(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}};a.\u0275fac=function(t){return new(t||a)(h(Z),h(J),h(Ui),h(zt,8),h(It),h(yi),h(ut,8))},a.\u0275cmp=F({type:a,selectors:[["mat-tab-header"]],contentQueries:function(t,i,n){if(t&1&&he(n,ir,4),t&2){let r;S(r=x())&&(i._items=r)}},viewQuery:function(t,i){if(t&1&&(M(Ec,7),M(Fc,7),M(Ac,7),M(Vc,5),M(Oc,5)),t&2){let n;S(n=x())&&(i._tabListContainer=n.first),S(n=x())&&(i._tabList=n.first),S(n=x())&&(i._tabListInner=n.first),S(n=x())&&(i._nextPaginator=n.first),S(n=x())&&(i._previousPaginator=n.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(t,i){t&2&&Y("mat-mdc-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-mdc-tab-header-rtl",i._getLayoutDirection()=="rtl")},inputs:{disableRipple:[C.HasDecoratorInputTransform,"disableRipple","disableRipple",E]},standalone:!0,features:[oe,gt,ye],ngContentSelectors:ga,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(t,i){if(t&1){let n=T();Ce(),s(0,"button",5,0),I("click",function(){return _(n),v(i._handlePaginatorClick("before"))})("mousedown",function(d){return _(n),v(i._handlePaginatorPress("before",d))})("touchend",function(){return _(n),v(i._stopInterval())}),b(2,"div",6),c(),s(3,"div",7,1),I("keydown",function(d){return _(n),v(i._handleKeydown(d))}),s(5,"div",8,2),I("cdkObserveContent",function(){return _(n),v(i._onContentChanges())}),s(7,"div",9,3),se(9),c()()(),s(10,"button",10,4),I("mousedown",function(d){return _(n),v(i._handlePaginatorPress("after",d))})("click",function(){return _(n),v(i._handlePaginatorClick("after"))})("touchend",function(){return _(n),v(i._stopInterval())}),b(12,"div",6),c()}t&2&&(Y("mat-mdc-tab-header-pagination-disabled",i._disableScrollBefore),u("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),m(3),Y("_mat-animation-noopable",i._animationMode==="NoopAnimations"),m(7),Y("mat-mdc-tab-header-pagination-disabled",i._disableScrollAfter),u("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[Ct,Ba],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2});let o=a;return o})(),td=new re("MAT_TABS_CONFIG"),id={translateTab:gn("translateTab",[Ei("center, void, left-origin-center, right-origin-center",bt({transform:"none"})),Ei("left",bt({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Ei("right",bt({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),wi("* => left, * => right, left => center, right => center",ti("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),wi("void => left-origin-center",[bt({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),ti("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),wi("void => right-origin-center",[bt({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),ti("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},nd=(()=>{let a=class a extends bn{constructor(e,t,i,n){super(e,t,n),this._host=i,this._centeringSub=j.EMPTY,this._leavingSub=j.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(me(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}};a.\u0275fac=function(t){return new(t||a)(h(Ca),h(Si),h(it(()=>nr)),h(Jt))},a.\u0275dir=ve({type:a,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[gt]});let o=a;return o})(),nr=(()=>{let a=class a{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,t,i){this._elementRef=e,this._dir=t,this._dirChangeSubscription=j.EMPTY,this._translateTabComplete=new H,this._onCentering=new A,this._beforeCentering=new A,this._afterLeavingCenter=new A,this._onCentered=new A(!0),this.animationDuration="500ms",this.preserveContent=!1,t&&(this._dirChangeSubscription=t.change.subscribe(n=>{this._computePositionAnimationState(n),i.markForCheck()})),this._translateTabComplete.pipe(ct((n,r)=>n.fromState===r.fromState&&n.toState===r.toState)).subscribe(n=>{this._isCenterPosition(n.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(n.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){let t=this._isCenterPosition(e.toState);this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(e){return e=="center"||e=="left-origin-center"||e=="right-origin-center"}_computePositionAnimationState(e=this._getLayoutDirection()){this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(e){let t=this._getLayoutDirection();return t=="ltr"&&e<=0||t=="rtl"&&e>0?"left-origin-center":"right-origin-center"}};a.\u0275fac=function(t){return new(t||a)(h(Z),h(zt,8),h(J))},a.\u0275cmp=F({type:a,selectors:[["mat-tab-body"]],viewQuery:function(t,i){if(t&1&&M(bn,5),t&2){let n;S(n=x())&&(i._portalHost=n.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[C.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[ye],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(t,i){if(t&1){let n=T();s(0,"div",1,0),I("@translateTab.start",function(d){return _(n),v(i._onTranslateTabStarted(d))})("@translateTab.done",function(d){return _(n),v(i._translateTabComplete.next(d))}),k(2,Nc,0,0,"ng-template",2),c()}t&2&&u("@translateTab",xi(3,Rc,i._position,vi(1,Pc,i.animationDuration)))},dependencies:[nd,eo],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[id.translateTab]}});let o=a;return o})(),ad=0,od=!0,ar=(()=>{let a=class a{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}get animationDuration(){return this._animationDuration}set animationDuration(e){let t=e+"";this._animationDuration=/^\d+$/.test(t)?e+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){if(!od)throw new Error("mat-tab-group background color must be set through the Sass theming API");let t=this._elementRef.nativeElement.classList;t.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&t.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,t,i,n){this._elementRef=e,this._changeDetectorRef=t,this._animationMode=n,this._tabs=new Zi,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=j.EMPTY,this._tabLabelSubscription=j.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new A,this.focusChange=new A,this.animationDone=new A,this.selectedTabChange=new A(!0),this._isServer=!ui(yi).isBrowser,this._groupId=ad++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=i&&i.disablePagination!=null?i.disablePagination:!1,this.dynamicHeight=i&&i.dynamicHeight!=null?i.dynamicHeight:!1,i?.contentTabIndex!=null&&(this.contentTabIndex=i.contentTabIndex),this.preserveContent=!!i?.preserveContent,this.fitInkBarToContent=i&&i.fitInkBarToContent!=null?i.fitInkBarToContent:!1,this.stretchTabs=i&&i.stretchTabs!=null?i.stretchTabs:!0}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let t=this._selectedIndex==null;if(!t){this.selectedTabChange.emit(this._createChangeEvent(e));let i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,n)=>i.isActive=n===e),t||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((t,i)=>{t.position=i-e,this._selectedIndex!=null&&t.position==0&&!t.origin&&(t.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let t=this._tabs.toArray(),i;for(let n=0;n<t.length;n++)if(t[n].isActive){this._indexToSelect=this._selectedIndex=n,this._lastFocusedTabIndex=null,i=t[n];break}!i&&t[e]&&Promise.resolve().then(()=>{t[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(me(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(t=>t._closestTabGroup===this||!t._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let t=this._tabHeader;t&&(t.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let t=new ua;return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=tt(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,t,i){t.focusIndex=i,e.disabled||(this.selectedIndex=i)}_getTabIndex(e){let t=this._lastFocusedTabIndex??this.selectedIndex;return e===t?0:-1}_tabFocusChanged(e,t){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=t)}};a.\u0275fac=function(t){return new(t||a)(h(Z),h(J),h(td,8),h(ut,8))},a.\u0275cmp=F({type:a,selectors:[["mat-tab-group"]],contentQueries:function(t,i,n){if(t&1&&he(n,fa,5),t&2){let r;S(r=x())&&(i._allTabs=r)}},viewQuery:function(t,i){if(t&1&&(M(Lc,5),M(Bc,5)),t&2){let n;S(n=x())&&(i._tabBodyWrapper=n.first),S(n=x())&&(i._tabHeader=n.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(t,i){t&2&&(dt("mat-"+(i.color||"primary")),tn("--mat-tab-animation-duration",i.animationDuration),Y("mat-mdc-tab-group-dynamic-height",i.dynamicHeight)("mat-mdc-tab-group-inverted-header",i.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",i.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[C.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",E],stretchTabs:[C.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",E],dynamicHeight:[C.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",E],selectedIndex:[C.HasDecoratorInputTransform,"selectedIndex","selectedIndex",pt],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[C.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",pt],disablePagination:[C.HasDecoratorInputTransform,"disablePagination","disablePagination",E],disableRipple:[C.HasDecoratorInputTransform,"disableRipple","disableRipple",E],preserveContent:[C.HasDecoratorInputTransform,"preserveContent","preserveContent",E],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[le([{provide:tr,useExisting:a}]),oe,ye],ngContentSelectors:ga,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(t,i){if(t&1){let n=T();Ce(),s(0,"mat-tab-header",3,0),I("indexFocused",function(d){return _(n),v(i._focusChanged(d))})("selectFocusedIndex",function(d){return _(n),v(i.selectedIndex=d)}),fi(2,Gc,8,17,"div",4,gi),c(),k(4,Uc,1,0),s(5,"div",5,1),fi(7,qc,1,13,"mat-tab-body",6,gi),c()}t&2&&(u("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),m(2),bi(i._tabs),m(2),Se(4,i._isServer?4:-1),m(),Y("_mat-animation-noopable",i._animationMode==="NoopAnimations"),m(2),bi(i._tabs))},dependencies:[ed,ir,Ha,Ct,bn,nr],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2});let o=a;return o})(),ua=class{};var or=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[we,we]});let o=a;return o})();var sd=["selectRef"];function cd(o,a){o&1&&(s(0,"div",49)(1,"div",50),b(2,"img",51),c(),b(3,"div",52),c())}var rr=(()=>{let a=class a{constructor(e,t,i,n){this.snackBar=e,this.formBuilder=t,this.configurationsService=i,this.utilityService=n,this.subscriptions=new j,this.isLoading=!1,this.configUpdateEmitter=new A}ngOnInit(){this.form=this.formBuilder.group({storeInSeparateFile:[this.data.storeInSeparateFile],ignoreOnFileChange:[this.data.storeInSeparateFile?this.data.ignoreOnFileChange??!1:null],registrationMode:[this.data.registrationMode],consumer:this.formBuilder.group({requestEncodings:[this.data.consumer.requestEncodings],isRedisActive:[this.data.consumer.isRedisActive],pollingSettingsWorker:this.formBuilder.group({isActive:[this.data.consumer.pollingSettingsWorker.isActive],startsIn:[this.data.consumer.pollingSettingsWorker.startsIn],period:[this.data.consumer.pollingSettingsWorker.period]})}),provider:this.formBuilder.group({redis:this.formBuilder.group({isActive:[this.data.provider.redis.isActive],configuration:[this.data.provider.redis.configuration],channel:[this.data.provider.redis.channel]}),compressionType:[this.data.provider.compressionType],compressionLevel:[this.data.provider.compressionLevel]})})}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(e){e.data&&this.data&&this.form?.patchValue({storeInSeparateFile:this.data.storeInSeparateFile,ignoreOnFileChange:this.data.ignoreOnFileChange,registrationMode:this.data.registrationMode,consumer:{requestEncodings:[...this.data.consumer.requestEncodings],isRedisActive:this.data.consumer.isRedisActive,pollingSettingsWorker:{isActive:this.data.consumer.pollingSettingsWorker.isActive,startsIn:this.data.consumer.pollingSettingsWorker.startsIn,period:this.data.consumer.pollingSettingsWorker.period}},provider:{redis:{isActive:this.data.provider.redis.isActive,configuration:this.data.provider.redis.configuration,channel:this.data.provider.redis.channel},compressionType:this.data.provider.compressionType,compressionLevel:this.data.provider.compressionLevel}})}onSelectionChange(e){if(this.data.registrationMode===e.value)return;this.isLoading=!0;let t=e.value,i={};i.registrationMode=t;let n=this.configurationsService.patchConfiguration({appId:this.data.appId,identifierId:this.data.selectedIdentifierId,body:{rowVersion:this.data.rowVersion,updatedFieldNameToValue:i}}).subscribe({next:r=>{let d=r.data;d&&(this.configUpdateEmitter.emit({formControlName:"registrationMode",registrationMode:d.updatedFieldNameToValue.RegistrationMode,rowVersion:d.rowVersion}),this.snackBar.open("Configuration has been successfully updated! A restart is required for the changes to take effect.","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.isLoading=!1)},error:r=>{this.form.get("registrationMode")?.setValue(this.data.registrationMode),this.selectRef&&(this.selectRef.value=this.data.registrationMode);let d=r.error;d&&d.status===409&&d.errors?(this.isLoading=!1,this.utilityService.error(d.errors,3500),this.fetchLatestConfiguration()):this.isLoading=!1}});this.subscriptions.add(n)}onToggleChange(e,t){this.isLoading=!0;let i={};i[t]=e.checked;let n=this.configurationsService.patchConfiguration({appId:this.data.appId,identifierId:this.data.selectedIdentifierId,body:{rowVersion:this.data.rowVersion,updatedFieldNameToValue:i}}).subscribe({next:r=>{let d=r.data;if(d){switch(this.data.rowVersion=d.rowVersion,t){case"storeInSeparateFile":this.configUpdateEmitter.emit({formControlName:t,storeInSeparateFile:d.updatedFieldNameToValue.StoreInSeparateFile,rowVersion:d.rowVersion});break;case"ignoreOnFileChange":this.configUpdateEmitter.emit({formControlName:t,ignoreOnFileChange:d.updatedFieldNameToValue.IgnoreOnFileChange,rowVersion:d.rowVersion});break}this.snackBar.open("Configuration has been successfully updated! A restart is required for the changes to take effect.","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.isLoading=!1}},error:r=>{this.form.get(t)?.setValue(!e.checked);let d=r.error;d&&d.status===409&&d.errors?(this.isLoading=!1,this.utilityService.error(d.errors,3500),this.fetchLatestConfiguration()):this.isLoading=!1}});this.subscriptions.add(n)}saveConsumerSettings(e){e.stopPropagation(),this.isLoading=!0;let t={};t.consumer=Ve({},this.form.value.consumer);let i=this.configurationsService.patchConfiguration({appId:this.data.appId,identifierId:this.data.selectedIdentifierId,body:{rowVersion:this.data.rowVersion,updatedFieldNameToValue:t}}).subscribe({next:n=>{let r=n.data;r&&(this.data.rowVersion=r.rowVersion,this.configUpdateEmitter.emit({formControlName:"consumer",consumer:r.updatedFieldNameToValue.Consumer,rowVersion:r.rowVersion}),this.snackBar.open("Configuration has been successfully updated! A restart is required for the changes to take effect.","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.isLoading=!1)},error:n=>{this.form.get("consumer")?.setValue(Ve({},this.data.consumer));let r=n.error;r&&r.status===409&&r.errors?(this.isLoading=!1,this.utilityService.error(r.errors,3500),this.fetchLatestConfiguration()):this.isLoading=!1}});this.subscriptions.add(i)}saveProviderSettings(e){e.stopPropagation(),this.isLoading=!0;let t={};t.provider=Ve({},this.form.value.provider);let i=this.configurationsService.patchConfiguration({appId:this.data.appId,identifierId:this.data.selectedIdentifierId,body:{rowVersion:this.data.rowVersion,updatedFieldNameToValue:t}}).subscribe({next:n=>{let r=n.data;r&&(this.data.rowVersion=r.rowVersion,this.configUpdateEmitter.emit({formControlName:"provider",provider:r.updatedFieldNameToValue.Provider,rowVersion:r.rowVersion}),this.snackBar.open("Configuration has been successfully updated! A restart is required for the changes to take effect.","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),this.isLoading=!1)},error:n=>{this.form.get("provider")?.setValue(Ve({},this.data.provider));let r=n.error;r&&r.status===409&&r.errors?(this.isLoading=!1,this.utilityService.error(r.errors,3500),this.fetchLatestConfiguration()):this.isLoading=!1}});this.subscriptions.add(i)}fetchLatestConfiguration(){let e=this.configurationsService.getConfigurationByAppAndIdentifier({appId:this.data.appId,identifierId:this.data.selectedIdentifierId}).subscribe({next:t=>{let i=t.data;i&&(this.configUpdateEmitter.emit({storeInSeparateFile:i.storeInSeparateFile,ignoreOnFileChange:i.ignoreOnFileChange,registrationMode:i.registrationMode,consumer:i.consumer,provider:i.provider,rowVersion:i.rowVersion}),this.isLoading=!1)},error:t=>{this.isLoading=!1}});this.subscriptions.add(e)}};a.\u0275fac=function(t){return new(t||a)(h(ce),h(Ge),h(Nn),h(ke))},a.\u0275cmp=F({type:a,selectors:[["configuration-update"]],viewQuery:function(t,i){if(t&1&&M(sd,5),t&2){let n;S(n=x())&&(i.selectRef=n.first)}},inputs:{data:"data"},outputs:{configUpdateEmitter:"configUpdateEmitter"},features:[Ne],decls:180,vars:21,consts:[["selectRef",""],["class","loading-container",4,"ngIf"],[3,"formGroup"],["appearance","fill"],["matIconPosition","right","fontIcon","info","matTooltip","Specifies how single settings file ( separate setting files should be configured its own setting or setting class ) can be registered and resolved within the service. Supports resolving via configuration options or as a singleton service.",1,"icon-mini"],["formControlName","registrationMode",3,"selectionChange"],[1,"custom-option",3,"value"],[1,"spacer"],["color","accent","mat-icon-button","","matTooltipPosition","left","matTooltip","Settings can be resolved through configuration options interfaces, such as IOptions<T>, IOptionsSnapshot<T> and IOptionsMonitor<T>."],["matIconPosition","right","fontIcon","info"],["color","accent","mat-icon-button","","matTooltipPosition","left","matTooltip","Settings can be resolved directly through its own class as a singleton instance."],["color","accent","mat-icon-button","","matTooltipPosition","left","matTooltip","Settings can be resolved both through singleton instances and through configuration options interfaces."],[1,"d-flex","px-3"],[1,"mb-2","mr-3","d-flex","align-items-center"],[1,"field-label-text"],["matIconPosition","right","fontIcon","info",1,"icon-mini",3,"matTooltip"],["labelPosition","before","formControlName","storeInSeparateFile",3,"change"],[1,"mb-2","d-flex","align-items-center"],["matIconPosition","right","fontIcon","info","matTooltip","Indicates whether changes to the file should be ignored when the file is modified.",1,"icon-mini"],["labelPosition","before","formControlName","ignoreOnFileChange",3,"change"],["multi","true"],["expanded","true"],["matIconPosition","right","fontIcon","info","matTooltip","It is only used when the instance is running in consumer mode.",1,"icon-mini"],["color","primary","mat-icon-button","","matTooltip","Save",1,"icon-mini",3,"click"],["multi","true","formGroupName","consumer"],["expanded","false","formGroupName","pollingSettingsWorker"],["matIconPosition","right","fontIcon","info","matTooltip","Represents a worker that handles polling for the latest settings within a specified period.",1,"icon-mini"],["matIconPosition","right","fontIcon","info","matTooltip","Indicates whether anonymous access is allowed. Changes require a restart.",1,"icon-mini"],["labelPosition","before","formControlName","isActive"],["matIconPosition","right","fontIcon","info","matTooltip","The time span to wait before starting the polling.",1,"icon-mini"],["matInput","","formControlName","startsIn"],["matIconPosition","right","fontIcon","info","matTooltip","The time span between polling period.",1,"icon-mini"],["matInput","","formControlName","period"],["expanded","false"],["formControlName","requestEncodings","multiple",""],[3,"value"],["matIconPosition","right","fontIcon","info","matTooltip","The flag indicates whether Redis is active for the consumer configuration. Redis connection details sent by the provider.",1,"icon-mini"],["labelPosition","before","formControlName","isRedisActive"],["matIconPosition","right","fontIcon","info","matTooltip","It is only used when the instance is running in provider mode.",1,"icon-mini"],["multi","true","formGroupName","provider"],["expanded","false","formGroupName","redis"],["matIconPosition","right","fontIcon","info","matTooltip","The configuration string for Redis.",1,"icon-mini"],["matInput","","formControlName","configuration"],["matIconPosition","right","fontIcon","info","matTooltip","The channel used to send or receive messages related to settings such as notifiying data change.",1,"icon-mini"],["matInput","","formControlName","channel"],["matIconPosition","right","fontIcon","info","matTooltip","Defines which compression type is applied when storing the setting data.",1,"icon-mini"],["formControlName","compressionType"],["matIconPosition","right","fontIcon","info","matTooltip","Defines which compression level is applied when storing the setting data.",1,"icon-mini"],["formControlName","compressionLevel"],[1,"loading-container"],[1,"mat-bg-primary","position-absolute","rounded-circle","app-icon-animation"],[1,"app-icon","bg-white"],[1,"loading-spinner"]],template:function(t,i){if(t&1){let n=T();k(0,cd,4,0,"div",1),s(1,"form",2)(2,"mat-form-field",3)(3,"mat-label"),p(4,"Registration Mode "),b(5,"mat-icon",4),c(),s(6,"mat-select",5,0),I("selectionChange",function(d){return _(n),v(i.onSelectionChange(d))}),s(8,"mat-option",6)(9,"span"),p(10,"Configure"),c(),b(11,"span",7),s(12,"button",8),b(13,"mat-icon",9),c()(),s(14,"mat-option",6)(15,"span"),p(16,"Singleton"),c(),b(17,"span",7),s(18,"button",10),b(19,"mat-icon",9),c()(),s(20,"mat-option",6)(21,"span"),p(22,"Both"),c(),b(23,"span",7),s(24,"button",11),b(25,"mat-icon",9),c()()()(),s(26,"div",12)(27,"div",13)(28,"span",14),p(29,"Store In Separate File (global)"),c(),b(30,"mat-icon",15),s(31,"mat-slide-toggle",16),I("change",function(d){return _(n),v(i.onToggleChange(d,"storeInSeparateFile"))}),c()(),s(32,"div",17)(33,"span",14),p(34,"Ignore On File Change (global)"),c(),b(35,"mat-icon",18),s(36,"mat-slide-toggle",19),I("change",function(d){return _(n),v(i.onToggleChange(d,"ignoreOnFileChange"))}),c()()(),s(37,"mat-accordion",20)(38,"mat-expansion-panel",21)(39,"mat-expansion-panel-header")(40,"mat-panel-title"),p(41," Consumer Configuration "),b(42,"mat-icon",22),c(),s(43,"mat-panel-description"),b(44,"span",7),s(45,"button",23),I("click",function(d){return _(n),v(i.saveConsumerSettings(d))}),s(46,"mat-icon"),p(47,"save"),c()()()(),s(48,"mat-accordion",24)(49,"mat-expansion-panel",25)(50,"mat-expansion-panel-header")(51,"mat-panel-title"),p(52," Polling Settings Worker "),c(),s(53,"mat-panel-description"),b(54,"span",7)(55,"mat-icon",26),c()(),s(56,"div",13)(57,"span",14),p(58,"Is Active"),c(),b(59,"mat-icon",27)(60,"mat-slide-toggle",28),c(),s(61,"mat-form-field")(62,"mat-label"),p(63,"Starts In "),b(64,"mat-icon",29),c(),b(65,"input",30),s(66,"mat-hint"),p(67,"Format: HH:mm:ss"),c()(),s(68,"mat-form-field")(69,"mat-label"),p(70,"Period "),b(71,"mat-icon",31),c(),b(72,"input",32),s(73,"mat-hint"),p(74,"Format: HH:mm:ss"),c()()(),s(75,"mat-expansion-panel",33)(76,"mat-expansion-panel-header")(77,"mat-panel-title"),p(78," Others "),c()(),s(79,"mat-form-field")(80,"mat-label"),p(81,"Request Encodings"),c(),s(82,"mat-select",34)(83,"mat-option",35)(84,"span"),p(85,"None"),c()(),s(86,"mat-option",35)(87,"span"),p(88,"Snappy"),c()(),s(89,"mat-option",35)(90,"span"),p(91,"Deflate"),c()(),s(92,"mat-option",35)(93,"span"),p(94,"Gzip"),c()(),s(95,"mat-option",35)(96,"span"),p(97,"Zstd"),c()(),s(98,"mat-option",35)(99,"span"),p(100,"Brotli"),c()()(),s(101,"mat-hint"),p(102,"The consumer can request its desired encodings, but the ultimate decision is made by the provider."),c()(),s(103,"div",13)(104,"span",14),p(105,"Is Redis Active"),c(),b(106,"mat-icon",36)(107,"mat-slide-toggle",37),c()()()(),s(108,"mat-expansion-panel",21)(109,"mat-expansion-panel-header")(110,"mat-panel-title"),p(111," Provider Configuration "),b(112,"mat-icon",38),c(),s(113,"mat-panel-description"),b(114,"span",7),s(115,"button",23),I("click",function(d){return _(n),v(i.saveProviderSettings(d))}),s(116,"mat-icon"),p(117,"save"),c()()()(),s(118,"mat-accordion",39)(119,"mat-expansion-panel",40)(120,"mat-expansion-panel-header")(121,"mat-panel-title"),p(122," Redis "),c()(),s(123,"div",13)(124,"span",14),p(125,"Is Active"),c(),b(126,"mat-slide-toggle",28),c(),s(127,"mat-form-field")(128,"mat-label"),p(129,"Configuration "),b(130,"mat-icon",41),c(),b(131,"input",42),s(132,"mat-hint"),p(133,"e.g. localhost:6379,password=******,abortConnect=false"),c()(),s(134,"mat-form-field")(135,"mat-label"),p(136,"Channel "),b(137,"mat-icon",43),c(),b(138,"input",44),c()(),s(139,"mat-expansion-panel",33)(140,"mat-expansion-panel-header")(141,"mat-panel-title"),p(142," Others "),c()(),s(143,"mat-form-field")(144,"mat-label"),p(145,"Compression Type "),b(146,"mat-icon",45),c(),s(147,"mat-select",46)(148,"mat-option",6)(149,"span"),p(150,"None"),c()(),s(151,"mat-option",6)(152,"span"),p(153,"Snappy"),c()(),s(154,"mat-option",6)(155,"span"),p(156,"Deflate"),c()(),s(157,"mat-option",6)(158,"span"),p(159,"Gzip"),c()(),s(160,"mat-option",6)(161,"span"),p(162,"Zstd"),c()(),s(163,"mat-option",6)(164,"span"),p(165,"Brotli"),c()()()(),s(166,"mat-form-field")(167,"mat-label"),p(168,"Compression Level "),b(169,"mat-icon",47),c(),s(170,"mat-select",48)(171,"mat-option",6)(172,"span"),p(173,"Optimal"),c()(),s(174,"mat-option",6)(175,"span"),p(176,"Fastest"),c()(),s(177,"mat-option",6)(178,"span"),p(179,"NoCompression"),c()()()()()()()()()}t&2&&(u("ngIf",i.isLoading),m(),u("formGroup",i.form),m(7),u("value",1),m(6),u("value",2),m(6),u("value",3),m(10),u("matTooltip","Indicates whether the settings should be stored in a separate file 'settings-generated.*.json'. If not, it will be stored in the default 'settings-generated.json' file."),m(53),u("value",0),m(3),u("value",1),m(3),u("value",2),m(3),u("value",3),m(3),u("value",4),m(3),u("value",5),m(50),u("value",0),m(3),u("value",1),m(3),u("value",2),m(3),u("value",3),m(3),u("value",4),m(3),u("value",5),m(8),u("value",0),m(3),u("value",1),m(3),u("value",2))},dependencies:[te,He,Be,ue,je,Te,ze,Ra,ae,be,fe,Tt,ge,ne,de,Me,Je,Lt,_e,We,Ke,Ye,Et]});let o=a;return o})();var ld=o=>["./apps",o,"new"];function pd(o,a){if(o&1){let l=T();s(0,"button",23),I("click",function(t){_(l);let i=w().$implicit,n=w();return v(n.moveSortOrder(i.id,t,!1))}),b(1,"mat-icon",24),c()}}function md(o,a){if(o&1){let l=T();s(0,"button",25),I("click",function(t){_(l);let i=w().$implicit,n=w();return v(n.moveSortOrder(i.id,t,!0))}),b(1,"mat-icon",26),c()}}function hd(o,a){if(o&1){let l=T();s(0,"mat-option",18),I("onSelectionChange",function(t){_(l);let i=w();return v(i.onIdentifierChanged(t))}),s(1,"span"),p(2),c(),b(3,"span",2),s(4,"span"),k(5,pd,2,0,"button",19)(6,md,2,0,"button",20),c(),s(7,"button",21),I("click",function(t){let i=_(l).$implicit,n=w();return v(n.deleteIdentifier(i.id,t))}),b(8,"mat-icon",22),c()()}if(o&2){let l=a.$implicit,e=w();u("value",l.id),m(2),O(l.name),m(3),u("ngIf",e.appData.identifierInfo.mappingMinSortOrder!==l.mappingSortOrder),m(),u("ngIf",e.appData.identifierInfo.mappingMaxSortOrder!==l.mappingSortOrder)}}function ud(o,a){if(o&1){let l=T();s(0,"setting-list",27),I("copySettingToIdentifierEmitter",function(t){_(l);let i=w();return v(i.copySettingToIdentifierEmitted(t))})("settingDeleteEmitter",function(t){_(l);let i=w();return v(i.onSettingDeleteEmitted(t))})("fetchLatestEmitter",function(t){_(l);let i=w();return v(i.fetchLatestEmitted(t))}),c()}if(o&2){let l=w();u("data",l.settingListComponentData)}}function gd(o,a){if(o&1){let l=T();s(0,"instance-list",28),I("instanceDeleteEmitter",function(t){_(l);let i=w();return v(i.onInstanceDeleted(t))}),c()}if(o&2){let l=w();u("data",l.appInstanceListComponentData)}}function fd(o,a){if(o&1){let l=T();s(0,"configuration-update",29),I("configUpdateEmitter",function(t){_(l);let i=w();return v(i.onConfigUpdateEmitted(t))}),c()}if(o&2){let l=w();u("data",l.configurationUpdateComponentData)}}var cr=(()=>{let a=class a{constructor(e,t,i,n,r,d,g,f,y,D,V,N,pe){this.dialogRef=e,this.data=t,this.appsService=i,this.configurationsService=n,this.settingsService=r,this.appIdentifierMappingsService=d,this.dialog=g,this.snackBar=f,this.dummyComponentService=y,this.appViewService=D,this.utilityService=V,this.route=N,this.router=pe,this.appData={identifierInfo:{minSortOrder:0,maxSortOrder:0,mappingMinSortOrder:0,mappingMaxSortOrder:0},identifierIdToIdentifier:{},identifierIdToConfiguration:{},identifierIdToSettings:{},identifierIdToInstances:{}},this.identifierIdToSettingsDataMap={},this.identifierIdToInstancesDataMap={},this.selectedIdentifierId="",this.previousSelectedIdentifierId="",this.isFullScreen=!1,this.isLoaded=!1,this.subscriptions=new j}ngOnInit(){this.handleRouting(this.loadData$())}ngOnDestroy(){this.appViewService.emitSettingView(void 0),this.subscriptions.unsubscribe()}get identifiers(){return this.sortIdentifiers(Object.values(this.appData.identifierIdToIdentifier))}loadDefaultBehavior(){let e=this.identifiers;if(e.length==0){this.createIdentifier("Add an identifier to start");return}let t=e[0].id;switch(this.tabIndex){case X.Configuration:setTimeout(()=>{this.router.navigate(["./apps",this.data.appSlug,t,"configuration"],{relativeTo:this.route,queryParamsHandling:"merge"})},150);break;case X.Instances:setTimeout(()=>{this.router.navigate(["./apps",this.data.appSlug,t,"instances"],{relativeTo:this.route,queryParamsHandling:"merge"})},150);break;case X.Settings:setTimeout(()=>{this.router.navigate(["./apps",this.data.appSlug,t,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"})},150);break}this.changeIdentifier(t)}viewNewIdentifierMapping(){let e=this.loadData$().pipe(Pe(()=>{this.createIdentifier()}));this.subscriptions.add(e.subscribe())}viewSetting(e){this.tabIndex=X.Settings;let t=e.activatedRoute.paramMap.subscribe(i=>{let n=i.get("identifierId");if(!n){this.loadDefaultBehavior(),this.router.navigate(["./apps",this.data.appSlug],{relativeTo:this.route,queryParamsHandling:"merge"});return}let r=i.get("settingId");if(!r){this.router.navigate(["./apps",this.data.appSlug,n,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"});return}let d=this.loadData$().pipe(Pe(()=>{if(!(n in this.appData.identifierIdToSettings)){this.loadDefaultBehavior();return}let g=this.appData.identifierIdToSettings[n].find(f=>f.id===r);g?this.appViewService.emitSettingView({selectedSettingId:g.id,settingViewType:"viewSetting"}):this.router.navigate(["./apps",this.data.appSlug,n,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"}),this.changeIdentifier(n)}));this.subscriptions.add(d.subscribe())});this.subscriptions.add(t)}viewCreateSetting(e){this.tabIndex=X.Settings;let t=e.activatedRoute.paramMap.subscribe(i=>{let n=i.get("identifierId");if(!n){this.loadDefaultBehavior(),this.router.navigate(["./apps",this.data.appSlug],{relativeTo:this.route,queryParamsHandling:"merge"});return}let r=this.loadData$().pipe(Pe(()=>{if(!(n in this.appData.identifierIdToSettings)){this.loadDefaultBehavior();return}this.appViewService.emitSettingView({selectedSettingId:this.appViewService.settingView?.selectedSettingId,settingViewType:"viewCreateSetting"}),this.changeIdentifier(n)}));this.subscriptions.add(r.subscribe())});this.subscriptions.add(t)}viewUpdateSetting(e){this.tabIndex=X.Settings;let t=e.activatedRoute.paramMap.subscribe(i=>{let n=i.get("identifierId");if(!n){this.loadDefaultBehavior(),this.router.navigate(["./apps",this.data.appSlug],{relativeTo:this.route,queryParamsHandling:"merge"});return}let r=i.get("settingId");if(!r){this.router.navigate(["./apps",this.data.appSlug,n,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"});return}let d=this.loadData$().pipe(Pe(()=>{let g=this.appData.identifierIdToSettings[n];if(!g){this.loadDefaultBehavior();return}let f=g.find(y=>y.id===r);if(f)this.appViewService.emitSettingView({settingViewType:"viewUpdateSetting",selectedSettingId:f.id}),this.changeIdentifier(n);else{let y=this.updateSetting(r)?.subscribe(D=>{D?(this.appViewService.emitSettingView({settingViewType:"viewUpdateSetting",selectedSettingId:r}),this.changeIdentifier(n)):this.loadDefaultBehavior()});y&&this.subscriptions.add(y)}}));this.subscriptions.add(d.subscribe())});this.subscriptions.add(t)}viewCopySettingTo(e){this.tabIndex=X.Settings;let t=e.activatedRoute.paramMap.subscribe(i=>{let n=i.get("identifierId");if(!n){this.loadDefaultBehavior(),this.router.navigate(["./apps",this.data.appSlug],{relativeTo:this.route,queryParamsHandling:"merge"});return}let r=i.get("settingId");if(!r){this.router.navigate(["./apps",this.data.appSlug,n,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"});return}let d=this.loadData$().pipe(Pe(()=>{let g=this.appData.identifierIdToSettings[n];if(!g){this.loadDefaultBehavior();return}let f=g.find(y=>y.id===r);if(!f){let y=this.settingListComponentData?.settingDataList.find(D=>D.settingId===r);if(y)f={id:r,computedIdentifier:y.computedIdentifier,class:{id:y.classId,namespace:y.classNamespace,name:y.className,fullName:y.classFullName,rowVersion:""},dataValidationDisabled:!y.dataValidationEnabled,dataRestored:y.dataRestored,version:y.version,rowVersion:"",storeInSeparateFile:y.storeInSeparateFile,ignoreOnFileChange:y.ignoreOnFileChange,registrationMode:y.registrationMode},g.push(f);else{this.loadDefaultBehavior();return}}this.appViewService.emitSettingView({settingViewType:"viewCopySettingTo",selectedSettingId:f.id}),this.changeIdentifier(n)}));this.subscriptions.add(d.subscribe())});this.subscriptions.add(t)}viewSettingHistories(e){this.tabIndex=X.Settings;let t=e.activatedRoute.paramMap.subscribe(i=>{let n=i.get("identifierId");if(!n){this.loadDefaultBehavior(),this.router.navigate(["./apps",this.data.appSlug],{relativeTo:this.route,queryParamsHandling:"merge"});return}let r=i.get("settingId");if(!r){this.router.navigate(["./apps",this.data.appSlug,n,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"});return}let d=this.loadData$().pipe(Pe(()=>{let g=this.appData.identifierIdToSettings[n];if(!g){this.loadDefaultBehavior();return}let f=g.find(y=>y.id===r);if(!f){this.loadDefaultBehavior();return}this.appViewService.emitSettingView({settingViewType:"viewSettingHistories",selectedSettingId:f.id}),this.changeIdentifier(n)}));this.subscriptions.add(d.subscribe())});this.subscriptions.add(t)}viewSettingHistory(e){this.tabIndex=X.Settings;let t=e.activatedRoute.paramMap.subscribe(i=>{let n=i.get("identifierId");if(!n){this.loadDefaultBehavior(),this.router.navigate(["./apps",this.data.appSlug],{relativeTo:this.route,queryParamsHandling:"merge"});return}let r=i.get("settingId");if(!r){this.router.navigate(["./apps",this.data.appSlug,n,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"});return}var d=i.get("historyId");if(!d){this.router.navigate(["./apps",this.data.appSlug,n,"settings",r,"histories"],{relativeTo:this.route,queryParamsHandling:"merge"});return}let g=this.loadData$().pipe(Pe(()=>{let f=this.appData.identifierIdToSettings[n];if(!f){this.loadDefaultBehavior();return}let y=f.find(D=>D.id===r);if(!y){this.loadDefaultBehavior();return}this.appViewService.emitSettingView({settingViewType:"viewSettingHistory",selectedSettingId:y.id,selectedHistoryId:d}),this.changeIdentifier(n)}));this.subscriptions.add(g.subscribe())});this.subscriptions.add(t)}viewInstance(e){this.tabIndex=X.Instances;let t=e.activatedRoute.paramMap.subscribe(i=>{let n=i.get("identifierId");if(!n){this.loadDefaultBehavior();return}let r=i.get("instanceId");if(!r){this.loadDefaultBehavior();return}let d=this.loadData$().pipe(Pe(()=>{if(!this.appData.identifierIdToSettings[n]){this.loadDefaultBehavior();return}this.selectedInstanceId=r,this.tabIndex=X.Instances,this.changeIdentifier(n)}));this.subscriptions.add(d.subscribe())});this.subscriptions.add(t)}viewTabs(e,t){let i=e.activatedRoute.paramMap.subscribe(n=>{this.tabIndex=t;let r=n.get("identifierId");if(!r){this.loadDefaultSubscription();return}let d=this.loadData$().pipe(Pe(()=>{if(!this.appData.identifierIdToSettings[r]){this.loadDefaultBehavior(),this.router.navigate(["./apps",this.data.appSlug],{relativeTo:this.route,queryParamsHandling:"merge"});return}this.tabIndex=t,this.changeIdentifier(r)}));this.subscriptions.add(d.subscribe())});this.subscriptions.add(i)}loadDefaultSubscription(){let e=this.loadData$().pipe(Pe(()=>{this.loadDefaultBehavior()})).subscribe();this.subscriptions.add(e)}handleRouting(e){let t=this.dummyComponentService.event$.subscribe(i=>{setTimeout(()=>{if(i===void 0){this.isLoaded||this.loadDefaultSubscription();return}switch(i.path){case P.viewNewIdentifierMapping:this.viewNewIdentifierMapping();break;case P.viewSettings:case P.viewSettings2:this.viewTabs(i,X.Settings);break;case P.viewSetting:this.viewSetting(i);break;case P.viewCreateSetting:this.viewCreateSetting(i);break;case P.viewUpdateSetting:this.viewUpdateSetting(i);break;case P.viewCopySettingTo:this.viewCopySettingTo(i);break;case P.viewSettingHistories:this.viewSettingHistories(i);break;case P.viewSettingHistory:this.viewSettingHistory(i);break;case P.viewInstances:case P.viewInstances2:this.viewTabs(i,X.Instances);break;case P.viewInstance:this.viewInstance(i);break;case P.viewConfiguration:this.viewTabs(i,X.Configuration);break;default:this.loadDefaultSubscription();break}},0)});this.subscriptions.add(t)}onIdentifierChanged(e){if(this.previousSelectedIdentifierId=this.selectedIdentifierId,!e.source.value){e.preventDefault();return}if(e.isUserInput&&this.selectedIdentifierId!==e.source.value){if(this.appViewService.emitSettingView(void 0),!(e.source.value in this.appData.identifierIdToSettings))return;this.changeIdentifier(e.source.value);let t=this.appViewService.settingView;if(t){switch(t.settingViewType){case"viewCreateSetting":this.router.navigate(["./apps",this.data.appSlug,e.source.value,"settings","new"],{relativeTo:this.route,queryParamsHandling:"merge"});return}let i=t.selectedSettingId;if(i)switch(this.appViewService.settingView.settingViewType){case"viewUpdateSetting":this.router.navigate(["./apps",this.data.appSlug,e.source.value,"settings",i,"update"],{relativeTo:this.route,queryParamsHandling:"merge"});return;case"viewCopySettingTo":this.router.navigate(["./apps",this.data.appSlug,e.source.value,"settings",i,"copyTo"],{relativeTo:this.route,queryParamsHandling:"merge"});return;case"viewSettingHistories":this.router.navigate(["./apps",this.data.appSlug,e.source.value,"settings",i,"histories"],{relativeTo:this.route,queryParamsHandling:"merge"});return;case"viewSettingHistory":let n=t.selectedHistoryId;this.router.navigate(["./apps",this.data.appSlug,e.source.value,"settings",i,"histories",n],{relativeTo:this.route,queryParamsHandling:"merge"});return;default:this.router.navigate(["./apps",this.data.appSlug,e.source.value,"settings",i],{relativeTo:this.route,queryParamsHandling:"merge"});return}}else switch(this.tabIndex){case X.Configuration:setTimeout(()=>{this.router.navigate(["./apps",this.data.appSlug,e.source.value,"configuration"],{relativeTo:this.route,queryParamsHandling:"merge"})},0);break;case X.Instances:setTimeout(()=>{this.router.navigate(["./apps",this.data.appSlug,e.source.value,"instances"],{relativeTo:this.route,queryParamsHandling:"merge"})},0);break;case X.Settings:setTimeout(()=>{this.router.navigate(["./apps",this.data.appSlug,e.source.value,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"})},0);break}}}changeIdentifier(e){this.selectedIdentifierId=e;let t=this.appData.identifierIdToSettings[e],i=this.appData.identifierIdToInstances[e],n=this.appData.identifierIdToConfiguration[e];this.updateSettingData(e,t),this.updateInstances(e,i),this.updateConfiguration(e,n)}updateSettingData(e,t){let i=this.appData.identifierIdToIdentifier[e],n=this.identifierIdToSettingsDataMap[e];n===void 0&&(n=this.identifierIdToSettingsDataMap[e]=[],t?.forEach(r=>{n.push({slug:this.data.appSlug,clientId:this.data.clientId,settingId:r.id,className:r.class.name,classNamespace:r.class.namespace,classFullName:r.class.fullName,classId:r.class.id,computedIdentifier:r.computedIdentifier,version:r.version,isDataFetched:!1,dataRestored:r.dataRestored,dataValidationEnabled:!r.dataValidationDisabled,rawData:"",parsedData:{},tempData:{},settingRowVersion:r.rowVersion,classRowVersion:r.class.rowVersion,storeInSeparateFile:r.storeInSeparateFile,ignoreOnFileChange:r.ignoreOnFileChange,registrationMode:r.registrationMode})})),this.settingListComponentData={slug:this.data.appSlug,clientId:this.data.clientId,clientName:this.data.clientName,appId:this.data.appId,selectedAppIdentifierId:this.selectedIdentifierId,selectedAppIdentifierName:i.name,settingDataList:this.identifierIdToSettingsDataMap[this.selectedIdentifierId]}}updateInstances(e,t){let i=this.identifierIdToInstancesDataMap[e];i===void 0&&(i=this.identifierIdToInstancesDataMap[e]=[],t?.forEach(n=>{i.push({id:n.id,dynamicId:n.dynamicId,name:n.name,urls:n.urls,isActive:n.isActive,ipAddress:n.ipAddress,machineName:n.machineName,environment:n.environment,reloadStrategies:n.reloadStrategies,serviceType:n.serviceType,version:n.version,createdOn:n.createdOn,updatedOn:n.updatedOn})})),this.appInstanceListComponentData={clientId:this.data.clientId,identifierId:e,instances:i}}updateConfiguration(e,t){t&&(this.configurationUpdateComponentData={configurationId:t.id,appId:this.data.appId,selectedIdentifierId:e,storeInSeparateFile:t.storeInSeparateFile,ignoreOnFileChange:t.ignoreOnFileChange,registrationMode:t.registrationMode,consumer:t.consumer,provider:t.provider,rowVersion:t.rowVersion})}onTabChange(e){if(this.selectedIdentifierId!==void 0)switch(this.tabIndex=e,e){case X.Settings:let t=this.appData.identifierIdToSettings[this.selectedIdentifierId];t&&(this.updateSettingData(this.selectedIdentifierId,t),setTimeout(()=>{this.router.navigate(["./apps",this.data.appSlug,this.selectedIdentifierId,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"})},55));break;case X.Instances:let i=this.appData.identifierIdToInstances[this.selectedIdentifierId];this.updateInstances(this.selectedIdentifierId,i),setTimeout(()=>{this.selectedInstanceId?this.router.navigate(["./apps",this.data.appSlug,this.selectedIdentifierId,"instances",this.selectedInstanceId],{relativeTo:this.route,queryParamsHandling:"merge"}):this.router.navigate(["./apps",this.data.appSlug,this.selectedIdentifierId,"instances"],{relativeTo:this.route,queryParamsHandling:"merge"})},55);break;case X.Configuration:let n=this.appData.identifierIdToConfiguration[this.selectedIdentifierId];this.updateConfiguration(this.selectedIdentifierId,n),setTimeout(()=>{this.router.navigate(["./apps",this.data.appSlug,this.selectedIdentifierId,"configuration"],{relativeTo:this.route,queryParamsHandling:"merge"})},55);break}}toggleFullScreen(){this.isFullScreen=!this.isFullScreen;let e=document.querySelector(".mat-mdc-dialog-surface");this.isFullScreen?(e?.setAttribute("style",`
                  border-radius: 0 !important;
                `),this.dialogRef.updateSize("100%","100%")):(this.dialogRef.updateSize("1350px","680px"),e?.removeAttribute("style"))}createIdentifier(e){let t=this.identifiers.map(d=>({id:d.id,name:d.name})),i={clientName:this.data.clientName,appSlug:this.data.appSlug,appId:this.data.appId,identifiers:t,title:e},n=d=>this.appsService.getGroupedAppDataByAppIdAndIdentifierId({appIdOrSlug:i.appId,identifierIdOrSlug:d}).pipe(U(g=>{let f=g.data;return f?(this.appData.identifierIdToIdentifier[d]=f.identifier,this.appData.identifierIdToConfiguration[d]=f.configuration,this.appData.identifierIdToSettings[d]=f.settings,this.appData.identifierIdToInstances[d]=f.instances,this.appData.identifierInfo?(this.appData.identifierInfo.minSortOrder=Math.min(this.appData.identifierInfo.minSortOrder,f.identifier.sortOrder),this.appData.identifierInfo.maxSortOrder=Math.max(this.appData.identifierInfo.maxSortOrder,f.identifier.sortOrder),this.appData.identifierInfo.mappingMinSortOrder=Math.min(this.appData.identifierInfo.mappingMinSortOrder,f.identifier.mappingSortOrder),this.appData.identifierInfo.mappingMaxSortOrder=Math.max(this.appData.identifierInfo.mappingMaxSortOrder,f.identifier.mappingSortOrder)):this.appData.identifierInfo={minSortOrder:f.identifier.sortOrder,maxSortOrder:f.identifier.sortOrder,mappingMinSortOrder:f.identifier.mappingSortOrder,mappingMaxSortOrder:f.identifier.mappingSortOrder},this.changeIdentifier(d),G(null)):G(null)})),r=this.dialog.open(Oo,{data:i,width:"500px",height:"170",minWidth:"inherit",maxWidth:"inherit",autoFocus:!1}).afterClosed().subscribe(d=>{if(d&&!this.appData.identifierIdToSettings[d.identifierId]){let g=n(d.identifierId).subscribe(()=>{let f;switch(this.tabIndex){case X.Configuration:f="configuration";break;case X.Instances:f="instances";break;case X.Settings:f="settings";break}this.router.navigate(["./apps",this.data.appSlug,d.identifierId,f],{relativeTo:this.route,queryParamsHandling:"merge"})});this.subscriptions.add(g)}else if(e)this.router.navigate(["apps"]),this.dialogRef.close();else if(this.previousSelectedIdentifierId in this.identifiers){if(this.tabIndex===X.Settings){let g=this.appViewService.settingView?.selectedSettingId;g?this.router.navigate(["./apps",this.data.appSlug,this.previousSelectedIdentifierId,"settings",g],{relativeTo:this.route,queryParamsHandling:"merge"}):this.router.navigate(["./apps",this.data.appSlug,this.previousSelectedIdentifierId,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"})}else this.tabIndex===X.Instances?this.router.navigate(["./apps",this.data.appSlug,this.previousSelectedIdentifierId,"instances"],{relativeTo:this.route,queryParamsHandling:"merge"}):this.router.navigate(["./apps",this.data.appSlug,this.previousSelectedIdentifierId,"configuration"],{relativeTo:this.route,queryParamsHandling:"merge"});this.changeIdentifier(this.previousSelectedIdentifierId)}else this.router.navigate(["./apps",this.data.appSlug,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"})});this.subscriptions.add(r)}onSettingDeleteEmitted(e){let t=this.appData.identifierIdToSettings[this.selectedIdentifierId];if(!t)return;let i=t.findIndex(d=>d.id===e);if(i===-1)return;t.splice(i,1);let n=this.identifierIdToSettingsDataMap[this.selectedIdentifierId];if(!n)return;let r=n.findIndex(d=>d.settingId===e);r!==-1&&n.splice(r,1)}onConfigUpdateEmitted(e){if(!this.configurationUpdateComponentData)return;let t=this.appData.identifierIdToConfiguration[this.selectedIdentifierId];if(t.rowVersion=this.configurationUpdateComponentData.rowVersion=e.rowVersion,e.formControlName)switch(e.formControlName){case"storeInSeparateFile":t.storeInSeparateFile=this.configurationUpdateComponentData.storeInSeparateFile=e.storeInSeparateFile;break;case"ignoreOnFileChange":t.ignoreOnFileChange=this.configurationUpdateComponentData.ignoreOnFileChange=e.ignoreOnFileChange;break;case"registrationMode":t.registrationMode=this.configurationUpdateComponentData.registrationMode=e.registrationMode;break;case"consumer":t.consumer=this.configurationUpdateComponentData.consumer=e.consumer;break;case"provider":t.provider=this.configurationUpdateComponentData.provider=e.provider;break}else t.storeInSeparateFile=this.configurationUpdateComponentData.storeInSeparateFile=e.storeInSeparateFile,t.ignoreOnFileChange=this.configurationUpdateComponentData.ignoreOnFileChange=e.ignoreOnFileChange,t.registrationMode=this.configurationUpdateComponentData.registrationMode=e.registrationMode,t.consumer=this.configurationUpdateComponentData.consumer=e.consumer,t.provider=this.configurationUpdateComponentData.provider=e.provider}fetchLatestEmitted(e){let t=this.updateSetting(e)?.subscribe(i=>{i&&this.snackBar.open("Latest data fetched successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3})});t&&this.subscriptions.add(t)}updateSetting(e){let t=this.appData.identifierIdToSettings[this.selectedIdentifierId];if(!t)return;let i=t.find(n=>n.id===e);return this.settingsService.getSettingById({settingId:e}).pipe(U(n=>{if(!n.data||n.data.identifierId!==this.selectedIdentifierId)return G(null);i?(i.computedIdentifier=n.data.computedIdentifier,i.dataRestored=n.data.dataRestored,i.registrationMode=n.data.registrationMode,i.dataValidationDisabled=n.data.dataValidationDisabled,i.storeInSeparateFile=n.data.storeInSeparateFile,i.ignoreOnFileChange=n.data.ignoreOnFileChange,i.version=n.data.version,i.rowVersion=n.data.rowVersion,i.class.id=n.data.class.id,i.class.namespace=n.data.class.namespace,i.class.name=n.data.class.name,i.class.fullName=n.data.class.fullName,i.class.rowVersion=n.data.class.rowVersion):(i={id:e,computedIdentifier:n.data.computedIdentifier,dataRestored:n.data.dataRestored,registrationMode:n.data.registrationMode,dataValidationDisabled:n.data.dataValidationDisabled,storeInSeparateFile:n.data.storeInSeparateFile,ignoreOnFileChange:n.data.ignoreOnFileChange,version:n.data.version,rowVersion:n.data.rowVersion,class:{id:n.data.class.id,namespace:n.data.class.namespace,name:n.data.class.name,fullName:n.data.class.fullName,rowVersion:n.data.class.rowVersion}},t.push(i));let r=this.identifierIdToSettingsDataMap[this.selectedIdentifierId],d=r.find(y=>y.settingId===e),g,f;try{g=JSON.parse(n.data.data)}catch{g={}}return f=Ve({},g),d?(d.computedIdentifier=i.computedIdentifier,d.dataRestored=i.dataRestored,d.registrationMode=i.registrationMode,d.dataValidationEnabled=!i.dataValidationDisabled,d.storeInSeparateFile=i.storeInSeparateFile,d.ignoreOnFileChange=i.ignoreOnFileChange,d.version=i.version,d.settingRowVersion=i.rowVersion,d.classNamespace=i.class.namespace,d.className=i.class.name,d.classFullName=i.class.fullName,d.classRowVersion=i.class.rowVersion,d.isDataFetched=!0,d.rawData=n.data.data,d.parsedData=g,d.tempData=f):(d={slug:this.data.appSlug,clientId:this.data.clientId,settingId:e,computedIdentifier:n.data.computedIdentifier,dataRestored:n.data.dataRestored,registrationMode:n.data.registrationMode,dataValidationEnabled:!n.data.dataValidationDisabled,storeInSeparateFile:n.data.storeInSeparateFile,ignoreOnFileChange:n.data.ignoreOnFileChange,version:n.data.version,settingRowVersion:n.data.rowVersion,classId:n.data.class.id,classNamespace:n.data.class.namespace,className:n.data.class.name,classFullName:n.data.class.fullName,classRowVersion:n.data.class.rowVersion,isDataFetched:!0,rawData:n.data.data,parsedData:g,tempData:f},r.push(d)),G(!0)}))}onInstanceDeleted(e){let t=this.appData.identifierIdToInstances[this.selectedIdentifierId];if(!t)return;let i=t.findIndex(n=>n.id===e);i!==-1&&t.splice(i,1)}copySettingToIdentifierEmitted(e){let t=Object.entries(this.appData.identifierIdToSettings).filter(r=>r[1].some(d=>d.computedIdentifier==e.computedIdentifier)).map(r=>{let d=this.appData.identifierIdToIdentifier[r[0]];return{id:d.id,name:d.name}}),i={clientId:this.data.clientId,clientName:this.data.clientName,computedIdentifier:e.computedIdentifier,className:e.className,appId:this.data.appId,currentSettingId:e.currentSettingId,currentAppIdentifierName:e.currentAppIdentifierName,currentAppIdentifierId:e.currentAppIdentifierId,notAvailableAppIdentifiers:t},n=this.dialog.open(Bo,{data:i,width:"500px",height:"240px",minWidth:"inherit",maxWidth:"inherit",autoFocus:!1}).afterClosed().subscribe(r=>{let d=r?.settingId??(e.isExpanded?this.appViewService.settingView?.selectedSettingId:void 0);if(r===void 0){d?this.router.navigate(["./apps",this.data.appSlug,this.selectedIdentifierId,"settings",d],{relativeTo:this.route,queryParamsHandling:"merge"}):this.router.navigate(["./apps",this.data.appSlug,this.selectedIdentifierId,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"});return}if(i.clientId!==r.clientId){this.dialogRef.close(),setTimeout(()=>{d?this.router.navigate(["./apps",r.appSlug,r?.identifierId??this.selectedIdentifierId,"settings",d],{relativeTo:this.route,queryParamsHandling:"merge"}):this.router.navigate(["./apps",r.appSlug,r?.identifierId??this.selectedIdentifierId,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"})},500);return}else{let y=this.configurationsService.getConfigurationByAppAndIdentifier({appId:this.data.appId,identifierId:r.identifierId}).subscribe({next:D=>{let V=D.data;V&&(this.appData.identifierIdToConfiguration[r.identifierId]={id:V.id,storeInSeparateFile:V.storeInSeparateFile,ignoreOnFileChange:V.ignoreOnFileChange,registrationMode:V.registrationMode,consumer:V.consumer,provider:V.provider,rowVersion:V.rowVersion})}});this.subscriptions.add(y)}let g=this.appData.identifierIdToSettings[r.identifierId];if(!g){let y={id:r.identifierId,name:r.identifierName,sortOrder:r.identifierSortOrder,mappingSortOrder:r.identifierMappingSortOrder,mappingRowVersion:""};this.appData.identifierIdToSettings[r.identifierId]=[],this.appData.identifierIdToIdentifier[r.identifierId]=y,g=this.appData.identifierIdToSettings[r.identifierId],this.sortIdentifiers(Object.values(this.appData.identifierIdToIdentifier))}g.push({id:r.settingId,version:"0",dataValidationDisabled:!e.isDataValidationEnabled,dataRestored:!1,computedIdentifier:e.computedIdentifier,rowVersion:"",class:{name:e.className,namespace:e.classNamespace,fullName:e.classFullName,id:r.classId,rowVersion:""},storeInSeparateFile:e.storeInSeparateFile,ignoreOnFileChange:e.ignoreOnFileChange,registrationMode:e.registrationMode});let f=this.identifierIdToSettingsDataMap[r.identifierId];f===void 0?(this.updateSettingData(r.identifierId,g),f=this.identifierIdToSettingsDataMap[r.identifierId]):f.push({slug:this.data.appSlug,clientId:this.data.clientId,settingId:r.settingId,className:e.className,classNamespace:e.classNamespace,classFullName:e.classFullName,classId:r.classId,computedIdentifier:e.computedIdentifier,version:"0",isDataFetched:!0,dataRestored:!1,dataValidationEnabled:e.isDataValidationEnabled,rawData:e.rawData,parsedData:e.parsedData,tempData:Ve({},e.parsedData),settingRowVersion:"",classRowVersion:"",storeInSeparateFile:e.storeInSeparateFile,ignoreOnFileChange:e.ignoreOnFileChange,registrationMode:e.registrationMode}),this.changeIdentifier(r.identifierId),this.appViewService.emitSettingView({selectedSettingId:r.settingId,settingViewType:"viewSetting"}),d?this.router.navigate(["./apps",this.data.appSlug,r.identifierId,"settings",r.settingId],{relativeTo:this.route,queryParamsHandling:"merge"}):this.router.navigate(["./apps",this.data.appSlug,r.identifierId,"settings"],{relativeTo:this.route,queryParamsHandling:"merge"})});this.subscriptions.add(n)}deleteIdentifier(e,t){t.stopPropagation();let i="Confirm delete",n=`Are you sure you want to delete the "${e}" identifier? This action will remove the mapping, but existing settings will remain.`,r=this.dialog.open($e,{width:"500px",data:{title:i,message:n}}).afterClosed().subscribe(d=>{if(d){let g=this.appData.identifierIdToIdentifier[e];if(g){let f=this.appIdentifierMappingsService.deleteAppIdentifierMapping({appId:this.data.appId,identifierId:e,mappingRowVersion:g.mappingRowVersion}).subscribe(()=>{this.snackBar.open("Deleted successfully!","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5e3}),e in this.appData.identifierIdToIdentifier&&delete this.appData.identifierIdToIdentifier[e],e in this.appData.identifierIdToSettings&&delete this.appData.identifierIdToSettings[e],e in this.identifierIdToSettingsDataMap&&delete this.identifierIdToSettingsDataMap[e],e in this.appData.identifierIdToInstances&&delete this.appData.identifierIdToInstances[e],e in this.identifierIdToInstancesDataMap&&delete this.identifierIdToInstancesDataMap[e],this.calculateIdentifierInfo();let y=Object.keys(this.appData.identifierIdToSettings);if(y.length===0){this.selectedIdentifierId="",this.settingListComponentData=void 0;return}if(this.selectedIdentifierId===e){let D=y[0];this.changeIdentifier(D)}});this.subscriptions.add(f)}}});this.subscriptions.add(r)}calculateIdentifierInfo(){let e=Object.values(this.appData.identifierIdToIdentifier);if(e.length===0){this.appData.identifierInfo={minSortOrder:0,maxSortOrder:0,mappingMinSortOrder:0,mappingMaxSortOrder:0};return}var t=e[0];let i=t.sortOrder,n=t.sortOrder,r=t.mappingSortOrder,d=t.mappingSortOrder;e.forEach(g=>{i=Math.min(i,g.sortOrder),n=Math.max(n,g.sortOrder),r=Math.min(r,g.mappingSortOrder),d=Math.max(d,g.mappingSortOrder)}),this.appData.identifierInfo={minSortOrder:i,maxSortOrder:n,mappingMinSortOrder:r,mappingMaxSortOrder:d}}moveSortOrder(e,t,i){t.stopPropagation();let n=this.appData.identifierIdToIdentifier[e],r=()=>this.appIdentifierMappingsService.getAppIdentifierMappingsByAppId({appIdOrSlug:this.data.appId}).pipe(U(g=>{let f=g.data;return f?(this.appData.identifierInfo={minSortOrder:f.minSortOrder,maxSortOrder:f.maxSortOrder,mappingMinSortOrder:f.mappingMinSortOrder,mappingMaxSortOrder:f.mappingMaxSortOrder},f.identifiers.forEach(y=>{let D=this.appData.identifierIdToIdentifier[y.id];D&&(D.mappingSortOrder=y.mappingSortOrder,D.mappingRowVersion=y.mappingRowVersion,D.sortOrder=y.sortOrder)}),G(null)):G(null)})),d=this.appIdentifierMappingsService.updateAppIdentifierMappingSortOrder({appId:this.data.appId,identifierId:e,body:{ascent:i,rowVersion:n.mappingRowVersion}}).subscribe({next:g=>{g.status===409&&g.errors&&this.utilityService.error(g.errors,3500),this.subscriptions.add(r().subscribe())},error:g=>{let f=g.error;if(f&&f.errors?.find(y=>y.traces==="MappingNotFound")){if(delete this.appData.identifierIdToInstances[e],delete this.appData.identifierIdToConfiguration[e],delete this.appData.identifierIdToIdentifier[e],delete this.appData.identifierIdToSettings[e],this.selectedIdentifierId===e){let y=this.identifiers;if(y.length==0){this.createIdentifier("Add an identifier to start");return}let D=y[0].id;this.changeIdentifier(D)}this.subscriptions.add(r().subscribe())}}});this.subscriptions.add(d)}sortIdentifiers(e){return e.sort((t,i)=>t.mappingSortOrder!==i.mappingSortOrder?t.mappingSortOrder-i.mappingSortOrder:t.sortOrder!==i.sortOrder?t.sortOrder-i.sortOrder:t.id.localeCompare(i.id))}loadData$(){return G(null).pipe(U(()=>this.isLoaded?G(null):this.appsService.getGroupedAppDataByAppSlug({appIdOrSlug:this.data.appSlug})),Pe(e=>{this.isLoaded=!0;let t=e?.data;t&&(this.appData=t)}))}};a.\u0275fac=function(t){return new(t||a)(h(Ee),h(qe),h(At),h(Nn),h(Nt),h(On),h(Fe),h(ce),h(Ni),h(Hi),h(ke),h(Zt),h(Ti))},a.\u0275cmp=F({type:a,selectors:[["ng-component"]],decls:31,vars:15,consts:[[1,"d-flex","border-bottom"],[1,"dialog-title"],[1,"spacer"],["mat-icon-button","","matTooltipPosition","above",3,"click","matTooltip"],["mat-icon-button","","mat-dialog-close","","matTooltip","Close","matTooltipPosition","above"],[1,"custom-form-field"],["matIconPosition","right","fontIcon","info","matTooltip","The identifier can be used to distinguish between different environments, such as Production, Development, etc.",1,"icon-mini"],[3,"valueChange","value"],["class","custom-option",3,"value","onSelectionChange",4,"ngFor","ngForOf"],["queryParamsHandling","merge",3,"routerLink"],["animationDuration","0ms",3,"selectedIndexChange","selectedTabChange","selectedIndex"],["label","Settings",3,"disabled"],[1,"p-0"],[3,"data","copySettingToIdentifierEmitter","settingDeleteEmitter","fetchLatestEmitter",4,"ngIf"],["label","Instances",3,"disabled"],[3,"data","instanceDeleteEmitter",4,"ngIf"],["label","Configuration",3,"disabled"],[3,"data","configUpdateEmitter",4,"ngIf"],[1,"custom-option",3,"onSelectionChange","value"],["mat-icon-button","","matTooltip","Up","matTooltipPosition","left",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Down","matTooltipPosition","left",3,"click",4,"ngIf"],["color","warn","mat-icon-button","","matTooltip","Delete","matTooltipPosition","right",3,"click"],["fontIcon","delete"],["mat-icon-button","","matTooltip","Up","matTooltipPosition","left",3,"click"],["fontIcon","arrow_upward"],["mat-icon-button","","matTooltip","Down","matTooltipPosition","left",3,"click"],["fontIcon","arrow_downward"],[3,"copySettingToIdentifierEmitter","settingDeleteEmitter","fetchLatestEmitter","data"],[3,"instanceDeleteEmitter","data"],[3,"configUpdateEmitter","data"]],template:function(t,i){if(t&1&&(s(0,"div",0)(1,"div",1),p(2),c(),b(3,"span")(4,"span",2),s(5,"button",3),I("click",function(){return i.toggleFullScreen()}),s(6,"mat-icon"),p(7),c()(),s(8,"button",4)(9,"mat-icon"),p(10,"close"),c()()(),s(11,"mat-form-field",5)(12,"mat-label"),p(13,"Select the identifier "),b(14,"mat-icon",6),c(),s(15,"mat-select",7),ot("valueChange",function(r){return at(i.selectedIdentifierId,r)||(i.selectedIdentifierId=r),r}),k(16,hd,9,4,"mat-option",8),s(17,"mat-option",9),p(18,"New identifier mapping "),s(19,"mat-icon"),p(20,"add_circle"),c()()()(),s(21,"mat-tab-group",10),ot("selectedIndexChange",function(r){return at(i.tabIndex,r)||(i.tabIndex=r),r}),I("selectedTabChange",function(r){return i.onTabChange(r.index)}),s(22,"mat-tab",11)(23,"mat-dialog-content",12),k(24,ud,1,1,"setting-list",13),c()(),s(25,"mat-tab",14)(26,"mat-dialog-content",12),k(27,gd,1,1,"instance-list",15),c()(),s(28,"mat-tab",16)(29,"mat-dialog-content",12),k(30,fd,1,1,"configuration-update",17),c()()()),t&2){let n;m(2),O(i.data.clientName),m(3),u("matTooltip",i.isFullScreen?"Exit full screen":"Enter full screen"),m(2),O(i.isFullScreen?"fullscreen_exit":"fullscreen"),m(8),nt("value",i.selectedIdentifierId),m(),u("ngForOf",i.identifiers),m(),u("routerLink",vi(13,ld,i.data.appSlug)),m(4),nt("selectedIndex",i.tabIndex),m(),u("disabled",!i.settingListComponentData||!i.isLoaded),m(2),u("ngIf",i.settingListComponentData),m(),u("disabled",!((n=i.appInstanceListComponentData==null||i.appInstanceListComponentData.instances==null?null:i.appInstanceListComponentData.instances.length)!==null&&n!==void 0&&n)||!i.isLoaded),m(2),u("ngIf",i.appInstanceListComponentData),m(),u("disabled",!i.isLoaded),m(2),u("ngIf",i.configurationUpdateComponentData)}},dependencies:[Ie,te,Di,Ko,Jo,be,fe,ae,ge,ne,Qe,Mt,fa,ar,Je,de,rr],styles:[".mat-mdc-tab-header{box-shadow:0 1px #0000001a}  .mat-mdc-card-title{padding:8px 8px 0}"]});let o=a;return o})(),X=function(o){return o[o.Settings=0]="Settings",o[o.Instances=1]="Instances",o[o.Configuration=2]="Configuration",o}(X||{});var bd=["groupSelect"],_d=["searchTermInput"],vd=o=>[o,"update"],yd=o=>[o],Id=()=>["./create"];function wd(o,a){if(o&1&&(s(0,"mat-option",23),p(1),c()),o&2){let l=a.$implicit;u("value",l.id),m(),O(l.name)}}function kd(o,a){if(o&1&&(s(0,"mat-hint"),p(1),c()),o&2){let l=w(2);m(),_i("",l.groupsCount," groups, ",l.appsCount," apps match")}}function Cd(o,a){if(o&1){let l=T();s(0,"button",24),I("click",function(){_(l);let t=w(2);return v(t.clearSelection())}),s(1,"mat-icon"),p(2,"clear"),c(),p(3," Clear selection "),c()}}function Sd(o,a){if(o&1){let l=T();s(0,"div",10)(1,"div",11)(2,"mat-form-field",12),I("click",function(){_(l);let t=w();return v(t.getGroups())}),s(3,"mat-label"),p(4,"Group"),c(),s(5,"mat-select",13,0),I("selectionChange",function(t){_(l);let i=w();return v(i.onGroupChange(t))}),k(7,wd,2,2,"mat-option",14),c()(),s(8,"mat-form-field",15)(9,"mat-label"),p(10,"Search"),c(),s(11,"input",16,1),I("keyup",function(t){_(l);let i=w();return v(i.applyFilter(t))}),c(),s(13,"mat-icon",17),p(14,"search"),c(),k(15,kd,2,2,"mat-hint",18),c(),k(16,Cd,4,0,"button",19),b(17,"span",20),s(18,"button",21),I("click",function(){_(l);let t=w();return v(t.expandAll())}),s(19,"mat-icon"),p(20,"expand_more"),c()(),s(21,"button",22),I("click",function(){_(l);let t=w();return v(t.collapseAll())}),s(22,"mat-icon"),p(23,"expand_less"),c()()()()}if(o&2){let l=w();m(7),u("ngForOf",l.groups),m(8),u("ngIf",l.appsFetched),m(),u("ngIf",l.queryParams.searchTerm||l.queryParams.groupId),m(2),u("disabled",!l.groupedApps.length),m(3),u("disabled",!l.groupedApps.length)}}function xd(o,a){if(o&1){let l=T();s(0,"button",42),I("click",function(){_(l);let t=w().$implicit,i=w(2);return v(i.copyToClipboard(t.client.id))}),s(1,"mat-icon"),p(2,"content_copy"),c()()}}function Td(o,a){if(o&1&&(s(0,"a",43)(1,"mat-icon"),p(2,"open_in_new"),c(),s(3,"span"),p(4,"Wiki"),c()()),o&2){let l=w().$implicit;Ta("href",l.wikiUrl,en)}}function Dd(o,a){if(o&1&&(s(0,"mat-chip",44),p(1),c()),o&2){let l=a.$implicit;m(),O(l.name)}}function Md(o,a){if(o&1){let l=T();s(0,"mat-card",28)(1,"mat-card-header")(2,"div",29),b(3,"img",30),c(),s(4,"mat-card-title"),p(5),c(),s(6,"mat-card-subtitle",11)(7,"span",31),p(8,"ClientId: "),s(9,"span"),p(10),c()(),s(11,"span",32),k(12,xd,3,0,"button",33),c()(),b(13,"span",20),s(14,"button",34)(15,"mat-icon"),p(16,"more_vert"),c()(),s(17,"mat-menu",null,2)(19,"button",35)(20,"mat-icon"),p(21,"edit"),c(),s(22,"span"),p(23,"Update"),c()(),s(24,"button",36),I("click",function(){let t=_(l).$implicit,i=w(2);return v(i.delete(t))}),s(25,"mat-icon"),p(26,"delete"),c(),s(27,"span"),p(28,"Delete"),c()(),k(29,Td,5,1,"a",37),c()(),s(30,"mat-card-content",38)(31,"p"),p(32),lt(33,"truncate"),c(),s(34,"mat-chip-set"),k(35,Dd,2,1,"mat-chip",39),c()(),s(36,"mat-card-actions",40)(37,"button",41),p(38,"View"),c()()()}if(o&2){let l=a.$implicit,e=z(18),t=w(2);u("ngClass",t.menuOpened?"card-item-two":"card-item-three"),m(5),O(l.displayName),m(5),O(l.client.id),m(2),u("ngIf",t.isConnectionSecure),m(2),u("matMenuTriggerFor",e),m(5),u("routerLink",vi(13,vd,l.slug)),m(10),u("ngIf",l.wikiUrl),m(3),O(Ma(33,10,l.description,250)),m(3),u("ngForOf",l.tags),m(2),u("routerLink",vi(15,yd,l.slug))}}function Ed(o,a){if(o&1&&(s(0,"mat-expansion-panel",25)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),p(3),c()(),s(4,"div",26),k(5,Md,39,17,"mat-card",27),c()()),o&2){let l=a.$implicit;u("expanded",!0),m(3),q(" ",l.key," "),m(2),u("ngForOf",l.apps)}}function Fd(o,a){o&1&&(s(0,"button",45)(1,"mat-icon"),p(2,"add"),c()()),o&2&&u("routerLink",Da(1,Id))}function Ad(o,a){o&1&&b(0,"mat-progress-bar",46)}var dr=(()=>{let a=class a{constructor(e,t,i,n,r,d,g,f,y,D,V,N){this.cdr=e,this.dialog=t,this.snackBar=i,this.appsService=n,this.groupsService=r,this.authService=d,this.utilityService=g,this.windowService=f,this.defaultLayoutService=y,this.dummyComponentService=D,this.route=V,this.router=N,this.groupedApps=[],this.groups=[],this.isGroupsFetched=!1,this.groupsCount=0,this.appsCount=0,this.appsFetched=!1,this.queryParams={searchTerm:null,groupId:null},this.searchTermSubject=new H,this.isProvider=!1,this.menuOpened=!1,this.subscriptions=new j,this.isLoading=!1}ngOnInit(){this.isProvider=this.windowService.isProvider,this.handleRouting(),this.setupMenusubscription(),this.setupSearchTermSubscription(),this.isConnectionSecure=this.windowService.isConnectionSecure}ngAfterViewInit(){setTimeout(()=>{this.setupQueryParams()})}ngOnDestroy(){this.subscriptions.unsubscribe()}setupMenusubscription(){let e=this.defaultLayoutService.menuOpened$.subscribe(t=>this.menuOpened=t);this.subscriptions.add(e)}setupQueryParams(){this.queryParamSubscription||(this.queryParamSubscription=this.route.queryParams.subscribe(e=>{let t=this.getSearchTermFromRoute(e),i=this.getGroupId(e);this.queryParams.searchTerm===t&&this.queryParams.groupId===i||(this.isProvider&&(this.queryParams.searchTerm=this.searchTermInput.nativeElement.value=t,this.queryParams.groupId=this.groupSelect.value=i),this.loadData())}),this.subscriptions.add(this.queryParamSubscription))}setupSearchTermSubscription(){this.searchTermSubscription||(this.searchTermSubscription=this.searchTermSubject.pipe(st(300)).subscribe(e=>{this.queryParams.searchTerm=e,this.loadData()}),this.subscriptions.add(this.searchTermSubscription))}getSearchTermFromRoute(e){let t=!1,i=Object.keys(e).filter(n=>{let r=n.toLocaleLowerCase()==="searchterm";return t||(t=r&&n!=="searchTerm"),r});return i.length>0?t?this.updateQueryParamsForSearchTerm(i,e):e.searchTerm??"":""}getGroupId(e){let t=e.groupId||"";return t&&this.getGroups(t),t}updateQueryParamsForSearchTerm(e,t){let i="",n={};return e.forEach(r=>{i+=t[r]+",",n[r]=null}),i=i.substring(0,i.length-1),n.searchTerm=i,this.router.navigate([],{queryParams:n,queryParamsHandling:"merge"}),i}loadData(){this.startFetching();let e=this.appsService.getGroupedApps({searchTerm:this.queryParams.searchTerm??void 0,groupId:this.queryParams.groupId}).subscribe({next:t=>{t.data&&(this.groupedApps=this.mapGroupedAppsToArray(t.data.groupNameToApps),this.groupsCount=t.data.groupsCount,this.appsCount=t.data.appsCount,this.appsFetched=!0)},error:()=>{this.stopFetching(!0)},complete:()=>{this.stopFetching(),this.updateUrl()}});this.subscriptions.add(e)}startFetching(){this.isLoading=!0}stopFetching(e){this.isLoading=!1}mapGroupedAppsToArray(e){return Object.entries(e).map(([t,i])=>({key:t,apps:i}))}getGroups(e){if(this.isGroupsFetched||this.authService.isAuthorizationRequired&&!this.authService.isAuthenticated)return;this.isGroupsFetched=!0;let t=this.groupsService.getGroups({hasMappings:!0}).subscribe({next:i=>{this.groups=[{id:"-1",name:"Filter > Ungrouped apps",sortOrder:0,rowVersion:""},{id:"0",name:"Filter > Grouped apps",sortOrder:0,rowVersion:""},...i?.data?.appGroups??[]],this.cdr.detectChanges(),e||this.groupSelect?.open()},error:()=>{this.isGroupsFetched=!1}});this.subscriptions.add(t)}applyFilter(e){let t=e.target.value;t!==this.queryParams.searchTerm&&this.searchTermSubject.next(t)}onGroupChange(e){this.queryParams.groupId=e.value,this.loadData()}clearSelection(){this.queryParams.groupId===""&&this.queryParams.searchTerm===""||(this.isProvider&&(this.queryParams.groupId=this.groupSelect.value="",this.searchTermInput.nativeElement.value=this.queryParams.searchTerm=""),this.loadData())}updateUrl(){this.router.navigate([],{queryParams:{searchTerm:this.queryParams.searchTerm===""?null:this.queryParams.searchTerm,groupId:this.queryParams.groupId===""?null:this.queryParams.groupId},queryParamsHandling:"merge"})}handleRouting(){let e=this.dummyComponentService.event$.subscribe(t=>{setTimeout(()=>{if(t!==void 0)switch(t.path){case Xe.create:this.add();break;case Xe.update:let i=t.activatedRoute.paramMap.subscribe(r=>{let d=r.get("appId");if(!d)return;let g=this.groupedApps.flatMap(y=>y.apps).find(y=>y.slug==d);if(g){this.edit(g);return}let f=this.appsService.getAppBySlug({appIdOrSlug:d}).subscribe(y=>{y.data?this.edit(y.data):(this.snackBar.open(`No data found for the given Id: ${d}`,"Close",{duration:3e3,horizontalPosition:"right",verticalPosition:"top"}),this.router.navigate(["./"],{relativeTo:this.route,queryParamsHandling:"merge"}))});this.subscriptions.add(f)});this.subscriptions.add(i);break;case Xe.view:let n=t.activatedRoute.paramMap.subscribe(r=>{let d=r.get("appId");if(!d)return;let g=this.groupedApps.flatMap(y=>y.apps).find(y=>y.slug==d);if(g){this.view(g.client.id,g.slug,g.client.name,g.id);return}let f=this.appsService.getAppBySlug({appIdOrSlug:d}).subscribe(y=>{let D=y.data;D?this.view(D.client.id,D.slug,D.client.name,D.id):(this.snackBar.open(`No data found for the given Id: ${d}`,"Close",{duration:3e3,horizontalPosition:"right",verticalPosition:"top"}),this.router.navigate(["./"],{relativeTo:this.route,queryParamsHandling:"merge"}))});this.subscriptions.add(f)});this.subscriptions.add(n);break}})});this.subscriptions.add(e)}add(){let e=this.dialog.open(Ao,{width:"1018px",height:"550px",minWidth:"inherit",maxWidth:"inherit",autoFocus:!1}).afterClosed().subscribe(t=>{if(t){this.appsCount++;let i=t.group?.name??"Ungrouped apps",n=this.groupedApps.findIndex(r=>r.key===i);this.isGroupsFetched&&i!=="Ungrouped apps"&&t.group&&!this.groups.some(r=>r.id===t.group.id)&&this.groups.push({id:t.group.id,name:t.group.name,sortOrder:t.group.sortOrder,rowVersion:""}),n>-1?this.groupedApps[n].apps.push(t):(this.groupedApps.push({key:i,apps:[t]}),this.groupsCount++)}this.router.navigate(["./"],{relativeTo:this.route,queryParamsHandling:"merge"})});this.subscriptions.add(e)}edit(e){let t={displayName:e.displayName,clientName:e.client.name,slug:e.slug,appId:e.id,clientId:e.client.id,description:e.description,imageUrl:e.imageUrl,wikiUrl:e.wikiUrl,group:e.group,tags:e.tags,rowVersion:e.rowVersion};e.group?.id==="-1"&&(t.group=null);let i=this.dialog.open(Fo,{data:t,minWidth:500,maxWidth:500}).afterClosed().subscribe(n=>{if(n){let r=t.group?.name||"Ungrouped apps",d=n.group?.name||"Ungrouped apps";r!==d?this.moveAppBetweenGroups(e.client.id,r,d,n):this.updateAppInGroup(e.client.id,n),n.type==="Fetch Latest"&&setTimeout(()=>{this.router.navigate([`./${e.slug}/update`],{relativeTo:this.route,queryParamsHandling:"merge"})},500)}this.router.navigate(["./"],{relativeTo:this.route,queryParamsHandling:"merge"})});this.subscriptions.add(i)}updateAppInGroup(e,t){let i=t.group?.name||"Ungrouped apps",n=this.groupedApps.find(r=>r.key===i);if(n){let r=n.apps.find(d=>d.client.id===e);r&&this.assignAppProperies(r,t)}}moveAppBetweenGroups(e,t,i,n){n.group||(n.group={id:"-1",name:"Ungrouped apps",sortOrder:0});let r=this.groupedApps.findIndex(D=>D.key===t),d=this.groupedApps.findIndex(D=>D.key===i);if(r===-1)return;let g=this.groupedApps[r].apps,f=g.findIndex(D=>D.client.id===e);if(f===-1)return;let y=g[f];if(this.assignAppProperies(y,n),d>-1?this.groupedApps[d].apps.push(y):(this.groupedApps.push({key:i,apps:[y]}),this.groupsCount++,n.group.id!=="-1"&&this.groups.push({id:n.group.id,name:n.group.name,sortOrder:n.group.sortOrder,rowVersion:""})),g.splice(f,1),g.length===0){this.groupedApps.splice(r,1),this.groupsCount--;let D=this.groups.findIndex(N=>N.name===t),V=this.groups[D];D!==-1&&V.id!=="-1"&&V.id!=="0"&&this.groups.splice(D,1)}}assignAppProperies(e,t){e.displayName=t.displayName,e.client.name=t.clientName,e.slug=t.slug,e.description=t.description,e.imageUrl=t.imageUrl,e.wikiUrl=t.wikiUrl,e.tags=t.tags,e.group=t.group==null?null:{id:t.group.id,name:t.group.name,sortOrder:t.group.sortOrder},e.rowVersion=t.rowVersion}delete(e){let t="Confirm delete",i=`Are you sure you want to delete the "${e.client.name}" app? This action cannot be undone.`,n={title:t,message:i,requireConfirmation:!0},r=this.dialog.open($e,{width:"500px",data:n}).afterClosed().subscribe(d=>{if(d){let g=this.appsService.deleteApp({appId:e.id,rowVersion:e.rowVersion}).subscribe(()=>{this.appsCount--;let f=e.group?.name??"Ungrouped apps",y=this.groupedApps.findIndex(D=>D.key===f);if(y>-1){let D=this.groupedApps[y].apps.findIndex(V=>V.client.id===e.client.id);D>-1&&(this.groupedApps[y].apps.splice(D,1),this.groupedApps[y].apps.length===0&&(this.groupedApps.splice(y,1),this.groupsCount--))}});this.subscriptions.add(g)}});this.subscriptions.add(r)}view(e,t,i,n){let r={clientId:e,appSlug:t,clientName:i,appId:n},d=this.dialog.open(cr,{data:r,width:"1350px",height:"680px",minWidth:"inherit",maxWidth:"inherit",autoFocus:!1,closeOnNavigation:!1}).afterClosed().subscribe(()=>{this.router.navigate(["./"],{relativeTo:this.route,queryParamsHandling:"merge"})});this.subscriptions.add(d)}copyToClipboard(e){this.utilityService.copyToClipboard(e)}expandAll(){this.accordion.openAll()}collapseAll(){this.accordion.closeAll()}};a.\u0275fac=function(t){return new(t||a)(h(J),h(Fe),h(ce),h(At),h(Ri),h(Le),h(ke),h(Q),h(lo),h(Ni),h(Zt),h(Ti))},a.\u0275cmp=F({type:a,selectors:[["ng-component"]],viewQuery:function(t,i){if(t&1&&(M(bd,5),M(_d,5),M(_e,5)),t&2){let n;S(n=x())&&(i.groupSelect=n.first),S(n=x())&&(i.searchTermInput=n.first),S(n=x())&&(i.accordion=n.first)}},decls:10,vars:4,consts:[["groupSelect",""],["searchTermInput",""],["menu","matMenu"],[1,"px-3"],[1,"title","mb-3"],["class","d-flex-wrapper",4,"ngIf"],["multi",""],[3,"expanded",4,"ngFor","ngForOf"],["mat-fab","","class","position-fixed b-0 r-0 mr-3 mb-3","color","primary","matTooltip","New app","queryParamsHandling","merge",3,"routerLink",4,"ngIf"],["mode","indeterminate","class","position-fixed l-0 b-0",4,"ngIf"],[1,"d-flex-wrapper"],[1,"d-flex"],["appearance","outline",1,"w-25","mr-2","border-bottom-1",3,"click"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"w-25","mr-2","border-bottom-1"],["matInput","",3,"keyup"],["matSuffix",""],[4,"ngIf"],["class","mt-2","mat-stroked-button","","color","primary",3,"click",4,"ngIf"],[1,"spacer"],["mat-icon-button","","matTooltip","Expand All",3,"click","disabled"],["mat-icon-button","","matTooltip","Collapse All",3,"click","disabled"],[3,"value"],["mat-stroked-button","","color","primary",1,"mt-2",3,"click"],[3,"expanded"],[1,"card-container"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["mat-card-avatar","",1,"mat-bg-primary"],[1,"app-icon","bg-white"],[1,"card-subtitle-client-id",2,"font-size","13px"],[1,"position-relative"],["mat-icon-button","","class","list-content-copy icon-mini d-inherit","matTooltip","Copy","matTooltipPosition","right",3,"click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","","queryParamsHandling","merge",3,"routerLink"],["mat-menu-item","",3,"click"],["mat-menu-item","","target","_blank",3,"href",4,"ngIf"],[1,"ww-anywhere"],["disabled","",4,"ngFor","ngForOf"],[1,"card-footer"],["mat-button","","color","primary","queryParamsHandling","merge",3,"routerLink"],["mat-icon-button","","matTooltip","Copy","matTooltipPosition","right",1,"list-content-copy","icon-mini","d-inherit",3,"click"],["mat-menu-item","","target","_blank",3,"href"],["disabled",""],["mat-fab","","color","primary","matTooltip","New app","queryParamsHandling","merge",1,"position-fixed","b-0","r-0","mr-3","mb-3",3,"routerLink"],["mode","indeterminate",1,"position-fixed","l-0","b-0"]],template:function(t,i){t&1&&(s(0,"div",3)(1,"div",4)(2,"h1"),p(3,"Apps"),c()(),k(4,Sd,24,5,"div",5),s(5,"mat-accordion",6),k(6,Ed,6,3,"mat-expansion-panel",7),c()(),k(7,Fd,3,2,"button",8)(8,Ad,1,0,"mat-progress-bar",9),b(9,"router-outlet")),t&2&&(m(4),u("ngIf",i.isProvider),m(2),u("ngForOf",i.groupedApps),m(),u("ngIf",i.isProvider),m(),u("ngIf",i.isLoading))},dependencies:[Ea,Ie,te,Aa,Di,be,fe,Tt,Ue,ae,_e,We,Ke,Ye,vn,ro,so,ni,Vi,oo,Ai,ge,De,ne,Ya,In,yn,wn,Wi,ea,fo,Je,de,Me,mo],styles:[".card-item-three[_ngcontent-%COMP%]{flex-basis:calc(33.33% - 8px)}.card-item-two[_ngcontent-%COMP%]{flex-basis:calc(50% - 8px)}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start;gap:8px}.card-footer[_ngcontent-%COMP%]{margin-top:auto}  .border-bottom-1 .mdc-notched-outline__leading,   .border-bottom-1 .mdc-notched-outline__notch,   .border-bottom-1 .mdc-notched-outline__trailing{border-bottom:1px inset!important;border:0px;border-radius:0!important}  .border-none .mdc-notched-outline__leading,   .border-none .mdc-notched-outline__notch,   .border-none .mdc-notched-outline__trailing{border-bottom:0px!important;border:0px;border-radius:0!important}.d-flex-wrapper[_ngcontent-%COMP%]{height:auto;min-height:82px}.mat-mdc-card-avatar[_ngcontent-%COMP%]{padding:1px}.card-subtitle-client-id[_ngcontent-%COMP%]{font-style:13px}.card-subtitle-client-id[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-style:12px}.list-content-copy[_ngcontent-%COMP%]{scale:.65;position:absolute;top:-16px;left:-11px}"]});let o=a;return o})();var Gn=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[xe]});let o=a;return o})();var lr=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[xe,jn]});let o=a;return o})();var Vd=[],pr=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[Oe.forChild(Vd),Oe]});let o=a;return o})();var mr=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[xe,pr,kt,Gn,lr,ai,xt,Dt,di,Ft,St,ri]});let o=a;return o})();var Od=[],hr=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[Oe.forChild(Od),Oe]});let o=a;return o})();var ur=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[xe,kt,hr,mr,Gn,Mi,xt,Ft,kn,ai,Fi,Gt,St,Dt,Lo,Oi,di,ri,zi,ri,An]});let o=a;return o})();var gr=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[xe,kt,Ft,ai,xt,go,jn,St,zi,Dt]});let o=a;return o})();var Ze=(()=>{let a=class a{constructor(e,t){this.route=e,this.dummyComponentService=t}ngOnInit(){let e=this.route.snapshot.data.path,t=this.route.snapshot.data.data;e&&this.dummyComponentService.emitEvent({path:e,data:t,activatedSnapshot:this.route.snapshot,activatedRoute:this.route})}ngOnDestroy(){this.dummyComponentService.emitEvent(void 0)}};a.\u0275fac=function(t){return new(t||a)(h(Zt),h(Ni))},a.\u0275cmp=F({type:a,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,i){},encapsulation:2});let o=a;return o})();var Pd=[{path:Xe.base,component:dr,children:[{path:Xe.create,pathMatch:"full",component:xn,data:{path:Xe.create}},{path:Xe.update,pathMatch:"full",component:xn,data:{path:Xe.update}},{path:Xe.view,component:xn,data:{path:Xe.view,data:Xe.view},children:[{path:P.viewNewIdentifierMapping,component:Ze,data:{path:P.viewNewIdentifierMapping}},{path:P.viewSettings,component:Ze,data:{path:P.viewSettings}},{path:P.viewSettings2,component:Ze,data:{path:P.viewSettings2}},{path:P.viewCreateSetting,component:Ze,data:{path:P.viewCreateSetting}},{path:P.viewSetting,component:Ze,data:{path:P.viewSetting}},{path:P.viewUpdateSetting,component:Ze,data:{path:P.viewUpdateSetting}},{path:P.viewCopySettingTo,component:Ze,data:{path:P.viewCopySettingTo}},{path:P.viewSettingHistories,component:Ze,data:{path:P.viewSettingHistories}},{path:P.viewSettingHistory,component:Ze,data:{path:P.viewSettingHistory}},{path:P.viewInstances,component:Ze,data:{path:P.viewInstances}},{path:P.viewInstances2,component:Ze,data:{path:P.viewInstances2}},{path:P.viewInstance,component:Ze,data:{path:P.viewInstance}},{path:P.viewConfiguration,component:Ze,data:{path:P.viewConfiguration}},{path:"**",redirectTo:P.viewSettings2}]}]},{path:"**",redirectTo:Xe.base}],fr=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[Oe.forChild(Pd),Oe]});let o=a;return o})();var Rd=[],br=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[Oe.forChild(Rd),Oe]});let o=a;return o})();var Nd=[],_r=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[Oe.forChild(Nd),Oe]});let o=a;return o})();var vr=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[xe,kt,_r,Mi,xt,Fi,Gt,St,Dt,Oi,di,zi,po,Ft]});let o=a;return o})();var Af=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=B({type:a}),a.\u0275inj=L({imports:[xe,fr,_o,br,ur,gr,Mi,kt,Fi,xt,Ft,ai,Gt,St,kn,So,bo,ri,or,di,Dt,An,ri,Oi,vr]});let o=a;return o})();export{Af as AppModule};
